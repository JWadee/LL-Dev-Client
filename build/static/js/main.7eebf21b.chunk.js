(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){},136:function(e,t,a){e.exports=a.p+"static/media/logo.47646def.PNG"},149:function(e,t,a){e.exports=a(231)},154:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},229:function(e,t,a){},230:function(e,t,a){},231:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),c=a.n(l),s=(a(154),a(7)),o=a.n(s),i=a(9),u=a(5),m=a(89),d=a(134),p=function(){return window.history.replaceState({},document.title,window.location.pathname)},f=r.a.createContext(),E=function(){return Object(n.useContext)(f)},b=function(e){var t=e.children,a=e.onRedirectCallback,l=void 0===a?p:a,c=Object(m.a)(e,["children","onRedirectCallback"]),s=Object(n.useState)(),E=Object(u.a)(s,2),b=E[0],h=E[1],y=Object(n.useState)(),g=Object(u.a)(y,2),x=g[0],v=g[1],O=Object(n.useState)(),j=Object(u.a)(O,2),S=j[0],w=j[1],k=Object(n.useState)(!0),T=Object(u.a)(k,2),_=T[0],B=T[1],N=Object(n.useState)(!1),I=Object(u.a)(N,2),C=I[0],F=I[1];Object(n.useEffect)((function(){(function(){var e=Object(i.a)(o.a.mark((function e(){var t,a,n,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)(c);case 2:if(t=e.sent,w(t),!window.location.search.includes("code=")||!window.location.search.includes("state=")){e.next=10;break}return e.next=7,t.handleRedirectCallback();case 7:a=e.sent,n=a.appState,l(n);case 10:return e.next=12,t.isAuthenticated();case 12:if(r=e.sent,h(r),!r){e.next=19;break}return e.next=17,t.getUser();case 17:s=e.sent,v(s);case 19:B(!1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var D=function(){var e=Object(i.a)(o.a.mark((function e(){var t,a,n=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},F(!0),e.prev=2,e.next=5,S.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,F(!1),e.finish(10);case 13:return e.next=15,S.getUser();case 15:a=e.sent,v(a),h(!0);case 18:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.next=3,S.handleRedirectCallback();case 3:return e.next=5,S.getUser();case 5:t=e.sent,B(!1),h(!0),v(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(f.Provider,{value:{isAuthenticated:b,user:x,loading:_,popupOpen:C,loginWithPopup:D,handleRedirectCallback:L,getIdTokenClaims:function(){return S.getIdTokenClaims.apply(S,arguments)},loginWithRedirect:function(){return S.loginWithRedirect.apply(S,arguments)},getTokenSilently:function(){return S.getTokenSilently.apply(S,arguments)},getTokenWithPopup:function(){return S.getTokenWithPopup.apply(S,arguments)},logout:function(){return S.logout.apply(S,arguments)}}},t)},h=a(17),y=a(23),g=Object(y.a)(),x=(a(159),a(160),a(242)),v=(a(161),a(162),a(246)),O=a(236),j=a(147),S=a(245),w=a(54),k=a(11),T=a(136),_=a.n(T),B=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),l=a[0],c=a[1];return Object(n.useEffect)((function(){for(var t=!1,a=0;a<e.permissions.length;a++)e.allowedPermissions.includes(e.permissions[a])&&(t=!0);c(t)}),[]),r.a.createElement("span",null,l&&e.protectedResource,!l&&null)},N=Object(k.b)((function(e){return{permissions:e.user.permissions,ID:e.user.ID,username:e.user.username,balance:e.user.balance}}),(function(e){return{setPermissions:function(t){e({type:"SET_PERMISSIONS",permissions:t})},setUserID:function(t){e({type:"SET_USER_ID",ID:t})},setUsername:function(t){e({type:"SET_USER_USERNAME",username:t})},setBalance:function(t){e({type:"SET_USER_BALANCE",balance:t})}}}))((function(e){var t=E(),a=t.isAuthenticated,l=t.loginWithRedirect,c=t.logout,s=t.getTokenSilently;return Object(n.useEffect)((function(){if(a){var t=function(){var t=Object(i.a)(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s();case 3:return a=t.sent,t.next=6,fetch("https://api.lineleaders.net/accounts/permissions",{headers:{Authorization:"Bearer ".concat(a)}});case 6:return n=t.sent,t.next=9,n.json();case 9:r=t.sent,e.setPermissions(r),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.error(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=Object(i.a)(o.a.mark((function t(){var a,n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s();case 3:return a=t.sent,t.next=6,fetch("https://api.lineleaders.net/accounts/details",{headers:{Authorization:"Bearer ".concat(a)}});case 6:return n=t.sent,t.next=9,n.json();case 9:r=t.sent,e.setUserID(r.intAccountID),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.error(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}}(),r=[];t(),n()}}),[]),r.a.createElement(v.a,{className:"main-nav",expand:"md",sticky:"top"},r.a.createElement(v.a.Brand,null,r.a.createElement(O.a,{src:_.a,rounded:!0,width:"100%",height:"auto"})),r.a.createElement(v.a.Toggle,null),r.a.createElement(v.a.Collapse,null,r.a.createElement(j.a,{className:"mr-auto"},a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(w.LinkContainer,{to:"/book"},r.a.createElement(j.a.Link,null,"Book")),r.a.createElement(S.a,{title:"My Account"},r.a.createElement(S.a.Item,{disabled:!0},"Balance: $",e.balance),r.a.createElement(w.LinkContainer,{to:"/profile"},r.a.createElement(S.a.Item,null,"Profile")),r.a.createElement(B,{permissions:e.permissions,allowedPermissions:["create:contest"],protectedResource:r.a.createElement(w.LinkContainer,{to:"/admin"},r.a.createElement(S.a.Item,null,"Admin"))}),r.a.createElement(S.a.Divider,null),r.a.createElement(S.a.Item,{onClick:function(){return c()}},"Log out"))),!a&&r.a.createElement(j.a.Link,{onClick:function(){return l({})}},"Log in"))))})),I=a(244),C=a(139),F=a(247),D=a(238),L=a(237),R=function(e){return new Date(1e3*e).toLocaleString()},P=function(e){var t,a=e.leg,n=R(a.fixture.time);return"Moneyline"===a.line.type?r.a.createElement("td",null,r.a.createElement("b",null,"Draw"===a.line.team.type?a.line.team.type:a.line.team.name),r.a.createElement("br",null),a.fixture.fixture,r.a.createElement("br",null),n):"Spread"===a.line.type?(t=(a.line.line,a.line.line),r.a.createElement("td",null,r.a.createElement("b",null,a.line.team.name+" "+t),r.a.createElement("br",null),a.fixture.fixture,r.a.createElement("br",null),n)):"Total"===a.line.type?r.a.createElement("td",null,r.a.createElement("b",null,a.line.bet+" "+a.line.line),r.a.createElement("br",null),a.fixture.fixture,r.a.createElement("br",null),n):r.a.createElement(r.a.Fragment,null)},A=(a(65),Object(k.b)((function(e){return{openBets:e.contest.openBets}}))((function(e){return r.a.createElement(L.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"Line(s)"),r.a.createElement("th",null,"Odds"),r.a.createElement("th",null,"Risk"),r.a.createElement("th",null,"Win"))),r.a.createElement("tbody",null,e.openBets.map((function(e){if("Straight"===e.type){var t,a=e.legs[0];if(e.odds>0){var n=e.odds/100;t=parseFloat(e.wager*n).toFixed(2)}else{var l=Math.abs(e.odds)/100;t=parseFloat(e.wager/l).toFixed(2)}return r.a.createElement("tr",{className:"openBet"},r.a.createElement("td",null,e.type),r.a.createElement(P,{leg:a}),r.a.createElement("td",null,e.odds),r.a.createElement("td",null,"$"+parseFloat(e.wager).toFixed(2)),r.a.createElement("td",null,"$"+t))}return r.a.createElement(r.a.Fragment,null)}))))}))),U=Object(k.b)((function(e){return{settledBets:e.contest.settledBets}}))((function(e){return r.a.createElement(L.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"Line(s)"),r.a.createElement("th",null,"Odds"),r.a.createElement("th",null,"Risk"),r.a.createElement("th",null,"Win"))),r.a.createElement("tbody",null,e.settledBets.map((function(e){if("Straight"===e.type){var t,a=e.legs[0];if(e.odds>0){var n=e.odds/100;t=parseFloat(e.wager*n).toFixed(2)}else{var l=Math.abs(e.odds)/100;t=parseFloat(e.wager/l).toFixed(2)}return r.a.createElement("tr",{className:"bet"+e.result},r.a.createElement("td",null,e.type),r.a.createElement(P,{leg:a}),r.a.createElement("td",null,e.odds),r.a.createElement("td",null,"$"+parseFloat(e.wager).toFixed(2)),"W"===e.result?r.a.createElement("td",null,"+$"+t):r.a.createElement(r.a.Fragment,null),"L"===e.result?r.a.createElement("td",null,"-$"+parseFloat(e.wager).toFixed(2)):r.a.createElement(r.a.Fragment,null),"P"===e.result?r.a.createElement("td",null,"-"):r.a.createElement(r.a.Fragment,null))}return r.a.createElement(r.a.Fragment,null)}))))})),W=Object(k.b)((function(e){return{user_id:e.user.ID,openBets:e.user.openBets,settledBets:e.user.settledBets}}),(function(e){return{setOpenBets:function(t){e({type:"SET_OPEN_BETS",bets:t})},setSettledBets:function(t){e({type:"SET_SETTLED_BETS",bets:t})}}}))((function(e){var t=E(),a=(t.loading,t.user,Object(n.useState)(!1)),l=Object(u.a)(a,2),c=(l[0],l[1],Object(n.useState)(!1)),s=Object(u.a)(c,2),m=(s[0],s[1],Object(n.useState)("book")),d=Object(u.a)(m,2),p=d[0],f=d[1];return Object(n.useEffect)((function(){(function(){var t=Object(i.a)(o.a.mark((function t(){var a,n,r,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.lineleaders.net/bets/personal?id="+e.user_id);case 2:return a=t.sent,t.next=5,a.json();case 5:n=t.sent,r=[],l=[],n.forEach((function(e){"W"===e.result||"L"===e.result||"P"===e.Result?l.push(e):r.push(e)})),e.setOpenBets(r),e.setSettledBets(l);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.user_id]),r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{className:"hidden-lg"},r.a.createElement(I.a.Row,null,r.a.createElement(C.a,null,r.a.createElement(I.a.Control,{as:"select",onChange:function(e){return f(e.target.value)}},r.a.createElement("option",{key:"posts",value:"posts"},"Posts"),r.a.createElement("option",{key:"open",value:"open"},"Open ("+e.openBets.length+")"),r.a.createElement("option",{key:"settled",value:"settled"},"Settled"))))),r.a.createElement(F.a,{fill:!0,activeKey:p,onSelect:function(e){return f(e)},id:"contestsTab",className:"hidden-md"},r.a.createElement(D.a,{eventKey:"posts",title:"Posts"}),r.a.createElement(D.a,{eventKey:"open",title:"Open ("+e.openBets.length+")"},r.a.createElement(A,null)),r.a.createElement(D.a,{eventKey:"settled",title:"Settled"},r.a.createElement(U,null))))})),M=function(e){var t=e.component,a=e.path,l=Object(m.a)(e,["component","path"]),c=E(),s=c.loading,u=c.isAuthenticated,d=c.loginWithRedirect;Object(n.useEffect)((function(){s||u||function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({appState:{targetUrl:window.location.pathname}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[s,u,d,a]);return r.a.createElement(h.d,Object.assign({path:a,render:function(e){return!0===u?r.a.createElement(t,e):null}},l))},H=a(239),$=a(248),K=a(138),G=(a(105),a(140),a(55),a(243)),Y=(a(142),a(75),a(143),a(144),a(229),a(20)),J=function(e){return r.a.createElement(L.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2"},"Fixtures Needing Results"))),r.a.createElement("tbody",null,e.fixts.length>0?e.fixts.map((function(t){return r.a.createElement("tr",{key:t.fixture_id,onClick:function(){return e.setSelected(t)}},r.a.createElement("td",null,R(t.fixture.commence_time)),r.a.createElement("td",null,t.fixture.home_team+" vs. "+t.fixture.away_team))})):r.a.createElement(r.a.Fragment,null)))},z=a(240);var V=function(e){return 0===Object.keys(e).length},q=function(e){var t=Object(n.useState)(),a=Object(u.a)(t,2),l=a[0],c=a[1],s=Object(n.useState)(),m=Object(u.a)(s,2),d=m[0],p=m[1],f=Object(n.useState)(),E=Object(u.a)(f,2),b=E[0],h=E[1],y=function(){var t=Object(i.a)(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a={fixt_id:e.fixt.fixture_id,results:{home_score:l,away_score:d}},"https://api.lineleaders.net/fixtures/updateResults",n={method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(a)},fetch("https://api.lineleaders.net/fixtures/updateResults",n).then((function(t){e.removeFixt(e.fixt.fixture_id)})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement($.a,null,r.a.createElement($.a.Header,null,"Enter Results"),r.a.createElement($.a.Body,null,V(e.fixt)?r.a.createElement(r.a.Fragment,null):r.a.createElement(I.a,null,r.a.createElement(I.a.Row,null,r.a.createElement(C.a,null,r.a.createElement(I.a.Control,{type:"number",onChange:function(e){return p(e.target.value)}})),r.a.createElement(I.a.Label,{column:!0},e.fixt.fixture.away_team)),r.a.createElement(I.a.Row,null,r.a.createElement(C.a,null,r.a.createElement(I.a.Control,{type:"number",onChange:function(e){return c(e.target.value)}})),r.a.createElement(I.a.Label,{column:!0},e.fixt.fixture.home_team)),r.a.createElement(I.a.Row,null,b,r.a.createElement(K.a,{onClick:function(){isNaN(l)||isNaN(d)||d<0||l<0?h(r.a.createElement(z.a,{variant:"danger"},"Enter a valid score in order to save")):(h(),y())}},"Save Results")))))},Q=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)({}),s=Object(u.a)(c,2),m=s[0],d=s[1];Object(n.useEffect)((function(){(function(){var e=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.lineleaders.net/fixtures/needResults");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,l(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return r.a.createElement(H.a,null,r.a.createElement(C.a,{md:8},r.a.createElement(J,{fixts:a,setSelected:d})),r.a.createElement(C.a,{md:4},r.a.createElement(q,{fixt:m,removeFixt:function(e){d({});var t=a.findIndex((function(t){return t.fixture_id===e})),n=Object(Y.a)(a);n.splice(t,1),l(n)}})))},X=function(){var e=Object(n.useState)(r.a.createElement(r.a.Fragment,null)),t=Object(u.a)(e,2);t[0],t[1];return r.a.createElement(H.a,null,r.a.createElement(Q,null))},Z=a(241),ee=function(e){return r.a.createElement(L.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Contest Name"),r.a.createElement("th",null,"Style"),r.a.createElement("th",null))),r.a.createElement("tbody",null,e.contests.map((function(e){return r.a.createElement("tr",{key:e.intContestID},r.a.createElement("td",null,e.strContestName),r.a.createElement("td",null,e.strContestType),r.a.createElement("th",null,e.decEntry),r.a.createElement("td",null,r.a.createElement(w.LinkContainer,{to:"/live-contest/"+e.intContestID+"/entry/"+e.intContestPlayerID},r.a.createElement(K.a,null,"Open"))))}))))},te=function(e,t){var a=new Date(e),n=(new Date).getTime(),r=new Date(e).getTime()-n,l=new Date(e).getDay(),c=new Date(e).getHours(),s=c>=12?"pm":"am";c>12&&(c-=12);var o=Math.floor(r/864e5),i=Math.floor(r%864e5/36e5),u=Math.floor(r%36e5/6e4),m=Math.floor(r%6e4/1e3),d="";d=r<0?"TIME UP!!":o<1?i+":"+u+":"+m:o<=6?["Mon","Tue","Wed","Thur","Fri","Sat","Sun"][l-1]+" "+c+s:a.getMonth()+1+"/"+a.getDate()+" "+c+s;var p="countdown"+t;document.getElementById(p).innerHTML=d},ae=function(e){var t=e.contests;return Object(n.useEffect)((function(){if(t.length>0)var e=setInterval((function(){t.forEach((function(e,t){te(e.dtmStart,t)}))}),1e3);return function(){clearInterval(e)}})),r.a.createElement(L.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Contest Name"),r.a.createElement("th",null,"Live In"),r.a.createElement("th",null,"Game Style"),r.a.createElement("th",null,"Entry Fee"),r.a.createElement("th",null,"Prizes"))),r.a.createElement("tbody",null,e.contests.map((function(e,t){return r.a.createElement("tr",{key:e.intContestID+t},r.a.createElement("td",null,e.strContestName),r.a.createElement("td",{id:"countdown"+t}),r.a.createElement("td",null,e.strContestType),r.a.createElement("td",null,"$",e.decEntryFee),r.a.createElement("td",null,"$",e.decPrizePool))}))))},ne=function(e){return r.a.createElement(L.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Contest Name"),r.a.createElement("th",null,"Style"))),r.a.createElement("tbody",null,e.contests.map((function(e){return r.a.createElement("tr",{key:e.intContestID},r.a.createElement("td",null,e.strContestName),r.a.createElement("td",null,e.strContestType))}))))},re=(Object(k.b)((function(e){return{accountID:e.user.ID}}))((function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),l=a[0],c=a[1],s=Object(n.useState)([]),m=Object(u.a)(s,2),d=m[0],p=m[1],f=Object(n.useState)([]),E=Object(u.a)(f,2),b=E[0],h=E[1],y=Object(n.useState)([]),g=Object(u.a)(y,2),x=g[0],v=g[1],O=Object(n.useState)(!1),j=Object(u.a)(O,2),S=j[0],w=j[1];return setTimeout((function(){w(!0)}),1e3),Object(n.useEffect)((function(){(function(){var t=Object(i.a)(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.lineleaders.net/contests/myContests?ID="+e.accountID);case 2:return a=t.sent,t.next=5,a.json();case 5:n=t.sent,c(n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(n.useEffect)((function(){if(l.length>0){var e=[],t=[],a=[],n=0;l.forEach((function(r){1==r.intContestStatusID?t.push(r):2==r.intContestStatusID?e.push(r):3==r.intContestStatusID&&a.push(r),n++})),n==l.length&&(p(e),h(t),v(a))}}),[l]),l.length>0&&!0===S?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"MY CONTESTS"),r.a.createElement(F.a,{fill:!0,defaultActiveKey:"live",id:"contestsTab"},r.a.createElement(D.a,{eventKey:"live",title:"LIVE"},r.a.createElement(ee,{contests:d})),r.a.createElement(D.a,{eventKey:"upcoming",title:"UPCOMING"},r.a.createElement(ae,{contests:b})),r.a.createElement(D.a,{eventKey:"history",title:"HISTORY"},r.a.createElement(ne,{contests:x})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{animation:"border"}))})),function(e){var t=e.contest;return r.a.createElement(G.a,{show:e.show,onHide:e.onHide},r.a.createElement(G.a.Header,{closeButton:!0},r.a.createElement(G.a.Title,null,"Contest Details")),r.a.createElement(G.a.Body,null,r.a.createElement("p",null,"Type: ",t.contestType),r.a.createElement("p",null,"ID: ",t.contestID)))}),le=(Object(k.b)((function(e){return{accountID:e.user.ID}}))((function(e){var t=e.contests,a=Object(n.useState)({}),l=Object(u.a)(a,2),c=l[0],s=l[1],m=Object(n.useState)(!1),d=Object(u.a)(m,2),p=d[0],f=d[1],E=function(){var t=Object(i.a)(o.a.mark((function t(a){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={contestID:a,accountID:e.accountID},r={method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}},"https://api.lineleaders.net/contests/enter",fetch("https://api.lineleaders.net/contests/enter",r).then((function(e){console.log(e.json())})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){if(t.length>0)var e=setInterval((function(){t.forEach((function(e,t){te(e.start,t)}))}),1e3);return function(){clearInterval(e)}}));var b=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:f(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(H.a,null,r.a.createElement(C.a,null,r.a.createElement("h3",null,"Open Contests"),r.a.createElement(L.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Contest Name"),r.a.createElement("th",{className:"hidden-md"},"Style"),r.a.createElement("th",null,"Entry Fee"),r.a.createElement("th",null,"Prizepool"),r.a.createElement("th",{className:"hidden-md"},"Entries"),r.a.createElement("th",{className:"hidden-md"},"Bankroll"),r.a.createElement("th",null,"Start"),r.a.createElement("th",{className:"hidden-md"}),r.a.createElement("th",null))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:e.contestID},r.a.createElement("td",null,e.name),r.a.createElement("td",{className:"hidden-md"},e.contestType),r.a.createElement("td",null,"$",e.entry),r.a.createElement("td",null,"$",e.prizepool),r.a.createElement("td",{className:"hidden-md"},"Entries(need calculated)"),r.a.createElement("td",{className:"hidden-md"},"$",e.bankroll),r.a.createElement("td",{id:"countdown"+t}),r.a.createElement("td",{className:"hidden-md"},r.a.createElement(K.a,{onClick:function(){return b(e)}},"Details")),r.a.createElement("td",null,r.a.createElement(K.a,{onClick:function(){return E(e.contestID)}},"Enter")))}))))),r.a.createElement(re,{contest:c,show:p,onHide:function(){return f(!1)}}))})),function(e){return Number(e).toLocaleString("en-US",{style:"currency",currency:"USD"})}),ce=(a(230),Object(k.b)((function(e){return{leaderboards:e.contest.leaderboards}}))((function(e){return console.log(e),r.a.createElement(L.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Place"),r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Bankroll"),r.a.createElement("th",null,"W/L"))),r.a.createElement("tbody",null,e.leaderboards.map((function(e,t){var a="",n=le(e.bankroll);return a=e.p>0?e.w+"-"+e.l+"-"+e.p:e.w+"-"+e.l,r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.email),r.a.createElement("td",null,n),r.a.createElement("td",null,a))}))))}))),se=function(e){var t=parseFloat(e),a="";return 2===t?a="EVEN":t<2?a=Math.round(-100/(t-1)):t>2&&(a="+"+Math.round(100*(t-1))),a},oe=function(e){var t,a=e.leg,n=R(a.fixture.time);return"Moneyline"===a.line.type?r.a.createElement("td",null,r.a.createElement("b",null,"Draw"===a.line.team.type?a.line.team.type:a.line.team.name),r.a.createElement("br",null),a.fixture.fixture,r.a.createElement("br",null),n):"Spread"===a.line.type?(t=(a.line.line,a.line.line),r.a.createElement("td",null,r.a.createElement("b",null,a.line.team.name+" "+t),r.a.createElement("br",null),a.fixture.fixture,r.a.createElement("br",null),n)):"Total"===a.line.type?r.a.createElement("td",null,r.a.createElement("b",null,a.line.bet+" "+a.line.line),r.a.createElement("br",null),a.fixture.fixture,r.a.createElement("br",null),n):r.a.createElement(r.a.Fragment,null)},ie=Object(k.b)((function(e){return{settledBets:e.contest.settledBets}}))((function(e){return r.a.createElement(L.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"Line(s)"),r.a.createElement("th",null,"Odds"),r.a.createElement("th",null,"Risk"),r.a.createElement("th",null,"Win"))),r.a.createElement("tbody",null,e.settledBets.map((function(e){if("Straight"===e.type){var t=e.legs[0],a=e.odds-1;return a=(a*e.wager).toFixed(2),r.a.createElement("tr",{className:"bet"+e.result},r.a.createElement("td",null,e.type),r.a.createElement(oe,{leg:t}),r.a.createElement("td",null,se(e.odds)),r.a.createElement("td",null,"$"+parseFloat(e.wager).toFixed(2)),"W"===e.result?r.a.createElement("td",null,"+$"+a):r.a.createElement(r.a.Fragment,null),"L"===e.result?r.a.createElement("td",null,"-$"+parseFloat(e.wager).toFixed(2)):r.a.createElement(r.a.Fragment,null),"P"===e.result?r.a.createElement("td",null,"-"):r.a.createElement(r.a.Fragment,null))}return r.a.createElement(r.a.Fragment,null)}))))})),ue=Object(k.b)((function(e){return{openBets:e.contest.openBets}}))((function(e){return r.a.createElement(L.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"Line(s)"),r.a.createElement("th",null,"Odds"),r.a.createElement("th",null,"Risk"),r.a.createElement("th",null,"Win"))),r.a.createElement("tbody",null,e.openBets.map((function(e){if("Straight"===e.type){var t=e.legs[0],a=e.odds-1;return a=(a*e.wager).toFixed(2),r.a.createElement("tr",{className:"openBet"},r.a.createElement("td",null,e.type),r.a.createElement(oe,{leg:t}),r.a.createElement("td",null,se(e.odds)),r.a.createElement("td",null,"$"+parseFloat(e.wager).toFixed(2)),r.a.createElement("td",null,"$"+a))}return r.a.createElement(r.a.Fragment,null)}))))})),me=(a(131),a(132),a(8)),de=(a(133),function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),l=a[0],c=a[1],s=Object(n.useState)(""),o=Object(u.a)(s,2),i=o[0],m=o[1],d=e.bet,p=e.i;Object(n.useEffect)((function(){if(""!==l){var t,a=parseFloat(d.odds.american),n=parseFloat(l);if(a>0)t=parseFloat(n*parseFloat(a)/100).toFixed(2);else a=Math.abs(a),t=parseFloat(n/(a/100)).toFixed(2);m(t)}else m("");e.addWager(d.id,l)}),[l]);var f=function(e){for(var t=document.getElementsByClassName("betDetails"+e),a=document.getElementById("arrow"+e),n=0;n<t.length;n++)"none"===t[n].style.display?(t[n].style.display="",a.classList.remove("right"),a.classList.add("down")):(t[n].style.display="none",a.classList.remove("down"),a.classList.add("right"))};return r.a.createElement(L.a,{className:"bet"},r.a.createElement("tbody",null,r.a.createElement("tr",null,"Spread"===d.type?r.a.createElement("td",{onClick:function(){return f(p)}},r.a.createElement("i",{className:"arrow right",id:"arrow"+p})," ",d.bet+" "+d.handicap):"Total"===d.type?r.a.createElement("td",{onClick:function(){return f(p)}},r.a.createElement("i",{className:"arrow right",id:"arrow"+p})," ",d.bet+" "+d.total," "):r.a.createElement("td",{onClick:function(){return f(p)}},r.a.createElement("i",{className:"arrow right",id:"arrow"+p})," ",d.bet),r.a.createElement("td",{className:"odds"},d.odds.american," ",r.a.createElement("i",{onClick:function(){return e.removeBets([d.id])}},"\xd7"))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2},d.type)),r.a.createElement("tr",{style:{display:"none"},className:"betDetails"+p},r.a.createElement("td",{colSpan:2},d.fixture)),r.a.createElement("tr",{style:{display:"none"},className:"betDetails"+p},r.a.createElement("td",{colSpan:2},R(d.time))),"Straight"===e.slipType?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2},r.a.createElement(I.a,null,r.a.createElement(I.a.Row,null,r.a.createElement(I.a.Group,{as:C.a},r.a.createElement(I.a.Control,{type:"number",placeholder:"Risk",value:l,onChange:function(e){return c(e.target.value)}})),r.a.createElement(I.a.Group,{as:C.a},r.a.createElement(I.a.Control,{type:"text",tabIndex:"-1",placeholder:"Win",value:i,readOnly:!0})))))):r.a.createElement(r.a.Fragment,null)))}),pe={type:String,wager:Number,odds:Number,result:String},fe={fixture:{fixtureID:Number,fixture:String,time:Number},line:Object,odds:Number,result:String},Ee={type:"Moneyline",team:{type:String,name:String}},be={type:"Spread",team:{type:String,name:String},line:Number},he={type:"Total",bet:String,line:Number},ye=function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.lineleaders.net/bets/byEntry?entryid="+t);case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,r={open:[],settled:[]},n.forEach((function(e){"W"===e.result||"L"===e.result||"P"===e.Result?r.settled.push(e):r.open.push(e)})),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(e){return r.a.createElement(G.a,{show:e.show,onHide:e.close},r.a.createElement(G.a.Header,{closeButton:!0},r.a.createElement(G.a.Title,null,e.message)),r.a.createElement(G.a.Footer,null,r.a.createElement(K.a,{variant:"secondary",onClick:e.close},"Close"),r.a.createElement(K.a,{variant:"primary",onClick:e.action},e.buttonText)))},xe=Object(k.b)((function(e){return{available:e.contest.available}}),(function(e){return{setOpenBets:function(t){e({type:"SET_OPEN_BETS",bets:t})},setSettledBets:function(t){e({type:"SET_SETTLED_BETS",bets:t})}}}))((function(e){var t=Object(h.n)(),a=Object(n.useState)(),l=Object(u.a)(a,2),c=l[0],s=l[1],m=Object(n.useState)(!1),d=Object(u.a)(m,2),p=d[0],f=d[1],E=e.bets,b=Object(n.useState)("Straight"),y=Object(u.a)(b,2),g=y[0],x=(y[1],Object(n.useState)([])),v=Object(u.a)(x,2),O=v[0],j=v[1],S=function(e,t){var a=E.map((function(e){return e.id})).indexOf(e),n=E;n[a].wager=t,E=n},w=function(e){var a=Object(me.a)({},pe);a.type=g,a.wager=e.wager,a.odds=e.odds.decimal,a.result="";var n=Object(me.a)({},fe),r=e.type;if("Spread"===r){var l=Object(me.a)({},be);l.team=Object(me.a)({},l.team),l.team.type=e.team.type,l.team.name=e.team.name,l.line=e.handicap,n.fixture=Object(me.a)({},n.fixture),n.fixture.fixtureID=e.fixtureID,n.fixture.fixture=e.fixture,n.fixture.time=e.time,n.line=l,n.odds=e.odds.decimal,n.result=""}else if("3-Way Moneyline"===r){var c=Object(me.a)({},Ee);c.team=Object(me.a)({},c.team),c.team.type=e.team.type,c.team.name=e.team.name,n.fixture=Object(me.a)({},n.fixture),n.fixture.fixtureID=e.fixtureID,n.fixture.fixture=e.fixture,n.fixture.time=e.time,n.line=c,n.odds=e.odds.decimal,n.result=""}else if("Total"===r){var s=Object(me.a)({},he);s.bet=e.bet,s.line=e.total,n.fixture=Object(me.a)({},n.fixture),n.fixture.fixtureID=e.fixtureID,n.fixture.fixture=e.fixture,n.fixture.time=e.time,n.line=s,n.odds=e.odds.decimal,n.result=""}return{contestPlayerID:t.params.entryid,jsonBet:a,leg:n}},k=function(){var t=Object(i.a)(o.a.mark((function t(){var a,n,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=0,n={isError:!1,message:String},t.next=4,E.forEach((function(e){e.wager>0?a+=parseFloat(e.wager):(n.isError=!0,n.message="Please enter a valid wager amount for all bets")}));case 4:if(a>e.available&&(n.isError=!0,n.message="Cash Available: $"+e.available),!0!==n.isError){t.next=10;break}return s(r.a.createElement(z.a,{variant:"danger"},n.message)),t.abrupt("return");case 10:s(),f(!0),"Straight"===g&&(l=[],E.forEach((function(e){var t=w(e);l.push(t)})),j(l));case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),T=function(){var a=Object(i.a)(o.a.mark((function a(){var n,r,l,c,s;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return f(!1),n={bets:O},"https://api.lineleaders.net/bets/create",r={method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(n)},a.next=6,fetch("https://api.lineleaders.net/bets/create",r);case 6:return l=a.sent,a.next=9,l.json();case 9:if(201!==a.sent.code){a.next=19;break}return c=[],E.forEach((function(e){c.push(e.id)})),e.removeBets(c),a.next=16,ye(t.params.entryid);case 16:s=a.sent,e.setOpenBets(s.open),e.setSettledBets(s.settled);case 19:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,null,r.a.createElement($.a.Header,null,"Bet Slip"),r.a.createElement($.a.Body,null,E.map((function(t,a){return r.a.createElement(de,{key:a,bet:t,i:a,removeBets:e.removeBets,slipType:g,addWager:S})}))),r.a.createElement($.a.Footer,null,c,r.a.createElement(K.a,{onClick:function(){return k()},variant:"primary"},"Place Bet(s)"))),r.a.createElement(ge,{close:function(){j([]),f(!1)},show:p,action:T,buttonText:"Yes",message:"Are you ready to place your bets?"}))})),ve=(a(101),function(e){if(isNaN(e)){var t=e.split(",");return(parseFloat(t[0])+parseFloat(t[1]))/2}return e}),Oe=function(e){var t=function(t,a){var n=Object(Y.a)(e.bets),r=a+"-"+t.id,l=document.getElementById(r);n.map((function(e){return e.id})).indexOf(r)>-1?e.removeBet(a+"-"+t.id):(!function(t,a){var n=Object(Y.a)(e.bets),r={id:a+"-"+t.id,time:t.time,wager:Number,fixture:t.away.name+" vs "+t.home.name,fixtureID:t.id};switch(a){case"away-spread":r.bet=t.away.name,r.odds={american:se(t.odds.main.sp.game_lines.odds[3].odds),decimal:t.odds.main.sp.game_lines.odds[3].odds},r.handicap=ve(t.odds.main.sp.game_lines.odds[3].handicap),r.type="Spread",r.team={type:"Away",name:t.away.name};break;case"away-ml":r.type="3-Way Moneyline",r.bet=t.away.name,r.odds={american:se(t.odds.main.sp.game_lines.odds[5].odds),decimal:t.odds.main.sp.game_lines.odds[5].odds},r.team={type:"Away",name:t.away.name};break;case"home-spread":r.bet=t.home.name,r.handicap=ve(t.odds.main.sp.game_lines.odds[0].handicap),r.odds={american:se(t.odds.main.sp.game_lines.odds[0].odds),decimal:t.odds.main.sp.game_lines.odds[0].odds},r.type="Spread",r.team={type:"Home",name:t.home.name};break;case"home-ml":r.bet=t.home.name,r.odds={american:se(t.odds.main.sp.game_lines.odds[2].odds),decimal:t.odds.main.sp.game_lines.odds[2].odds},r.type="3-Way Moneyline",r.team={type:"Home",name:t.home.name};break;case"over":var l=t.odds.main.sp.game_lines.odds[1].handicap.match(/[+-]?\d+(\.\d+)?/g);r.odds={american:se(t.odds.main.sp.game_lines.odds[1].odds),decimal:t.odds.main.sp.game_lines.odds[1].odds},r.type="Total",r.bet="Over",r.total=l;break;case"under":var c=t.odds.main.sp.game_lines.odds[4].handicap.match(/[+-]?\d+(\.\d+)?/g);r.odds={american:se(t.odds.main.sp.game_lines.odds[4].odds),decimal:t.odds.main.sp.game_lines.odds[4].odds},r.type="Total",r.bet="Under",r.total=c}n.push(r),e.setBets(n)}(t,a),l.classList.add("selected-bet"))};return r.a.createElement(H.a,null,r.a.createElement(C.a,{md:12},r.a.createElement(L.a,{key:e.fixtures[0].league.leagueID,responsive:!0},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,e.league.name)),e.fixtures.map((function(a){var n=e.formatTime(a.time);return V(a.odds.main.sp)?r.a.createElement(r.a.Fragment,null):r.a.createElement("tr",{key:a.id,className:"fixtRow"},r.a.createElement("td",{className:"fixtTime"},n),r.a.createElement("td",{className:"nestedFixt"},r.a.createElement(L.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Fixture"),r.a.createElement("th",null,"Spread"),r.a.createElement("th",null,"Win"),r.a.createElement("th",null,"Total"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,a.away.name),"object"==typeof a.odds.main.sp.game_lines.odds[3]?r.a.createElement("td",{className:"line",id:"away-spread-"+a.id,onClick:function(){return t(a,"away-spread")}},ve(a.odds.main.sp.game_lines.odds[3].handicap)+" ("+se(a.odds.main.sp.game_lines.odds[3].odds)+")"):r.a.createElement("td",null,"-"),"object"==typeof a.odds.main.sp.game_lines.odds[5]?r.a.createElement("td",{className:"line",id:"away-ml-"+a.id,onClick:function(){return t(a,"away-ml")}},se(a.odds.main.sp.game_lines.odds[5].odds)):r.a.createElement("td",null,"-"),"object"==typeof a.odds.main.sp.game_lines.odds[1]?r.a.createElement("td",{className:"line",id:"over-"+a.id,onClick:function(){return t(a,"over")}},a.odds.main.sp.game_lines.odds[1].handicap+" ("+se(a.odds.main.sp.game_lines.odds[1].odds)+")"):r.a.createElement("td",null,"-")),r.a.createElement("tr",null,r.a.createElement("td",null,a.home.name),"object"==typeof a.odds.main.sp.game_lines.odds[0]?r.a.createElement("td",{className:"line",id:"home-spread-"+a.id,onClick:function(){return t(a,"home-spread")}},ve(a.odds.main.sp.game_lines.odds[0].handicap)+" ("+se(a.odds.main.sp.game_lines.odds[0].odds)+")"):r.a.createElement("td",null,"-"),"object"==typeof a.odds.main.sp.game_lines.odds[2]?r.a.createElement("td",{className:"line",id:"home-ml-"+a.id,onClick:function(){return t(a,"home-ml")}},se(a.odds.main.sp.game_lines.odds[2].odds)):r.a.createElement("td",null,"-"),"object"==typeof a.odds.main.sp.game_lines.odds[4]?r.a.createElement("td",{className:"line",id:"under-"+a.id,onClick:function(){return t(a,"under")}},a.odds.main.sp.game_lines.odds[4].handicap+" ("+se(a.odds.main.sp.game_lines.odds[4].odds)+")"):r.a.createElement("td",null,"-"))))))}))))))},je=function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),l=(a[0],a[1]),c=Object(n.useState)([]),s=Object(u.a)(c,2),o=s[0],i=s[1],m=function(e){console.log(e);var t=Object(Y.a)(o),a=t.map((function(e){return e.id})).indexOf(e);document.getElementById(e).classList.remove("selected-bet"),t.splice(a,1),console.log(t),i(t)};return r.a.createElement(H.a,null,r.a.createElement(C.a,{md:8,sm:12},r.a.createElement(I.a,null,r.a.createElement(I.a.Row,null,r.a.createElement(C.a,null,r.a.createElement(I.a.Control,{as:"select",onChange:function(e){return l(e.target.value)}},r.a.createElement("option",null,"All Leagues"),e.leagues.map((function(e){return r.a.createElement("option",{key:e.intLeagueID,value:e.intLeagueID},e.strLeagueName)})))))),e.upcoming.map((function(e){var t=e.fixtures[0].league;return 12===parseInt(e.fixtures[0].sport_id)?r.a.createElement(Oe,{fixtures:e.fixtures,bets:o,removeBet:m,setBets:i,league:t,formatTime:R}):r.a.createElement(r.a.Fragment,null)}))),r.a.createElement(C.a,{md:4,sm:12},r.a.createElement(xe,{bets:o,removeBets:function(e){var t=Object(Y.a)(o);e.forEach((function(e){var a=t.map((function(e){return e.id})).indexOf(e);document.getElementById(e).classList.remove("selected-bet"),t.splice(a,1),console.log(t)})),i(t)}})))},Se=(Object(k.b)((function(e){return{contest:e.contest.contest,leaderboards:e.contest.leaderboards,entryID:e.contest.entryID,bankroll:e.contest.bankroll,available:e.contest.available,openBets:e.contest.openBets,settledBets:e.contest.settledBets,leagues:e.contest.leagues,upcomingFixts:e.contest.upcomingFixts,inplayFixts:e.contest.inplayFixts}}),(function(e){return{setContest:function(t){e({type:"SET_CONTEST",contest:t})},setEntryID:function(t){e({type:"SET_ENTRY_ID",ID:t})},setAvailable:function(t){e({type:"SET_AVAILABLE",available:t})},setBankroll:function(t){e({type:"SET_BANKROLL",bankroll:t})},setOpenBets:function(t){e({type:"SET_OPEN_BETS",bets:t})},setSettledBets:function(t){e({type:"SET_SETTLED_BETS",bets:t})},setLeagues:function(t){e({type:"SET_LEAGUES",leagues:t})},setUpcoming:function(t){e({type:"SET_UPCOMING",upcoming:t})},setInplay:function(t){e({type:"SET_INPLAY",inplay:t})},setLeaderboards:function(t){e({type:"SET_LEADERBOARDS",leaderboards:t})}}}))((function(e){var t=Object(h.n)(),a=Object(n.useState)(!1),l=Object(u.a)(a,2),c=l[0],s=l[1],m=Object(n.useState)("book"),d=Object(u.a)(m,2),p=d[0],f=d[1];Object(n.useEffect)((function(){var a=function(){var a=Object(i.a)(o.a.mark((function a(){var n,l;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("https://api.lineleaders.net/contests/byID?id="+t.params.contestid);case 2:return n=a.sent,a.next=5,n.json();case 5:l=a.sent,e.setContest(l),r();case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),n=function(){var a=Object(i.a)(o.a.mark((function a(){var n,r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("https://api.lineleaders.net/contests/contestLeagues/byID?id="+t.params.contestid);case 2:return n=a.sent,a.next=5,n.json();case 5:r=a.sent,e.setLeagues(r);case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),r=function(){var a=Object(i.a)(o.a.mark((function a(){var n,r,l,c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("https://api.lineleaders.net/bets/byEntry?entryid="+t.params.entryid);case 2:return n=a.sent,a.next=5,n.json();case 5:r=a.sent,l=[],c=[],r.forEach((function(e){"W"===e.result||"L"===e.result||"P"===e.Result?c.push(e):l.push(e)})),e.setOpenBets(l),e.setSettledBets(c);case 11:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();a(),n(),E()}),[]);var E=function(){var a=Object(i.a)(o.a.mark((function a(){var n,r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("https://api.lineleaders.net/contests/leaderboards/?id="+t.params.contestid);case 2:return n=a.sent,a.next=5,n.json();case 5:(r=a.sent).length>0&&e.setLeaderboards(r);case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),b=function(t){var a=[],n=[];t.forEach((function(e){a.push({leagueID:e.leagueID,fixtures:[]}),n.push({leagueID:e.leagueID,fixtures:[]}),e.fixtures.forEach((function(t){if(0==t.time_status){var r=a.findIndex((function(t){return parseInt(t.leagueID)===parseInt(e.leagueID)}));a[r].fixtures.push(t)}else{var l=n.findIndex((function(t){return parseInt(t.leagueID)===parseInt(e.leagueID)}));n[l].fixtures.push(t)}}))})),e.setUpcoming(a),e.setInplay(n),s(!0)};return Object(n.useEffect)((function(){V(e.contest)||function(){var t=Object(i.a)(o.a.mark((function t(){var a,n,r,l,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((a=e.leagues.map((function(e){return e.intLeagueID}))).length>0)){t.next=12;break}return n={leagueIDs:[a],start:e.contest.dtmStart,end:e.contest.dtmEnd},"https://api.lineleaders.net/fixtures/byLeagues/withTimeFrame",r={method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(n)},t.next=7,fetch("https://api.lineleaders.net/fixtures/byLeagues/withTimeFrame",r);case 7:return l=t.sent,t.next=10,l.json();case 10:c=t.sent,b(c);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[e.leagues,e.contest]),Object(n.useEffect)((function(){var t=0;e.settledBets.forEach((function(e){if("W"===e.result){var a=parseFloat(e.odds-1);a*=parseFloat(e.wager),t+=a}else if("L"===e.result)t-=parseFloat(e.wager);else if("P"===e.result)return})),e.setBankroll(parseFloat(t).toFixed(2))}),[e.settledBets]),Object(n.useEffect)((function(){if(!isNaN(e.bankroll)){var t=parseFloat(e.bankroll)+parseFloat(e.contest.decInitialBankRoll);e.openBets.forEach((function(e){t-=parseFloat(e.wager)})),e.setAvailable(t)}}),[e.openBets,e.bankroll]),Object.getOwnPropertyNames(e.contest).length>0&&!0===c?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,e.contest.strContestName),r.a.createElement("br",null),r.a.createElement("b",null,"Available:")," ",le(e.available),r.a.createElement("b",null," Bankroll:")," ",le(e.bankroll),r.a.createElement(I.a,{className:"hidden-lg"},r.a.createElement(I.a.Row,null,r.a.createElement(C.a,null,r.a.createElement(I.a.Control,{as:"select",onChange:function(e){return f(e.target.value)}},r.a.createElement("option",{key:"book",value:"book"},"Book"),r.a.createElement("option",{key:"open",value:"open"},"Open ("+e.openBets.length+")"),r.a.createElement("option",{key:"settled",value:"settled"},"Settled"),r.a.createElement("option",{key:"leaderboard",value:"leaderboard"},"Leaderboard"))))),r.a.createElement(F.a,{fill:!0,activeKey:p,onSelect:function(e){return f(e)},id:"contestsTab",className:"hidden-md"},r.a.createElement(D.a,{eventKey:"book",title:"BOOK"},r.a.createElement(je,{leagues:e.leagues,inplay:e.inplayFixts,upcoming:e.upcomingFixts})),r.a.createElement(D.a,{eventKey:"open",title:"OPEN ("+e.openBets.length+")"},r.a.createElement(ue,null)),r.a.createElement(D.a,{eventKey:"settled",title:"SETTLED"},r.a.createElement(ie,null)),r.a.createElement(D.a,{eventKey:"leaderboard",title:"LEADERBOARD"},r.a.createElement(ce,null)))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{animation:"border"}))})),function(e){var t=e.fixt,a=R(t.fixture.commence_time),n=function(t,a){var n=Object(Y.a)(e.bets),r=a+"-"+t.fixture_id,l=document.getElementById(r);n.map((function(e){return e.id})).indexOf(r)>-1?e.removeBet(a+"-"+t.fixture_id):(!function(t,a){var n=Object(Y.a)(e.bets),r={id:a+"-"+t.fixture_id,time:t.fixture.commence_time,wager:Number,fixture:t.fixture.home_team+" vs "+t.fixture.away_team,fixtureID:t.fixture_id};switch(a){case"away-spread":r.bet=t.fixture.away_team,r.odds=t.fixture.odds.spreads.away.odds,r.handicap=ve(t.fixture.odds.spreads.away.points),r.type="Spread",r.team={type:"Away",name:t.fixture.away_team};break;case"away-ml":r.type="Moneyline",r.bet=t.fixture.away_team,r.odds=t.fixture.odds.h2h.away,r.team={type:"Away",name:t.fixture.away_team};break;case"home-spread":r.bet=t.fixture.home_team,r.handicap=ve(t.fixture.odds.spreads.home.points),r.odds=t.fixture.odds.spreads.home.odds,r.type="Spread",r.team={type:"Home",name:t.fixture.home_team};break;case"home-ml":r.bet=t.fixture.home_team,r.odds=t.fixture.odds.h2h.home,r.type="Moneyline",r.team={type:"Home",name:t.fixture.home_team};break;case"over":r.odds=t.fixture.odds.totals.over,r.type="Total",r.bet="Over",r.total=t.fixture.odds.totals.points;break;case"under":r.odds=t.fixture.odds.totals.under,r.type="Total",r.bet="Under",r.total=t.fixture.odds.totals.points}n.push(r),e.setBets(n)}(t,a),l.classList.add("selected-bet"))};return r.a.createElement(L.a,{responsive:!0,className:"fixtureTable"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{rowSpan:2,className:"fixtTime"},a),r.a.createElement("td",{className:"fixtCol"},t.fixture.away_team),V(t.fixture.odds.spreads)?r.a.createElement("td",{className:"line"}):r.a.createElement("td",{className:"line",id:"away-spread-"+t.fixture_id,onClick:function(){return n(t,"away-spread")}},t.fixture.odds.spreads.away.points+" ("+t.fixture.odds.spreads.away.odds+")"),V(t.fixture.odds.h2h)?r.a.createElement("td",{className:"line"}):r.a.createElement("td",{className:"line",id:"away-ml-"+t.fixture_id,onClick:function(){return n(t,"away-ml")}},t.fixture.odds.h2h.away),V(t.fixture.odds.totals)?r.a.createElement("td",{className:"line"}):r.a.createElement("td",{className:"line",id:"over-"+t.fixture_id,onClick:function(){return n(t,"over")}},"O"+t.fixture.odds.totals.points+" ("+t.fixture.odds.totals.over+")")),r.a.createElement("tr",null,r.a.createElement("td",{className:"fixtCol"},t.fixture.home_team),V(t.fixture.odds.spreads)?r.a.createElement("td",{className:"line"}):r.a.createElement("td",{className:"line",id:"home-spread-"+t.fixture_id,onClick:function(){return n(t,"home-spread")}},t.fixture.odds.spreads.home.points+" ("+t.fixture.odds.spreads.home.odds+")"),V(t.fixture.odds.h2h)?r.a.createElement("td",{className:"line"}):r.a.createElement("td",{className:"line",id:"home-ml-"+t.fixture_id,onClick:function(){return n(t,"home-ml")}},t.fixture.odds.h2h.home),V(t.fixture.odds.totals)?r.a.createElement("td",{className:"line"}):r.a.createElement("td",{className:"line",id:"under-"+t.fixture_id,onClick:function(){return n(t,"under")}},"U"+t.fixture.odds.totals.points+" ("+t.fixture.odds.totals.under+")"))))}),we=function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),l=a[0],c=a[1],s=Object(n.useState)(""),o=Object(u.a)(s,2),i=o[0],m=o[1],d=e.bet,p=e.i;Object(n.useEffect)((function(){if(""!==l){var t,a=parseFloat(d.odds),n=parseFloat(l);if(a>0)t=parseFloat(n*parseFloat(a)/100).toFixed(2);else a=Math.abs(a),t=parseFloat(n/(a/100)).toFixed(2);m(t)}else m("");e.addWager(d.id,l)}),[l]);var f=function(e){for(var t=document.getElementsByClassName("betDetails"+e),a=document.getElementById("arrow"+e),n=0;n<t.length;n++)"none"===t[n].style.display?(t[n].style.display="",a.classList.remove("right"),a.classList.add("down")):(t[n].style.display="none",a.classList.remove("down"),a.classList.add("right"))};return r.a.createElement(L.a,{className:"bet"},r.a.createElement("tbody",null,r.a.createElement("tr",null,"Spread"===d.type?r.a.createElement("td",{onClick:function(){return f(p)}},r.a.createElement("i",{className:"arrow right",id:"arrow"+p})," ",d.bet+" "+d.handicap):"Total"===d.type?r.a.createElement("td",{onClick:function(){return f(p)}},r.a.createElement("i",{className:"arrow right",id:"arrow"+p})," ",d.bet+" "+d.total," "):r.a.createElement("td",{onClick:function(){return f(p)}},r.a.createElement("i",{className:"arrow right",id:"arrow"+p})," ",d.bet),r.a.createElement("td",{className:"odds"},d.odds.american," ",r.a.createElement("i",{onClick:function(){return e.removeBets([d.id])}},"\xd7"))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2},d.type)),r.a.createElement("tr",{style:{display:"none"},className:"betDetails"+p},r.a.createElement("td",{colSpan:2},d.fixture)),r.a.createElement("tr",{style:{display:"none"},className:"betDetails"+p},r.a.createElement("td",{colSpan:2},R(d.time))),"Straight"===e.slipType?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2},r.a.createElement(I.a,null,r.a.createElement(I.a.Row,null,r.a.createElement(I.a.Group,{as:C.a},r.a.createElement(I.a.Control,{type:"number",placeholder:"Risk",value:l,onChange:function(e){return c(e.target.value)}})),r.a.createElement(I.a.Group,{as:C.a},r.a.createElement(I.a.Control,{type:"text",tabIndex:"-1",placeholder:"Win",value:i,readOnly:!0})))))):r.a.createElement(r.a.Fragment,null)))},ke=function(e){return r.a.createElement(G.a,{show:e.show,onHide:e.close},r.a.createElement(G.a.Header,{closeButton:!0},r.a.createElement(G.a.Title,null,e.message)),r.a.createElement(G.a.Footer,null,r.a.createElement(K.a,{variant:"secondary",onClick:e.close},"Close"),r.a.createElement(K.a,{variant:"primary",onClick:e.action},e.buttonText)))},Te=Object(k.b)((function(e){return{user_id:e.user.ID}}))((function(e){Object(h.n)();var t=Object(n.useState)(),a=Object(u.a)(t,2),l=a[0],c=a[1],s=Object(n.useState)(!1),m=Object(u.a)(s,2),d=m[0],p=m[1],f=e.bets,E=Object(n.useState)("Straight"),b=Object(u.a)(E,2),y=b[0],g=(b[1],Object(n.useState)([])),x=Object(u.a)(g,2),v=x[0],O=x[1],j=function(e,t){var a=f.map((function(e){return e.id})).indexOf(e),n=f;n[a].wager=t,f=n},S=function(t){var a=Object(me.a)({},pe);a.type=y,a.wager=t.wager,a.odds=t.odds,a.result="";var n=Object(me.a)({},fe),r=t.type;if("Spread"===r){var l=Object(me.a)({},be);l.team=Object(me.a)({},l.team),l.team.type=t.team.type,l.team.name=t.team.name,l.line=t.handicap,n.fixture=Object(me.a)({},n.fixture),n.fixture.fixtureID=t.fixtureID,n.fixture.fixture=t.fixture,n.fixture.time=t.time,n.line=l,n.odds=t.odds,n.result=""}else if("Moneyline"===r){var c=Object(me.a)({},Ee);c.team=Object(me.a)({},c.team),c.team.type=t.team.type,c.team.name=t.team.name,n.fixture=Object(me.a)({},n.fixture),n.fixture.fixtureID=t.fixtureID,n.fixture.fixture=t.fixture,n.fixture.time=t.time,n.line=c,n.odds=t.odds,n.result=""}else if("Total"===r){var s=Object(me.a)({},he);s.bet=t.bet,s.line=t.total,n.fixture=Object(me.a)({},n.fixture),n.fixture.fixtureID=t.fixtureID,n.fixture.fixture=t.fixture,n.fixture.time=t.time,n.line=s,n.odds=t.odds,n.result=""}return{account_id:e.user_id,jsonBet:a,leg:n}},w=function(){var e=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 0,t={isError:!1,message:String},e.next=4,f.forEach((function(e){e.wager>0?parseFloat(e.wager):(t.isError=!0,t.message="Please enter a valid wager amount for all bets")}));case 4:if(!0!==t.isError){e.next=9;break}return c(r.a.createElement(z.a,{variant:"danger"},t.message)),e.abrupt("return");case 9:c(),p(!0),"Straight"===y&&(a=[],f.forEach((function(e){var t=S(e);a.push(t)})),O(a));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var t=Object(i.a)(o.a.mark((function t(){var a,n,r,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p(!1),a={bets:v},"https://api.lineleaders.net/bets/createPersonal",n={method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(a)},t.next=6,fetch("https://api.lineleaders.net/bets/createPersonal",n);case 6:return r=t.sent,t.next=9,r.json();case 9:201===t.sent.code&&(l=[],f.forEach((function(e){l.push(e.id)})),e.removeBets(l));case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,null,r.a.createElement($.a.Header,null,"Bet Slip"),r.a.createElement($.a.Body,null,f.map((function(t,a){return r.a.createElement(we,{key:t.bet+t.id,bet:t,i:a,removeBets:e.removeBets,slipType:y,addWager:j})}))),r.a.createElement($.a.Footer,null,l,r.a.createElement(K.a,{onClick:function(){return w()},variant:"primary"},"Place Bet(s)"))),r.a.createElement(ke,{close:function(){O([]),p(!1)},show:d,action:k,buttonText:"Yes",message:"Are you ready to place your bets?"}))})),_e=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),s=Object(u.a)(c,2),m=s[0],d=s[1];Object(n.useEffect)((function(){(function(){var e=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.lineleaders.net/fixtures/getBook");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,l(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){}),[]);var p=function(e){console.log(e);var t=Object(Y.a)(m),a=t.map((function(e){return e.id})).indexOf(e);document.getElementById(e).classList.remove("selected-bet"),t.splice(a,1),console.log(t),d(t)};return r.a.createElement(H.a,null,r.a.createElement(C.a,{md:8,sm:12},r.a.createElement(L.a,{className:"fixtureHeaderTable",responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"timeHeader"}),r.a.createElement("th",{className:"fixtCol"},"Fixture"),r.a.createElement("th",{className:"lineCol"},"Spread"),r.a.createElement("th",{className:"lineCol"},"Win"),r.a.createElement("th",{className:"lineCol"},"Total")))),a.map((function(e){return r.a.createElement(Se,{key:e.fixture_id,fixt:e,bets:m,setBets:d,removeBet:p})}))),r.a.createElement(C.a,{md:4,sm:12},r.a.createElement(Te,{bets:m,removeBets:function(e){var t=Object(Y.a)(m);e.forEach((function(e){var a=t.map((function(e){return e.id})).indexOf(e);document.getElementById(e).classList.remove("selected-bet"),t.splice(a,1),console.log(t)})),d(t)}})))};var Be=function(){return E().loading?r.a.createElement("div",null,"Loading..."):r.a.createElement("div",{className:"App"},r.a.createElement(h.e,{history:g},r.a.createElement(N,null),r.a.createElement(x.a,{id:"main-container"},r.a.createElement(h.g,null,r.a.createElement(h.d,{exact:!0,path:"/"}),r.a.createElement(h.d,{path:"/book",component:_e}),r.a.createElement(M,{path:"/profile",component:W}),r.a.createElement(M,{path:"/admin",component:X})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ne=a(90),Ie=a(50),Ce={ID:null,username:"",balance:null,permissions:[],openBets:[],settledBets:[]},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_ID":e=Object(me.a)(Object(me.a)({},e),{},{ID:t.ID});break;case"SET_PERMISSIONS":e=Object(me.a)(Object(me.a)({},e),{},{permissions:t.permissions});break;case"SET_USER_USERNAME":e=Object(me.a)(Object(me.a)({},e),{},{username:t.username});break;case"SET_USER_BALANCE":e=Object(me.a)(Object(me.a)({},e),{},{balance:t.balance});break;case"SET_OPEN_BETS":e=Object(me.a)(Object(me.a)({},e),{},{openBets:t.bets});break;case"SET_SETTLED_BETS":e=Object(me.a)(Object(me.a)({},e),{},{settledBets:t.bets})}return e},De={contest:{},leaderboards:[],openBets:[],settledBets:[],entryID:null,bankroll:null,available:null,leagues:[],upcomingFixts:[],inplayFixts:[]},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONTEST":e=Object(me.a)(Object(me.a)({},e),{},{contest:t.contest});break;case"SET_OPEN_BETS":e=Object(me.a)(Object(me.a)({},e),{},{openBets:t.bets});break;case"SET_SETTLED_BETS":e=Object(me.a)(Object(me.a)({},e),{},{settledBets:t.bets});break;case"SET_ENTRY_ID":e=Object(me.a)(Object(me.a)({},e),{},{entryID:t.bets});break;case"SET_BANKROLL":e=Object(me.a)(Object(me.a)({},e),{},{bankroll:t.bankroll});break;case"SET_AVAILABLE":e=Object(me.a)(Object(me.a)({},e),{},{available:t.available});break;case"SET_LEAGUES":e=Object(me.a)(Object(me.a)({},e),{},{leagues:t.leagues});case"SET_UPCOMING":e=Object(me.a)(Object(me.a)({},e),{},{upcomingFixts:t.upcoming});case"SET_INPLAY":e=Object(me.a)(Object(me.a)({},e),{},{inplayFixts:t.inplay});case"SET_LEADERBOARDS":"undefined"!==typeof t.leaderboards&&(e=Object(me.a)(Object(me.a)({},e),{},{leaderboards:t.leaderboards}))}return e},Re=Object(Ie.b)({user:Fe,contest:Le}),Pe=Object(Ie.c)(Re);c.a.render(r.a.createElement(b,{domain:Ne.domain,client_id:Ne.clientId,redirect_uri:window.location.origin,audience:Ne.audience,onRedirectCallback:function(e){g.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}},r.a.createElement(k.a,{store:Pe},r.a.createElement(Be,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},65:function(e,t,a){},90:function(e){e.exports=JSON.parse('{"domain":"dev-9iwjnuoz.auth0.com","clientId":"h5vYnuskqBROioeC3evcapQBAlsEWCI2","audience":"https://api.lineleaders.io"}')}},[[149,1,2]]]);
//# sourceMappingURL=main.7eebf21b.chunk.js.map