{"version":3,"sources":["images/icons/sm-write.svg","images/icons/noun_add_929469.svg","images/icons/noun_Basketball_64846.svg","images/icons/noun_american football_2153147.svg","images/icons/noun_Bat_495572.svg","images/icons/noun_soccer_2730034.svg","images/icons/noun_more_2269702.svg","images/logo.PNG","images/icons/search.svg","react-auth0-spa.js","utils/history.js","api/fetchSports.js","api/fetchLeagues.js","api/bets/fetchPersonalBets.js","utils/isEmpty.js","utils/formatTime.js","utils/stringifyOddsAndPoints.js","social/bets/Leg.js","social/forms/createPost/CreatePost.js","social/forms/createPost/CPModal.js","components/individual/AccessControl.js","components/individual/NavBar.js","social/bets/OpenBets.js","social/bets/SettledBets.js","social/MyPosts.js","components/pages/Profile.js","components/individual/PrivateRoute.js","components/forms/createContest/LeagueSelect.js","components/forms/createContest/CreateContest.js","components/admin/fixtureResults/FixturesTable.js","components/admin/fixtureResults/EnterResult.js","components/admin/fixtureResults/NeedResultsPage.js","components/pages/Admin.js","components/individual/MyContests/MyLiveContests.js","utils/startCountdown.js","components/individual/MyContests/MyUpcomingContests.js","components/individual/ActiveContest/bets/Leg.js","components/individual/ActiveContest/bets/SettledBets.js","utils/formatCurrency.js","api/bets/fetchContestBets.js","components/individual/ActiveContest/Leaderboard.js","api/fetchLeaderboards.js","components/individual/MyContests/history/MyHistoryContests.js","components/pages/ContestsPage.js","components/shared/ConfirmationModal.js","components/individual/UpcomingContests/UpcomingContests.js","components/pages/LobbyPage.js","components/individual/ActiveContest/bets/OpenBets.js","components/individual/ActiveContest/BetSlip/Bet.js","models/bet/bet.js","components/individual/ActiveContest/BetSlip/BetSlip.js","utils/formatHandicap.js","social/Book/Fixture.js","social/Book/SportPrev.js","social/Book/Sport.js","social/Book/BookFooter.js","components/individual/ActiveContest/BetSlip/MobileBetSlip.js","components/individual/ActiveContest/Book/ContestBook.js","utils/organizeUpcomingBook.js","components/pages/LiveContest.js","utils/organizeBook.js","social/Book/BetSlip/EditBetModal.js","social/Book/BetSlip/Bet.js","social/shared/ConfirmationModal.js","social/Book/BetSlip/BetSlip.js","social/Book/BetSlip/MobileBetSlip.js","social/Book/Book.js","App.js","serviceWorker.js","redux/userReducer.js","redux/contestReducer.js","redux/applicationReducer.js","redux/reducer.js","index.js","images/icons/noun_Close_3850069.svg","images/icons/noun_sale slip_2558704.svg","images/icons/noun_back_3542560.svg","images/icons/editIcon.png"],"names":["module","exports","DEFAULT_REDIRECT_CALLBACK","window","history","replaceState","document","title","location","pathname","Auth0Context","React","createContext","useAuth0","useContext","Auth0Provider","children","onRedirectCallback","initOptions","useState","isAuthenticated","setIsAuthenticated","user","setUser","auth0Client","setAuth0","loading","setLoading","popupOpen","setPopupOpen","useEffect","a","createAuth0Client","auth0FromHook","search","includes","handleRedirectCallback","appState","getUser","initAuth0","loginWithPopup","params","console","error","Provider","value","getIdTokenClaims","loginWithRedirect","getTokenSilently","getTokenWithPopup","logout","createBrowserHistory","fetchSports","fetch","response","json","sports","fetchLeagues","leagues","fetchPersonalBets","id","bets","open","settled","forEach","bet","result","Result","push","obj","isEmpty","Object","keys","length","formatTime","time","dtm","parseInt","Date","toLocaleString","dateStyle","timeStyle","stringifyOddsAndPoints","num","parseFloat","Leg","props","leg","fixture","line","type","team","name","connect","state","openBets","setBet","writeup","setWriteup","view","setView","Form","Group","Control","as","rows","onChange","e","target","className","Image","src","width","height","onClick","Button","Table","map","i","win","legs","odds","dec","wager","toFixed","Math","abs","key","Check","Row","Col","xs","span","back","add","close","CPModal","Modal","size","show","onHide","Header","closeButton","picture","email","Body","userid","AccessControl","permitted","setPermitted","perm","permissions","allowedPermissions","protectedResource","ID","username","balance","dispatch","setPermissions","setUserID","setUsername","setBalance","showCreatePost","setShowCreatePost","fetchPermissions","token","headers","Authorization","fetchDetails","data","intAccountID","log","Navbar","collapseOnSelect","variant","bg","expand","sticky","Toggle","Brand","Collapse","Nav","to","Link","NavDropdown","Item","Divider","write","undefined","responsive","SettledBets","settledBets","MyPosts","posts","post","contents","timestamp","alt","user_id","setPosts","String","record","setRecord","PL","setPL","activeTab","setActiveTab","profitloss","w","l","p","calcRecordAndPL","fetchPosts","sm","disabled","Tabs","fill","activeKey","onSelect","k","Tab","eventKey","PrivateRoute","Component","component","path","rest","targetUrl","fn","render","LeagueSelect","setDisp","Title","label","Footer","addLeagues","CreateContest","moment","require","dispLeagues","setDispLeagues","types","setTypes","setName","Number","typeID","setTypeID","start","setStart","end","setEnd","setSports","sportIDs","setSportIDs","leagueIDs","entry","setEntry","prizepool","setPrizepool","bankroll","setBankroll","submitted","setSubmitted","submittedStatus","setSubmittedStatus","minPlayers","setMinPlayers","maxPlayers","setMaxPlayers","Moment","locale","momentLocalizer","simpleNumberLocalizer","fetchContestTypes","getUTCTime","date","newDate","parseZone","utc","format","zIndex","indexOf","substring","Card","Label","column","intContestTypeID","strContestType","dt","disableCalendar","culture","step","textField","valueField","UTCstart","UTCend","body","options","method","JSON","stringify","then","catch","err","createContest","submit","FixturesTable","colSpan","fixts","fixt","fixture_id","setSelected","commence_time","home_team","away_team","EnterResult","homeScore","setHomeScore","awayScore","setAwayScore","setError","updateFixture","fixt_id","results","home_score","away_score","removeFixt","isNaN","Alert","NeedResultsPage","needResults","setNeedResults","selectedFixt","setSelectedFixt","fetch_needsResults","md","index","findIndex","tmp","splice","AdminPage","setComponent","MyLiveContests","contests","contest","intContestID","strContestName","decEntry","intContestPlayerID","updateStartCountdown","newdate","now","getTime","timeleft","day","getDay","hour","getHours","ampm","days","floor","hours","minutes","seconds","countdown","getMonth","getDate","elementID","getElementById","innerHTML","MyUpcomingContests","countdowns","setInterval","dtmStart","clearInterval","decEntryFee","decPrizePool","formatCurrency","style","currency","fetchContestBets","entryid","Leaderboard","contestant","setContestant","getBets","tmpBets","leaderboards","winnings","place","fetchLeaderboards","contestid","MyHistoryContests","setLeaderboards","displayLb","setDisplayLb","setContest","getLB","lb","displayLeaderboard","intPlacement","strRecord","decBankroll","decWinnings","accountID","setContests","liveContests","setLiveContests","upcomingContests","setUpcomingContests","historyContests","setHistoryContests","display","setDisplay","setTimeout","fetchMyContests","active","upcoming","count","intContestStatusID","defaultActiveKey","Spinner","animation","ConfirmationModal","message","action","buttonText","contestID","setContestID","showConfirm","setShowConfirm","useHistory","enterContest","opts","contestType","handleEnter","myContests","setMyContests","availContests","setAvailContests","contestRows","setContestRows","fetchOpenContests","tmpAvail","cont","myCont","cntsts","row","arr","league","leagueID","intLeagueID","leagueName","strLeagueName","contestLeagues","decInitialBankRoll","dtmEnd","checkRow","UpcomingContests","Bet","risk","setRisk","setWin","tmpWin","tmpRisk","addWager","toggleDetails","detailRows","getElementsByClassName","arrow","classList","remove","handicap","total","american","removeBets","slipType","placeholder","tabIndex","readOnly","model","fixtureID","ML","Spread","Total","available","setOpenBets","setSettledBets","match","useRouteMatch","records","setRecords","formatStraightBet","betModel","legType","spread","decimal","ml","contestPlayerID","jsonBet","validateBets","totalWagered","isError","tmpRecords","tmpModel","insertBetRecords","code","ids","contestBets","formatHandicap","nums","split","Fixture","formattedTime","handleBetClick","bettype","element","removeBet","spreads","away","points","h2h","home","totals","over","under","setBets","addBet","rowSpan","SportPrev","prev","setPrev","sport","tmpPrev","tmpLeag","league_key","league_name","league_short","fixtures","sport_name","setCurrDisp","Sport","BookFooter","basketball","football","baseball","soccer","more","showSlip","betslip","Book","spin","setSpin","currDisp","showMobileBetSlip","setShowMobileBetSlip","book","ArrSprt","sport_id","organizeUpcomingBook","organizedBook","currentTime","commence","leagueIndex","leag","jsonLeague","sport_key","sportIndex","sprt","intSportID","bookSportIndex","details","strSportName","spIndex","_","entryID","application","setEntryID","setAvailable","avaialable","setLeagues","setUpcoming","setInplay","inplay","setBook","fetchContest","fetchBets","fetch_leaderboards","fetchFixtures","leagueIds","isEqual","timerId","getOwnPropertyNames","organizeBook","EditBetModal","setOdds","setPoints","defaultValue","editBet","showEditBet","setShowEditBet","editIcon","account_id","setfixts","fetchfixts","orgBook","asyncFunc","Container","exact","Profile","Lobby","ContestsPage","LiveContest","Boolean","hostname","initValues","userReducer","contestReducer","applicationReducer","reducers","combineReducers","store","createStore","reducer","ReactDOM","domain","config","client_id","clientId","redirect_uri","origin","audience","useRefreshTokens","cacheLocation","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ad2bcd4d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/sm-write.e3d55f2e.svg\";","module.exports = __webpack_public_path__ + \"static/media/noun_add_929469.c9d410d6.svg\";","module.exports = __webpack_public_path__ + \"static/media/noun_Basketball_64846.0213569f.svg\";","module.exports = __webpack_public_path__ + \"static/media/noun_american football_2153147.616ef963.svg\";","module.exports = __webpack_public_path__ + \"static/media/noun_Bat_495572.7312947e.svg\";","module.exports = __webpack_public_path__ + \"static/media/noun_soccer_2730034.aa34ceba.svg\";","module.exports = __webpack_public_path__ + \"static/media/noun_more_2269702.25419031.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.47646def.PNG\";","module.exports = __webpack_public_path__ + \"static/media/search.a7517423.svg\";","import React, { useState, useEffect, useContext } from \"react\";\r\nimport createAuth0Client from \"@auth0/auth0-spa-js\";\r\n\r\nconst DEFAULT_REDIRECT_CALLBACK = () =>\r\n  window.history.replaceState({}, document.title, window.location.pathname);\r\n\r\nexport const Auth0Context = React.createContext();\r\nexport const useAuth0 = () => useContext(Auth0Context);\r\nexport const Auth0Provider = ({\r\n  children,\r\n  onRedirectCallback = DEFAULT_REDIRECT_CALLBACK,\r\n  ...initOptions\r\n}) => {\r\n  const [isAuthenticated, setIsAuthenticated] = useState();\r\n  const [user, setUser] = useState();\r\n  const [auth0Client, setAuth0] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n  const [popupOpen, setPopupOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const initAuth0 = async () => {\r\n      const auth0FromHook = await createAuth0Client(initOptions);\r\n      setAuth0(auth0FromHook);\r\n\r\n      if (window.location.search.includes(\"code=\") &&\r\n          window.location.search.includes(\"state=\")) {\r\n        const { appState } = await auth0FromHook.handleRedirectCallback();\r\n        onRedirectCallback(appState);\r\n      }\r\n\r\n      const isAuthenticated = await auth0FromHook.isAuthenticated();\r\n\r\n      setIsAuthenticated(isAuthenticated);\r\n\r\n      if (isAuthenticated) {\r\n        const user = await auth0FromHook.getUser();\r\n        setUser(user);\r\n      }\r\n\r\n      setLoading(false);\r\n    };\r\n    initAuth0();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const loginWithPopup = async (params = {}) => {\r\n    setPopupOpen(true);\r\n    try {\r\n      await auth0Client.loginWithPopup(params);\r\n    } catch (error) {\r\n      console.error(error);\r\n    } finally {\r\n      setPopupOpen(false);\r\n    }\r\n    const user = await auth0Client.getUser();\r\n    setUser(user);\r\n    setIsAuthenticated(true);\r\n  };\r\n\r\n  const handleRedirectCallback = async () => {\r\n    setLoading(true);\r\n    await auth0Client.handleRedirectCallback();\r\n    const user = await auth0Client.getUser();\r\n    setLoading(false);\r\n    setIsAuthenticated(true);\r\n    setUser(user);\r\n  };\r\n  return (\r\n    <Auth0Context.Provider\r\n      value={{\r\n        isAuthenticated,\r\n        user,\r\n        loading,\r\n        popupOpen,\r\n        loginWithPopup,\r\n        handleRedirectCallback,\r\n        getIdTokenClaims: (...p) => auth0Client.getIdTokenClaims(...p),\r\n        loginWithRedirect: (...p) => auth0Client.loginWithRedirect(...p),\r\n        getTokenSilently: (...p) => auth0Client.getTokenSilently(...p),\r\n        getTokenWithPopup: (...p) => auth0Client.getTokenWithPopup(...p),\r\n        logout: (...p) => auth0Client.logout(...p)\r\n      }}\r\n    >\r\n      {children}\r\n    </Auth0Context.Provider>\r\n  );\r\n};","import { createBrowserHistory } from \"history\";\r\nexport default createBrowserHistory();","const fetchSports = async () => {\r\n    const response = await fetch('https://api.lineleaders.net/sports/');\r\n    const sports = await response.json();\r\n    return(sports)\r\n}\r\n\r\nexport default fetchSports;","const fetchLeagues = async () => {\r\n    const response = await fetch('https://api.lineleaders.net/leagues/');\r\n    const leagues = await response.json();\r\n    return(leagues);\r\n}\r\n\r\nexport default fetchLeagues;","const fetchPersonalBets = async (id) => {\r\n    const response = await fetch('https://api.lineleaders.net/bets/personal?id=' + id);\r\n    const bets = await response.json();\r\n    //separate into open and settled and set redux state\r\n    let open = [];\r\n    let settled = [];\r\n\r\n    bets.forEach(bet => {\r\n      if (bet.result === \"W\" || bet.result === \"L\" || bet.Result === \"P\") {\r\n        settled.push(bet);\r\n      } else {\r\n        open.push(bet);\r\n      }\r\n    })\r\n\r\n    let obj = {\r\n        open : open,\r\n        settled: settled\r\n    }\r\n\r\n    return obj;\r\n}   \r\n\r\nexport default fetchPersonalBets;","function isEmpty(obj) {\r\n    return Object.keys(obj).length === 0;\r\n};\r\nexport default isEmpty;","//function to format from epoch time\r\nconst formatTime = (time) => {\r\n    let dtm = parseInt(time)\r\n    let adjusted = new Date(dtm *1000);\r\n    let formattedTime = adjusted.toLocaleString([], {dateStyle: 'short', timeStyle:'short'});  \r\n    return(formattedTime);  \r\n}\r\n\r\nexport default formatTime;","let stringifyOddsAndPoints = (a) => {\r\n    let num = parseFloat(a);\r\n    let string;\r\n    if(num > 0){\r\n        string = \"+\"+num;\r\n    }else string = num; \r\n\r\n    return string;\r\n} \r\n\r\nexport default stringifyOddsAndPoints;","import React from 'react'\r\nimport formatTime from '../../utils/formatTime';\r\nimport stringifyOddsAndPoints from '../../utils/stringifyOddsAndPoints';\r\n\r\nconst Leg = (props) => {\r\n    let leg = props.leg\r\n    let time = formatTime(leg.fixture.time)\r\n\r\n    if(leg.line.type === \"Moneyline\"){\r\n        return (\r\n            <td>\r\n                    <b>{leg.line.team.type === \"Draw\" ? \r\n                        leg.line.team.type\r\n                            :\r\n                        leg.line.team.name\r\n                    }</b>\r\n                    <br/>{leg.fixture.fixture}\r\n                    <br/>{time}\r\n            </td>\r\n        )\r\n    }else if(leg.line.type === \"Spread\"){\r\n        return (\r\n            <td>\r\n                <b>{leg.line.team.name + \" \" + stringifyOddsAndPoints(leg.line.line)}</b>\r\n                <br/>{leg.fixture.fixture}\r\n                <br/>{time}\r\n            </td>\r\n        )\r\n    }else if(leg.line.type === \"Total\"){\r\n        return (\r\n            <td>\r\n                <b>{leg.line.bet + \" \" + leg.line.line}</b>\r\n                <br/>{leg.fixture.fixture}\r\n                <br/>{time}\r\n            </td>\r\n        )\r\n    }\r\n    return(\r\n        <></>\r\n    )\r\n}\r\n\r\nexport default Leg","import React, { useState } from 'react'\r\nimport isEmpty from '../../../utils/isEmpty';\r\nimport { Form, Image, Table, Col, Row, Button } from 'react-bootstrap';\r\nimport bets from '../../../images/icons/noun_sale slip_2558704.svg';\r\nimport Leg from '../../bets/Leg';\r\nimport stringifyOddsAndPoints from '../../../utils/stringifyOddsAndPoints';\r\nimport add from '../../../images/icons/noun_add_929469.svg';\r\nimport back from '../../../images/icons/noun_back_3542560.svg';\r\nimport close from '../../../images/icons/noun_Close_3850069.svg';\r\n\r\nimport { connect } from 'react-redux';\r\nimport formatTime from '../../../utils/formatTime';\r\nconst CreatePost = (props) => {\r\n    const [bet, setBet] = useState({});\r\n    const [writeup, setWriteup] = useState('')\r\n    const [view, setView] = useState(\"writeup\")\r\n\r\n    //function to create post\r\n    const createPost = () => {\r\n        let timestamp = Date.now();\r\n        let contents = {\r\n            writeup: writeup,\r\n            timestamp: timestamp\r\n        }\r\n\r\n        const body = {\r\n            betIDs: [bet.id],\r\n            contents: JSON.stringify(contents),\r\n            accountid: props.userid\r\n        }\r\n\r\n        //api parameters to create game\r\n        const url = 'https://api.lineleaders.net/posts/create'\r\n        const options = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=UTF-8'\r\n            },\r\n            body: JSON.stringify(body)\r\n        }\r\n\r\n        //call api\r\n        fetch(url, options)\r\n            .then(response => {\r\n                props.close();\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    //function to submit post\r\n    const submitPost = () => {\r\n        if (!isEmpty(bet)) {\r\n            createPost();\r\n        }\r\n    }\r\n\r\n    if (view === \"writeup\" && isEmpty(bet)) {\r\n        return (\r\n            <>\r\n                <Form>\r\n                    <Form.Group>\r\n                        <Form.Control as=\"textarea\" rows={10} value={writeup} onChange={(e) => setWriteup(e.target.value)} />\r\n                    </Form.Group>\r\n                </Form>\r\n                <div className=\"left-align\">\r\n                    <Image className=\"icon-dark\" src={bets} width=\"28\" height=\"auto\" onClick={() => setView(\"bets\")} />\r\n                </div>\r\n                <div className=\"center-text\">\r\n                    <Button className=\"button\">Create Post</Button>\r\n                </div>\r\n            </>\r\n        )\r\n    } else if (view === \"writeup\" && !isEmpty(bet)) {\r\n        if (bet.type === \"Straight\") {\r\n            const leg = bet.legs[0];\r\n            //calc win field\r\n            let win;\r\n            if (bet.odds > 0) {\r\n                let dec = bet.odds / 100;\r\n                win = parseFloat(bet.wager * dec).toFixed(2)\r\n            } else {\r\n                let dec = Math.abs(bet.odds) / 100;\r\n                win = parseFloat(bet.wager / dec).toFixed(2)\r\n            }\r\n            if (leg.line.type === \"Spread\") {\r\n                return (\r\n                    <>\r\n                        <Row>\r\n                            <Col xs={10}>\r\n                                <p className=\"no-margin\"><strong>{leg.line.team.name}</strong>{\" \" + stringifyOddsAndPoints(leg.line.line) + \" (\" + stringifyOddsAndPoints(bet.odds) + \")\"}</p>\r\n                                <p className=\"no-margin\">{leg.fixture.fixture}</p>\r\n                                <p className=\"no-margin\">{formatTime(leg.fixture.time)}</p>\r\n                            </Col>    \r\n                            <Col xs={2} className=\"right-align\">\r\n                                <Image className=\"icon-dark\" src={close} width=\"18\" height=\"auto\" onClick={() => setBet({})} />\r\n                            </Col>\r\n                        </Row>\r\n                        <Form>\r\n                            <Form.Group>\r\n                                <Form.Control as=\"textarea\" rows={10} value={writeup} onChange={(e) => setWriteup(e.target.value)} />\r\n                            </Form.Group>\r\n                        </Form>\r\n                        <div className=\"left-align\">\r\n                            <Image className=\"icon-dark\" src={bets} width=\"28\" height=\"auto\" onClick={() => setView(\"bets\")} />\r\n                        </div>\r\n                        <div className=\"center-text\">\r\n                            <Button className=\"button\">Create Post</Button>\r\n                        </div>\r\n                    </>\r\n                )\r\n            } else if (leg.line.type === \"Moneyline\") {\r\n                return (\r\n                    <>\r\n                        <Row>\r\n                            <Col xs={10}>\r\n                                <p className=\"no-margin\"><strong>{leg.line.team.name}</strong>{\" \" + stringifyOddsAndPoints(bet.odds)}</p>\r\n                                <p className=\"no-margin\">{leg.fixture.fixture}</p>\r\n                                <p className=\"no-margin\">{formatTime(leg.fixture.time)}</p>\r\n                            </Col>    \r\n                            <Col xs={2} className=\"right-align\">\r\n                                <Image className=\"icon-dark\" src={close} width=\"18\" height=\"auto\" onClick={() => setBet({})} />\r\n                            </Col>\r\n                        </Row>\r\n                        <Form>\r\n                            <Form.Group>\r\n                                <Form.Control as=\"textarea\" rows={10} value={writeup} onChange={(e) => setWriteup(e.target.value)} />\r\n                            </Form.Group>\r\n                        </Form>\r\n                        <div className=\"left-align\">\r\n                            <Image className=\"icon-dark\" src={bets} width=\"28\" height=\"auto\" onClick={() => setView(\"bets\")} />\r\n                        </div>\r\n                        <div className=\"center-text\">\r\n                            <Button className=\"button\">Create Post</Button>\r\n                        </div>\r\n                    </>\r\n                )\r\n            }\r\n            else if (leg.line.type === \"Total\") {\r\n                return (\r\n                    <>\r\n                        <Row>\r\n                            <Col xs={10}>\r\n                                <p className=\"no-margin\"><strong>{leg.line.bet + \" \" + leg.line.line}</strong>{\" \" + \" (\" + stringifyOddsAndPoints(bet.odds) + \")\"}</p>\r\n                                <p className=\"no-margin\">{leg.fixture.fixture}</p>\r\n                                <p className=\"no-margin\">{formatTime(leg.fixture.time)}</p>\r\n                            </Col>    \r\n                            <Col xs={2} className=\"right-align\">\r\n                                <Image className=\"icon-dark\" src={close} width=\"18\" height=\"auto\" onClick={() => setBet({})} />\r\n                            </Col>\r\n                        </Row>\r\n                        <Form>\r\n                            <Form.Group>\r\n                                <Form.Control as=\"textarea\" rows={10} value={writeup} onChange={(e) => setWriteup(e.target.value)} />\r\n                            </Form.Group>\r\n                        </Form>\r\n                        <div className=\"left-align\">\r\n                            <Image className=\"icon-dark\" src={bets} width=\"28\" height=\"auto\" onClick={() => setView(\"bets\")} />\r\n                        </div>\r\n                        <div className=\"center-text\">\r\n                            <Button className=\"button\">Create Post</Button>\r\n                        </div>\r\n                    </>\r\n                )\r\n            }\r\n        } else {\r\n            return <></>;\r\n        }\r\n    } else if (view === \"bets\") {\r\n        return (\r\n            <>\r\n                <Form>\r\n                    <Table>\r\n                        <thead>\r\n                            <tr>\r\n                                <th className=\"hidden-md\">Type</th>\r\n                                <th>Line(s)</th>\r\n                                <th>Odds</th>\r\n                                <th>Risk</th>\r\n                                <th>Win</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {props.openBets.map((bet, i) => {\r\n                                if (bet.type === \"Straight\") {\r\n                                    const leg = bet.legs[0];\r\n                                    //calc win field\r\n                                    let win;\r\n                                    if (bet.odds > 0) {\r\n                                        let dec = bet.odds / 100;\r\n                                        win = parseFloat(bet.wager * dec).toFixed(2)\r\n                                    } else {\r\n                                        let dec = Math.abs(bet.odds) / 100;\r\n                                        win = parseFloat(bet.wager / dec).toFixed(2)\r\n                                    }\r\n\r\n                                    return (\r\n                                        <tr className={\"openBet\"} key={i}>\r\n                                            <td className=\"hidden-md\">{bet.type}</td>\r\n                                            <Leg leg={leg} />\r\n                                            <td>{stringifyOddsAndPoints(bet.odds)}</td>\r\n                                            <td>{\"$\" + parseFloat(bet.wager).toFixed(2)}</td>\r\n                                            <td>{\"$\" + win}</td>\r\n                                            <td>\r\n                                                <Form.Check type=\"radio\" name=\"bet\" onClick={() => setBet(bet)} />\r\n                                            </td>\r\n                                        </tr>\r\n                                    )\r\n                                } else {\r\n                                    return <></>;\r\n                                }\r\n                            })}\r\n                        </tbody>\r\n                    </Table>\r\n                    <Form.Group as={Row} className=\"cp-footer\">\r\n                        <Col xs={{ span: 6}} className=\"left-align\">\r\n                            <Image className=\"icon-dark\" src={back} width=\"28\" height=\"auto\" onClick={() => setView(\"writeup\")} />\r\n                        </Col>\r\n                        <Col xs={{ span: 6}} className=\"right-align\">\r\n                            <Image className=\"icon-dark\" src={add} width=\"28\" height=\"auto\" onClick={() => setView(\"writeup\")} />\r\n                        </Col>\r\n                    </Form.Group>\r\n                </Form>\r\n            </>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        openBets: state.user.openBets,\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(CreatePost);","import React, {useState} from 'react';\r\nimport {Modal, Image} from 'react-bootstrap';\r\nimport CreatePost from './CreatePost';\r\nimport '../../../css/global/posts.css';\r\nconst CPModal = (props) => {\r\n    return (\r\n        <Modal id=\"cp-modal\" size='lg' show={props.show} onHide={props.close} >\r\n            <Modal.Header closeButton>\r\n                <Image src={props.user.picture} className=\"profile\"></Image>\r\n                <p>{props.user.email}</p>\r\n            </Modal.Header>\r\n            <Modal.Body >\r\n                <CreatePost openBets={props.openBets} close={props.close} userid={props.userid}/>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n\r\n}\r\n\r\nexport default CPModal","// src/components/NavBar.js\r\n\r\nimport React, {useState, useEffect} from \"react\";\r\n\r\nconst AccessControl = (props) => {\r\n    const [permitted, setPermitted]  = useState(false);\r\n\r\n    /*Runs only on initial render\r\n      Will send token to API and fetch user permissions  \r\n      userPermissions will be updated\r\n    */\r\n    useEffect(() => {\r\n      let perm = false;\r\n      for(let i = 0; i < props.permissions.length; i++){\r\n          if(props.allowedPermissions.includes(props.permissions[i])){\r\n             perm = true;\r\n          };\r\n      }\r\n      setPermitted(perm)\r\n    },[])\r\n    \r\n    return (\r\n        <span>\r\n            {permitted && props.protectedResource}\r\n            {!permitted && null}\r\n        </span>\r\n    );\r\n};\r\n\r\nexport default AccessControl;","import React, { useEffect, useState } from \"react\";\r\nimport { useAuth0 } from \"../../react-auth0-spa\";\r\nimport { Navbar, Nav, NavDropdown, Image } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport logo from '../../images/logo.PNG';\r\nimport write from '../../images/icons/sm-write.svg';\r\nimport search from '../../images/icons/search.svg'\r\nimport '../../css/navs.css'\r\nimport CPModal from \"../../social/forms/createPost/CPModal\";\r\n//components \r\nimport AccessControl from './AccessControl';\r\n\r\nconst NavBar = (props) => {\r\n  const { isAuthenticated, loginWithRedirect, logout, getTokenSilently, user } = useAuth0();\r\n  const [showCreatePost, setShowCreatePost] = useState(false);\r\n\r\n  /* Runs on initial mount\r\n  *  Calls fetchPermissions + fetchDetails then updates redux store  \r\n  */\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      let permissions = [];\r\n\r\n      async function fetchPermissions() {\r\n        try {\r\n          const token = await getTokenSilently();\r\n          const response = await fetch(\"https://api.lineleaders.net/accounts/permissions\", {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`\r\n            }\r\n          });\r\n\r\n          permissions = await response.json();\r\n          props.setPermissions(permissions);\r\n        } catch (error) {\r\n          console.error(error);\r\n        }\r\n      }\r\n\r\n      async function fetchDetails() {\r\n        try {\r\n          const token = await getTokenSilently();\r\n          const response = await fetch(\"https://api.lineleaders.net/accounts/details\", {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`\r\n            }\r\n          });\r\n\r\n          let data = await response.json();\r\n          props.setUserID(data.intAccountID);\r\n        } catch (error) {\r\n          console.error(error);\r\n        }\r\n      }\r\n      fetchPermissions();\r\n      fetchDetails();\r\n    }\r\n  }, [])\r\n\r\n  //Function to handle cancellation of creating a post\r\n  const handleCancellation = () => {\r\n    setShowCreatePost(false);\r\n  }\r\n\r\n  console.log(user)\r\n\r\n  return (\r\n    <>\r\n      <Navbar className=\"main-nav\" collapseOnSelect variant=\"dark\" bg=\"dark\" expand=\"lg\" sticky=\"top\">\r\n        <Navbar.Toggle />\r\n        <Navbar.Brand>\r\n          {/* <Image src={logo} rounded width=\"100%\" height=\"auto\" /> */}\r\n          <strong>LineLeaders</strong>\r\n        </Navbar.Brand>\r\n        <Navbar.Collapse>\r\n          <Nav className=\"mr-auto links\">\r\n            {/* Show regardless of login state */}\r\n\r\n            {/* Show when logged in */}\r\n            {isAuthenticated && (\r\n              <>\r\n                <LinkContainer to=\"/book\">\r\n                  <Nav.Link>Book</Nav.Link>\r\n                </LinkContainer>\r\n                <LinkContainer to=\"/lobby\">\r\n                  <Nav.Link>Lobby</Nav.Link>\r\n                </LinkContainer>\r\n                <LinkContainer to=\"/contests\">\r\n                  <Nav.Link>My Contests</Nav.Link>\r\n                </LinkContainer>\r\n                <NavDropdown title=\"My Account\">\r\n                  {/* <NavDropdown.Item disabled>Balance: ${props.balance}</NavDropdown.Item> */}\r\n                  <LinkContainer to=\"/profile\">\r\n                    <NavDropdown.Item>Profile</NavDropdown.Item>\r\n                  </LinkContainer>\r\n                  <AccessControl permissions={props.permissions} allowedPermissions={[\"create:contest\"]} protectedResource={\r\n                    <LinkContainer to=\"/admin\">\r\n                      <NavDropdown.Item>Admin</NavDropdown.Item>\r\n                    </LinkContainer>\r\n                  } />\r\n                  <NavDropdown.Divider />\r\n                  <NavDropdown.Item onClick={() => logout()}>Log out</NavDropdown.Item>\r\n                </NavDropdown>\r\n              </>\r\n            )}\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n        {/* Show if not logged in */}\r\n        {!isAuthenticated ? (\r\n          <Nav.Link onClick={() => loginWithRedirect({})}>Log in</Nav.Link>)\r\n          :\r\n          (<Nav className=\"d-flex flex-row order-2 order-lg-3 icons\">\r\n            <Nav.Item className=\"icon\" onClick={() => setShowCreatePost(true)}><Image src={write} width=\"24\" height=\"auto\" /></Nav.Item>\r\n            {/* <Nav.Item className=\"icon\" onClick={() => alert(\"search\")}><Image src={search} width=\"28\" height=\"auto\" /> </Nav.Item> */}\r\n          </Nav>)\r\n        }\r\n      </Navbar>\r\n      {user != undefined ?\r\n        (\r\n          <CPModal close={handleCancellation} show={showCreatePost} openBets={props.openBets} userid={props.ID} user={user} />\r\n        )\r\n        :\r\n        (<></>)\r\n      }\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    permissions: state.user.permissions,\r\n    ID: state.user.ID,\r\n    username: state.user.username,\r\n    balance: state.user.balance,\r\n    openBets: state.user.openBets\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setPermissions: (permissions) => { dispatch({ type: 'SET_PERMISSIONS', permissions: permissions }) },\r\n    setUserID: (ID) => { dispatch({ type: 'SET_USER_ID', ID: ID }) },\r\n    setUsername: (username) => { dispatch({ type: 'SET_USER_USERNAME', username: username }) },\r\n    setBalance: (balance) => { dispatch({ type: 'SET_USER_BALANCE', balance: balance }) }\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NavBar);","import React from 'react';\r\nimport {Table } from 'react-bootstrap';\r\nimport Leg from './Leg';\r\nimport '../../css/betsTable.css';\r\nimport { connect } from 'react-redux';\r\nimport stringifyOddsAndPoints from '../../utils/stringifyOddsAndPoints';\r\n\r\nconst OpenBets = (props) => {    \r\n    return (\r\n        <Table responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th>Type</th>\r\n                    <th>Line(s)</th>\r\n                    <th>Odds</th>\r\n                    <th>Risk</th>\r\n                    <th>Win</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.openBets.map((bet, i)=>{\r\n                    if(bet.type === \"Straight\"){\r\n                        const leg = bet.legs[0];\r\n                        //calc win field\r\n                        let win;\r\n                        if(bet.odds > 0){\r\n                            let dec = bet.odds/100;\r\n                            win = parseFloat(bet.wager * dec).toFixed(2)\r\n                        }else{\r\n                            let dec = Math.abs(bet.odds)/100;\r\n                            win = parseFloat(bet.wager / dec).toFixed(2)\r\n                        }\r\n                        \r\n                        return(\r\n                            <tr className={\"openBet\"} key={i}>\r\n                                <td>{bet.type}</td>\r\n                                <Leg leg={leg} />\r\n                                <td>{stringifyOddsAndPoints(bet.odds)}</td>\r\n                                <td>{\"$\"+parseFloat(bet.wager).toFixed(2)}</td>\r\n                                <td>{\"$\"+win}</td>\r\n                            </tr>\r\n                        )\r\n                    }else{\r\n                        return <></>;\r\n                    }\r\n                })}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        openBets: state.user.openBets\r\n    }\r\n  }\r\n\r\n  export default connect(mapStateToProps)(OpenBets);\r\n","import React from 'react';\r\nimport {Table } from 'react-bootstrap';\r\nimport Leg from './Leg';\r\nimport '../../css/betsTable.css';\r\nimport stringifyOddsAndPoints from '../../utils/stringifyOddsAndPoints';\r\n\r\nconst SettledBets = (props) => {    \r\n    return (\r\n        <Table responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th>Type</th>\r\n                    <th>Line(s)</th>\r\n                    <th>Odds</th>\r\n                    <th>Risk</th>\r\n                    <th>Win</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.settledBets.map((bet, i)=>{\r\n                    if(bet.type === \"Straight\"){\r\n                        const leg = bet.legs[0];\r\n                        //calc win field\r\n                        let win;\r\n                        if(bet.odds > 0){\r\n                            let dec = bet.odds/100;\r\n                            win = parseFloat(bet.wager * dec).toFixed(2)\r\n                        }else{\r\n                            let dec = Math.abs(bet.odds)/100;\r\n                            win = parseFloat(bet.wager / dec).toFixed(2)\r\n                        }\r\n\r\n                        return(\r\n                            <tr className={\"bet\"+bet.result} key={i}>\r\n                                <td>{bet.type}</td>\r\n                                <Leg leg={leg} />\r\n                                <td>{stringifyOddsAndPoints(bet.odds)}</td>\r\n                                <td>{\"$\"+parseFloat(bet.wager).toFixed(2)}</td>\r\n                                {bet.result === \"W\" ? <td>{\"+$\"+win}</td> :<></>}\r\n                                {bet.result === \"L\" ? <td>{\"-$\"+parseFloat(bet.wager).toFixed(2)}</td> :<></>}\r\n                                {bet.result === \"P\" ? <td>{\"-\"}</td> :<></>}\r\n                            </tr>\r\n                        )\r\n                    }else{\r\n                        return <></>;\r\n                    }\r\n                })}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nexport default SettledBets;\r\n","import React from 'react'\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport stringifyOddsAndPoints from '../utils/stringifyOddsAndPoints';\r\nimport '../css/global/posts.css'\r\nimport formatTime from '../utils/formatTime';\r\n\r\nconst MyPosts = (props) => {\r\n\r\n    return (\r\n        <>\r\n            {props.posts.map((post, i) => {\r\n                let dtm = parseInt(post.contents.timestamp)\r\n                let strDtm = new Date(dtm);\r\n                let timestamp = strDtm.toLocaleString([], { dateStyle: 'short', timeStyle: 'short' });\r\n                return (\r\n                    <div className=\"post\" key={i}>\r\n                        <div className=\"post-prof-col\">\r\n                            <img src={props.user.picture} className=\"post-prof\" alt=\"Profile\" />\r\n                        </div>\r\n                        <div className=\"post-content\">\r\n                            <div className={\"post-info\"}>\r\n                                <strong>{props.user.email}</strong>\r\n                                <p>{timestamp}</p>\r\n                            </div>\r\n                            {post.bets.map((bet, i) => {\r\n                                if (bet.type === \"Straight\") {\r\n                                    const leg = bet.legs[0];\r\n                                    //calc win field\r\n                                    let win;\r\n                                    if (bet.odds > 0) {\r\n                                        let dec = bet.odds / 100;\r\n                                        win = parseFloat(bet.wager * dec).toFixed(2)\r\n                                    } else {\r\n                                        let dec = Math.abs(bet.odds) / 100;\r\n                                        win = parseFloat(bet.wager / dec).toFixed(2)\r\n                                    }\r\n                                    if (leg.line.type === \"Spread\") {\r\n                                        return (\r\n                                            <div key={i}>\r\n                                                <p><strong>{leg.line.team.name}</strong>{\" \" + stringifyOddsAndPoints(leg.line.line) + \" (\" + stringifyOddsAndPoints(bet.odds) + \")\"}</p>\r\n                                                <p>{leg.fixture.fixture}</p>\r\n                                                <p>{formatTime(leg.fixture.time)}</p>\r\n                                            </div>\r\n                                        )\r\n                                    } else if (leg.line.type === \"Moneyline\") {\r\n                                        return (\r\n                                            <div key={i}>\r\n                                                <p><strong>{leg.line.team.name}</strong>{\" \" + stringifyOddsAndPoints(bet.odds)}</p>\r\n                                                <p>{leg.fixture.fixture}</p>\r\n                                                <p>{formatTime(leg.fixture.time)}</p>\r\n                                            </div>\r\n                                        )\r\n                                    }\r\n                                    else if (leg.line.type === \"Total\") {\r\n                                        return (\r\n                                            <div key={i}>\r\n                                                <p><strong>{leg.line.bet + \" \" + leg.line.line}</strong>{\" \" + \" (\" + stringifyOddsAndPoints(bet.odds) + \")\"}</p>\r\n                                                <p>{leg.fixture.fixture}</p>\r\n                                                <p>{formatTime(leg.fixture.time)}</p>\r\n                                            </div>\r\n                                        )\r\n                                    }\r\n\r\n                                } else {\r\n                                    return <></>;\r\n                                }\r\n                            })}\r\n                            <div className=\"writeup\">\r\n                                <p>{post.contents.writeup}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            })}\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default MyPosts","import React, { useState, useEffect } from \"react\";\r\nimport { useAuth0 } from \"../../react-auth0-spa\";\r\nimport { Row, Col, Form, Tabs, Tab, Button } from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport OpenBets from '../../social/bets/OpenBets';\r\nimport SettledBets from '../../social/bets/SettledBets';\r\nimport MyPosts from '../../social/MyPosts';\r\nimport '../../css/global/profile.css';\r\n\r\nconst Profile = (props) => {\r\n  const { user } = useAuth0();\r\n  const [record, setRecord] = useState(String);\r\n  const [PL, setPL] = useState();\r\n  const [activeTab, setActiveTab] = useState('posts');\r\n  const [showCreatePost, setShowCreatePost] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const calcRecordAndPL = () => {\r\n      let profitloss = 0;\r\n      let w = 0;\r\n      let l = 0;\r\n      let p = 0;\r\n\r\n      let rec = \"\";\r\n\r\n      props.settledBets.forEach(bet => {\r\n        //get result and update counter\r\n        if (bet.result === \"W\") {\r\n          w = w + 1;\r\n          //if bet won add amount to PL\r\n          let win = 0;\r\n          if (bet.odds > 0) {\r\n            let dec = bet.odds / 100;\r\n            win = parseFloat(bet.wager * dec).toFixed(2);\r\n          } else {\r\n            let dec = Math.abs(bet.odds) / 100;\r\n            win = parseFloat(bet.wager / dec).toFixed(2);\r\n          }\r\n          profitloss = parseFloat(profitloss) + parseFloat(win);\r\n        } else if (bet.result === \"L\") {\r\n          l = l + 1;\r\n          //if bet lost subtract wager from PL\r\n          profitloss = parseFloat(profitloss) - parseFloat(bet.wager);\r\n        } else p = p + 1;\r\n      });\r\n\r\n      if (p > 0) {\r\n        rec = w + \"-\" + l + \"-\" + p;\r\n      } else rec = w + \"-\" + l;\r\n\r\n      setRecord(rec);\r\n      setPL(profitloss);\r\n    }\r\n\r\n    calcRecordAndPL();\r\n  }, [props])\r\n\r\n  //Function to run when user_id is set and fetch bets\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      const response = await fetch('https://api.lineleaders.net/posts/byAccount?ID=' + props.user_id);\r\n      const posts = await response.json();\r\n      props.setPosts(posts);\r\n    }\r\n\r\n    fetchPosts();\r\n  }, [props.user_id])\r\n\r\n  //Function to handle cancellation of creating a post\r\n  const handleCancellation = () => {\r\n    setShowCreatePost(false);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Row className=\"profile-header\">\r\n        <Col sm={12}>\r\n          <img className=\"profile\" src={user.picture} alt=\"Profile\" /> \r\n          <span className=\"prof-links\">5 Posts</span>\r\n          <span className=\"prof-links\">1 Followers</span>\r\n          <span className=\"prof-links\">1 Following</span>\r\n          <p><strong className=\"username\">{user.email}</strong></p>\r\n        </Col>\r\n        <Col sm={10}>\r\n            <Button size=\"sm\" variant=\"outline-primary\" disabled>Edit Profile</Button>\r\n            <span className=\"prof-stats\">{\"Record: \" + record}</span>\r\n            <span className=\"prof-stats\">{\"P/L: $\" + PL}</span>\r\n        </Col>\r\n      </Row>\r\n      <Form className=\"hidden-lg\">\r\n        <Form.Row>\r\n          <Col>\r\n            <Form.Control as=\"select\" onChange={(e) => setActiveTab(e.target.value)}>\r\n              <option key=\"posts\" value=\"posts\">Posts</option>\r\n              <option key=\"open\" value=\"open\">{\"Open (\" + props.openBets.length + \")\"}</option>\r\n              <option key=\"settled\" value=\"settled\">Settled</option>\r\n            </Form.Control>\r\n          </Col>\r\n        </Form.Row>\r\n      </Form>\r\n      {/* Display when screens are large */}\r\n      <Tabs fill activeKey={activeTab} onSelect={(k) => setActiveTab(k)} id=\"contestsTab\" className=\"hidden-md\">\r\n        <Tab eventKey=\"posts\" title=\"Posts\">\r\n          <MyPosts posts={props.posts} user={user} />\r\n        </Tab>\r\n        <Tab eventKey=\"open\" title={\"Open (\" + props.openBets.length + \")\"}>\r\n          <OpenBets />\r\n        </Tab>\r\n        <Tab eventKey=\"settled\" title=\"Settled\">\r\n          <SettledBets settledBets={props.settledBets} />\r\n        </Tab>\r\n      </Tabs>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user_id: state.user.ID,\r\n    openBets: state.user.openBets,\r\n    settledBets: state.user.settledBets,\r\n    posts: state.user.posts\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setPosts: posts => { dispatch({ type: 'SET_POSTS', posts: posts }) }\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);","import React, { useEffect } from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport { useAuth0 } from \"../../react-auth0-spa\";\r\n\r\nconst PrivateRoute = ({ component: Component, path, ...rest }) => {\r\n  const { loading, isAuthenticated, loginWithRedirect } = useAuth0();\r\n\r\n  useEffect(() => {\r\n    if (loading || isAuthenticated) {\r\n      return;\r\n    }\r\n    const fn = async () => {\r\n      await loginWithRedirect({\r\n        appState: {targetUrl: window.location.pathname}\r\n      });\r\n    };\r\n    fn();\r\n  }, [loading, isAuthenticated, loginWithRedirect, path]);\r\n\r\n  const render = props =>\r\n    isAuthenticated === true ? <Component {...props} /> : null;\r\n\r\n  return <Route path={path} render={render} {...rest} />;\r\n};\r\n\r\nexport default PrivateRoute;","import React, {useState, useEffect} from 'react'\r\nimport {Form, Button, Modal} from 'react-bootstrap';\r\n\r\n\r\nconst LeagueSelect = (props) => {\r\n    const [leagues, setLeagues] = useState([])\r\n\r\n    return (\r\n        <Modal show={props.show} onHide={()=>props.setDisp(false)}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Select Leagues</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div>\r\n                    <h5>Basketball</h5>\r\n                    <Form.Check \r\n                        type=\"checkbox\"\r\n                        value=\"1\"\r\n                        label={`NBA`}\r\n                        \r\n                    />\r\n                    <Form.Check \r\n                        type=\"checkbox\"\r\n                        value=\"1\"\r\n                        label={`Euro League`}\r\n                    />\r\n                    <h5>Soccer</h5>\r\n                    <Form.Check \r\n                        type=\"checkbox\"\r\n                        value=\"1\"\r\n                        label={`Bundesliga 1`}\r\n                    />\r\n                    <Form.Check \r\n                        type=\"checkbox\"\r\n                        value=\"1\"\r\n                        label={`Premier League`}\r\n                    />\r\n                </div>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={()=>props.setDisp(false)} >\r\n                    Close\r\n                </Button>\r\n                <Button variant=\"primary\" onClick={()=>props.addLeagues()}>\r\n                    Add Leagues\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    )\r\n\r\n}\r\n\r\nexport default LeagueSelect","import React, { useState, useEffect } from 'react'\r\nimport {Form, Row, Col, Button, Card} from 'react-bootstrap';\r\nimport DateTimePicker from 'react-widgets/lib/DateTimePicker';\r\nimport Multiselect from 'react-widgets/lib/Multiselect';\r\nimport NumberPicker from 'react-widgets/lib/NumberPicker';\r\n//components \r\nimport LeagueSelect from './LeagueSelect';\r\nimport simpleNumberLocalizer from 'react-widgets-simple-number';\r\n\r\n\r\nimport Moment from 'moment';\r\nimport momentLocalizer from 'react-widgets-moment';\r\n\r\n\r\n\r\nconst CreateContest = (props) => {\r\n    const moment = require('moment');\r\n\r\n    const [dispLeagues,setDispLeagues] = useState(false);    \r\n    const [dispSports,setDispSports] = useState(false);\r\n    const [types,setTypes] = useState([]);\r\n    const [name,setName] = useState(String);\r\n    const [typeID,setTypeID] = useState(Number);\r\n    const [start,setStart] = useState();\r\n    const [end,setEnd] = useState();\r\n    const [disabled,setDisabled] = useState(true);\r\n    const [sports, setSports] = useState([])\r\n    const [sportIDs, setSportIDs] = useState([])\r\n    const [leagueIDs, setLeagueIDs] = useState([10046574, 10046575, 10046584])\r\n    const [leaguesLabel, setLeaguesLabel] = useState('Click to Select');\r\n    const [entry, setEntry] = useState(Number);\r\n    const [prizepool, setPrizepool] = useState(Number);\r\n    const [bankroll, setBankroll] = useState(Number);\r\n    const [submitted, setSubmitted] = useState(false);\r\n    const [submittedStatus, setSubmittedStatus] = useState();\r\n    const [minPlayers, setMinPlayers] = useState();\r\n    const [maxPlayers, setMaxPlayers] = useState();\r\n    \r\n    //Localization for datetime picker\r\n    Moment.locale('en');\r\n    momentLocalizer();\r\n    simpleNumberLocalizer();\r\n    //Run on initial render, fetch contest types\r\n    useEffect(()=>{\r\n        const fetchContestTypes = async() =>{\r\n            const response = await fetch('https://api.lineleaders.net/contests/types');\r\n            const data = await response.json();\r\n            setTypes(data);\r\n        }\r\n\r\n        const fetchSports = async () => {\r\n            const response = await fetch('https://api.lineleaders.net/sports/');\r\n            const data = await response.json();\r\n            setSports(data)\r\n        }\r\n\r\n        fetchSports();\r\n        fetchContestTypes();\r\n    },[])\r\n\r\n\r\n    //Function to add selected sports to sports variable\r\n    const addSports = (sports) => {\r\n        setSports(sports);\r\n    }\r\n\r\n    //Function to add selected leagues to leagues variable\r\n    const addLeagues = () => {\r\n    }\r\n\r\n    //Function to change date to UTC for storage\r\n    const getUTCTime = (date) => {\r\n        let newDate = moment.parseZone(date).utc().format();\r\n        let zIndex = newDate.indexOf('Z');\r\n        newDate = newDate.substring(0, zIndex);\r\n        return(newDate);\r\n    }\r\n\r\n    //Function to create contest record in database\r\n    const submit = (e) => {\r\n        //set submitted to true \r\n        setSubmitted(true)\r\n\r\n        let UTCstart = getUTCTime(start);\r\n        let UTCend = getUTCTime(end);\r\n\r\n        //Create contest record in database\r\n        const createContest = async () => {\r\n            const body = {\r\n                name: name,\r\n                typeID: typeID,\r\n                entry: entry,\r\n                prizepool: prizepool,\r\n                bankroll: bankroll, \r\n                start: UTCstart, \r\n                end: UTCend,\r\n                minPlayers: minPlayers,\r\n                maxPlayers: maxPlayers,\r\n                leagueIDs: leagueIDs\r\n            }\r\n\r\n            //api parameters to create game\r\n            const url ='https://api.lineleaders.net/contests/create'\r\n            const options = {\r\n                method:'POST',\r\n                headers:{\r\n                    'Content-Type': 'application/json;charset=UTF-8'\r\n                }, \r\n                body: JSON.stringify(body)\r\n            }\r\n\r\n            //call api\r\n            fetch(url, options)\r\n                .then(response=> {\r\n                    setSubmittedStatus(<p>Contest Created Successfully</p>)\r\n                })\r\n                .catch(err=>{\r\n                    setSubmittedStatus(<p>Something went wrong on our end, please try again</p>)\r\n                    console.log(err)\r\n                })\r\n        }\r\n        createContest();\r\n    }\r\n\r\n    const addSportID = (id) => {\r\n        let temp = sportIDs;\r\n        temp.push(id)\r\n    }\r\n\r\n    return (\r\n        <Card>\r\n            <Card.Header>CREATE NEW CONTEST</Card.Header>\r\n            <Card.Body>\r\n                {/* If form is submitted, show successful or failed submission. If not submitted, show form. */}\r\n                {submitted ? submittedStatus : \r\n                <Form>\r\n                     <Form.Row>                    \r\n                        <Form.Label column >Name</Form.Label>\r\n                        <Col>\r\n                            <Form.Control type=\"text\" value={name} onChange={(e)=>setName(e.target.value)}/>\r\n                        </Col>\r\n                    </Form.Row>\r\n                    <Form.Row>                    \r\n                        <Form.Label column >Type</Form.Label>\r\n                        <Col>\r\n                            <Form.Control as=\"select\" onChange={(e)=>setTypeID(e.target.value)}>\r\n                                <option>Select type</option>\r\n                                {types.map(type=>{\r\n                                    return (\r\n                                        <option key={type.intContestTypeID} value={type.intContestTypeID}>{type.strContestType}</option>\r\n                                    )\r\n                                })}\r\n                            </Form.Control>\r\n                        </Col>\r\n                    </Form.Row>\r\n                    <Form.Row>                    \r\n                        <Form.Label column >Start</Form.Label>\r\n                        <Col >\r\n                            <DateTimePicker\r\n                                onChange={(dt)=>setStart(dt)}\r\n                                value={start}\r\n                                time={true}\r\n                                disableCalendar={true}\r\n                                culture='en'\r\n                                step={15}\r\n                            />                    \r\n                        </Col>\r\n                    </Form.Row>\r\n                    <Form.Row>                    \r\n                        <Form.Label column  >End</Form.Label>\r\n                        <Col >\r\n                            <DateTimePicker\r\n                                onChange={(dt)=>setEnd(dt)}\r\n                                value={end}\r\n                                time={true}\r\n                                disableCalendar={true}\r\n                                culture='en'\r\n                                step={15}\r\n                            />        \r\n                        </Col>  \r\n                    </Form.Row>\r\n                    <Form.Row>                    \r\n                        <Form.Label column >Sports</Form.Label>\r\n                        <Col >\r\n                            <Multiselect\r\n                                data={sports}\r\n                                textField={'strSportName'}\r\n                                valueField={'intSportID'}\r\n                                value={sportIDs}\r\n                                onChange={value => setSportIDs(value)}\r\n                            />\r\n                        </Col>\r\n                    </Form.Row>\r\n                    <Form.Row>                    \r\n                        <Form.Label column>Entry Fee ($)</Form.Label>\r\n                        <Col >\r\n                            <NumberPicker\r\n                                value={entry}\r\n                                onChange={value => setEntry(value )}\r\n                                format='-$#,###.00'\r\n                            />\r\n                        </Col>\r\n                    </Form.Row>\r\n                    <Form.Row>                    \r\n                        <Form.Label column>Initial Bankroll ($)</Form.Label>\r\n                        <Col >\r\n                            <NumberPicker \r\n                                value={bankroll}\r\n                                onChange={value => setBankroll(value)}\r\n                                format='-$#,###.00'\r\n                            />\r\n                        </Col>\r\n                    </Form.Row>\r\n                    <Form.Row>                    \r\n                        <Form.Label column>Prize Pool ($)</Form.Label>\r\n                        <Col >\r\n                            <NumberPicker \r\n                                value={prizepool}\r\n                                onChange={value => setPrizepool(value)}\r\n                                format='-$#,###.00'\r\n                            />\r\n                        </Col>\r\n                    </Form.Row>\r\n                    <Form.Row>                    \r\n                        <Form.Label column>Min Players</Form.Label>\r\n                        <Col >\r\n                            <NumberPicker \r\n                                value={minPlayers}\r\n                                onChange={value => setMinPlayers(value)}\r\n                                step={1}\r\n                            />\r\n                        </Col>\r\n                    </Form.Row>\r\n                    <Form.Row>                    \r\n                        <Form.Label column>Max Players</Form.Label>\r\n                        <Col >\r\n                            <NumberPicker \r\n                                value={maxPlayers}\r\n                                onChange={value => setMaxPlayers(value)}\r\n                                step={1}\r\n                            />\r\n                        </Col>\r\n                    </Form.Row>\r\n                    <Form.Group as={Row}> \r\n                        <Col>                   \r\n                            <Button onClick={()=>props.close()}>Cancel</Button>\r\n                        </Col>\r\n                        <Col>                   \r\n                            <Button type=\"submit\" onClick={(e)=>submit(e)}>Create Contest</Button>\r\n                        </Col>\r\n                    </Form.Group>\r\n                </Form>\r\n                }\r\n                <LeagueSelect addLeagues={addLeagues} show={dispLeagues} setDisp={setDispLeagues} />\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n\r\n}\r\n\r\nexport default CreateContest;","import React from 'react'\r\nimport {Table} from 'react-bootstrap'\r\nimport formatTime from '../../../utils/formatTime';\r\n\r\nconst FixturesTable  = (props) => {\r\n    return (\r\n        <Table>\r\n            <thead>\r\n                <tr>\r\n                    <th colSpan=\"2\">Fixtures Needing Results</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.fixts.length > 0 ?\r\n                    props.fixts.map(fixt=>{\r\n                        return(\r\n                            <tr key={fixt.fixture_id} onClick={()=>props.setSelected(fixt)}> \r\n                                <td>\r\n                                    {formatTime(fixt.fixture.commence_time)}\r\n                                </td>\r\n                                <td>\r\n                                    {fixt.fixture.home_team +\" vs. \"+fixt.fixture.away_team}\r\n                                </td>\r\n                            </tr>\r\n                        )\r\n                    })\r\n                        :\r\n                    <></>\r\n                }\r\n             \r\n            </tbody>\r\n        </Table>\r\n    )\r\n\r\n}\r\n\r\nexport default FixturesTable","\r\n\r\nimport React, {useState} from 'react';\r\nimport { Form, Card, Col, Button, Alert} from 'react-bootstrap';\r\nimport isEmpty from '../../../utils/isEmpty';\r\n\r\nconst EnterResult = (props) => {\r\n    const [homeScore, setHomeScore] = useState();\r\n    const [awayScore, setAwayScore] = useState();\r\n    const [error, setError] = useState();\r\n    \r\n    //Update fixture results  in database\r\n    const updateFixture = async () => {\r\n        //api parameters to update results\r\n        let body = {\r\n            fixt_id : props.fixt.fixture_id,\r\n            results :  {     \r\n                home_score : homeScore, \r\n                away_score : awayScore\r\n            }\r\n        };\r\n        const url ='https://api.lineleaders.net/fixtures/updateResults'\r\n        const options = {\r\n            method:'POST',\r\n            headers:{\r\n                'Content-Type': 'application/json;charset=UTF-8'\r\n            }, \r\n            body: JSON.stringify(body)\r\n        }\r\n\r\n        //call api\r\n        fetch(url, options)\r\n            .then(response=> {\r\n                props.removeFixt(props.fixt.fixture_id);\r\n            })\r\n            .catch(err=>{\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    //function to add results to fixture and update database \r\n    const checkResults = () => {\r\n        //make sure scores are valid \r\n        if(isNaN(homeScore) || isNaN(awayScore) || awayScore < 0 || homeScore < 0){\r\n            setError(<Alert variant='danger'>Enter a valid score in order to save</Alert>)\r\n        }else{\r\n            setError()\r\n            //add to database\r\n            updateFixture();\r\n        } \r\n    }\r\n\r\n    return (    \r\n        <Card>\r\n            <Card.Header>\r\n                Enter Results\r\n            </Card.Header>\r\n            <Card.Body>\r\n                {!isEmpty(props.fixt) ? \r\n                    <Form> \r\n                        <Form.Row> \r\n                            <Col> \r\n                                <Form.Control type=\"number\" onChange={(e)=>setAwayScore(e.target.value)}></Form.Control>\r\n                            </Col>\r\n                            <Form.Label column>{props.fixt.fixture.away_team}</Form.Label>\r\n                        </Form.Row>\r\n                        <Form.Row> \r\n                            <Col> \r\n                                <Form.Control type=\"number\"  onChange={(e)=>setHomeScore(e.target.value)}></Form.Control>\r\n                            </Col>\r\n                            <Form.Label column>{props.fixt.fixture.home_team}</Form.Label>\r\n                        </Form.Row>\r\n                        <Form.Row> \r\n                            {error}\r\n                            <Button onClick={()=>checkResults()}>Save Results</Button>\r\n                        </Form.Row>\r\n                        \r\n                    </Form>\r\n                        :\r\n                    <></>\r\n                }\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n\r\n}\r\n\r\nexport default EnterResult\r\n\r\n","import React, {useEffect, useState} from 'react'\r\nimport {Row, Col} from 'react-bootstrap';\r\n\r\nimport FixturesTable from './FixturesTable';\r\nimport EnterResult from './EnterResult';\r\n\r\nconst NeedResultsPage = () => {\r\n    const [needResults, setNeedResults] = useState([]);\r\n    const [selectedFixt, setSelectedFixt] = useState({});\r\n    \r\n    //Run on render\r\n    useEffect(()=>{\r\n        const fetch_needsResults = async()=>{\r\n            const response = await fetch('https://api.lineleaders.net/fixtures/needResults');\r\n            const fixts = await response.json();\r\n            setNeedResults(fixts);\r\n        }\r\n\r\n        fetch_needsResults()\r\n    },[])\r\n\r\n    const removeFixt = (id) => { \r\n        setSelectedFixt({});\r\n        let index = needResults.findIndex(fixt => fixt.fixture_id === id)\r\n        let tmp = [...needResults];\r\n        tmp.splice(index, 1);\r\n        setNeedResults(tmp);\r\n    }\r\n\r\n    return (\r\n        <Row>\r\n            <Col md={8}>\r\n                <FixturesTable fixts={needResults} setSelected={setSelectedFixt}/>\r\n            </Col>\r\n            <Col md={4}> \r\n                <EnterResult fixt={selectedFixt} removeFixt={removeFixt}/>\r\n            </Col>\r\n        </Row>   \r\n    )\r\n\r\n}\r\n\r\nexport default NeedResultsPage\r\n\r\n","import React, {useState} from 'react'\r\nimport {Row, Navbar, Nav} from 'react-bootstrap';\r\n\r\n//Components\r\nimport CreateContest from '../forms/createContest/CreateContest';\r\nimport AdminSideBar from '../navs/AdminSideBar';\r\nimport NeedResultsPage from '../admin/fixtureResults/NeedResultsPage';\r\nconst AdminPage = () => {\r\n    const [component, setComponent] = useState(<></>)\r\n\r\n    const close = () => {\r\n        setComponent(<></>)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Row>\r\n                <Navbar>\r\n                    <Nav>\r\n                        <Nav.Item>\r\n                            <Nav.Link onClick={()=>setComponent(<NeedResultsPage />)}>Enter Results</Nav.Link>\r\n                       </Nav.Item>\r\n                        <Nav.Item>\r\n                            <Nav.Link onClick={()=>setComponent(<CreateContest />)}>Create Contest</Nav.Link>\r\n                        </Nav.Item>\r\n                    </Nav>\r\n                </Navbar>\r\n            </Row>\r\n            <Row>   \r\n                {component}        \r\n            </Row>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default AdminPage","import React from 'react';\r\nimport {Table, Button} from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\n\r\nconst MyLiveContests = (props) => {\r\n\r\n    return (\r\n        <Table responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th>Contest Name</th>\r\n                    <th>Style</th>\r\n                    <th></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.contests.map(contest=>(\r\n                    <tr key={contest.intContestID}>\r\n                        <td>{contest.strContestName}</td>\r\n                        <td>{contest.strContestType}</td>\r\n                        <th>{contest.decEntry}</th>\r\n                        <td>\r\n                            <LinkContainer to={\"/live-contest/\"+contest.intContestID+\"/entry/\"+contest.intContestPlayerID}>\r\n                                <Button>\r\n                                    Open\r\n                                </Button>\r\n                            </LinkContainer>    \r\n                        </td>\r\n                    </tr>\r\n                ))}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n\r\n}\r\n\r\nexport default MyLiveContests","// Run calcTime every second\r\nlet updateStartCountdown = (date, i) => {\r\n    const weekday =[\"Mon\",\"Tue\",\"Wed\",\"Thur\",\"Fri\",\"Sat\",\"Sun\"];\r\n    let newdate = new Date(date);\r\n    let now = new Date().getTime();\r\n    let start = new Date(date).getTime();\r\n    let timeleft = start - now;\r\n    let day = new Date(date).getDay();\r\n    let hour = new Date(date).getHours();\r\n    let ampm = hour >= 12 ? 'pm' : 'am';\r\n    if(hour > 12){\r\n        hour -= 12\r\n    }\r\n    \r\n    // Calculating the days, hours, minutes and seconds left\r\n    let days = Math.floor(timeleft / (1000 * 60 * 60 * 24));\r\n    let hours = Math.floor((timeleft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n    let minutes = Math.floor((timeleft % (1000 * 60 * 60)) / (1000 * 60));\r\n    let seconds = Math.floor((timeleft % (1000 * 60)) / 1000);\r\n    \r\n    let countdown=\"\";\r\n    // Display the message when countdown is over\r\n    if (timeleft < 0) {\r\n        countdown = \"TIME UP!!\";\r\n    }else{\r\n        if(days < 1){\r\n            countdown = hours+\":\"+ minutes+\":\"+ seconds;\r\n        }else if(days <= 6){\r\n            countdown = weekday[day-1]+\" \"+hour+ampm;\r\n        }else{\r\n            countdown = newdate.getMonth()+1+\"/\"+newdate.getDate()+\" \"+hour+ampm;\r\n\r\n\r\n        }\r\n    }; \r\n\r\n    let elementID=\"countdown\"+i;\r\n    document.getElementById(elementID).innerHTML = countdown;    \r\n};\r\n\r\nexport default updateStartCountdown;","import React, { useEffect} from 'react'\r\nimport {Table} from 'react-bootstrap';\r\nimport updateStartCountdown from '../../../utils/startCountdown';\r\n\r\nconst MyUpcomingContests = (props) => {\r\n    let contests = props.contests;\r\n\r\n    //Effect to update countdown \r\n    useEffect(()=>{\r\n        if(contests.length > 0){\r\n            var countdowns = setInterval(()=>{\r\n                contests.forEach((contest, i)=>{\r\n                    updateStartCountdown(contest.dtmStart, i);\r\n                })\r\n            },1000)\r\n        }\r\n\r\n        //Cleanup interval on component unmount\r\n        return function cleanup() {\r\n            clearInterval(countdowns);       \r\n        };\r\n    });\r\n\r\n    return (\r\n        <Table responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th>Contest Name</th>\r\n                    <th>Live In</th>\r\n                    <th>Game Style</th>\r\n                    <th>Entry Fee</th>\r\n                    <th>Prizes</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.contests.map((contest, i)=>(\r\n                    <tr key={contest.intContestID+i}>\r\n                        <td>{contest.strContestName}</td>\r\n                        <td id={\"countdown\"+i}></td>\r\n                        <td>{contest.strContestType}</td>\r\n                        <td>${contest.decEntryFee}</td>\r\n                        <td>${contest.decPrizePool}</td>\r\n                    </tr>\r\n                ))}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n}\r\n\r\nexport default MyUpcomingContests","import React from 'react'\r\nimport formatTime from '../../../../utils/formatTime';\r\nimport stringifyOddsAndPoints from '../../../../utils/stringifyOddsAndPoints';\r\n\r\nconst Leg = (props) => {\r\n    let leg = props.leg\r\n    let time = formatTime(leg.fixture.time)\r\n\r\n    if(leg.line.type === \"Moneyline\"){\r\n        return (\r\n            <td>\r\n                    <b>{leg.line.team.type === \"Draw\" ? \r\n                        leg.line.team.type\r\n                            :\r\n                        leg.line.team.name\r\n                    }</b>\r\n                    <br/>{leg.fixture.fixture}\r\n                    <br/>{time}\r\n            </td>\r\n        )\r\n    }else if(leg.line.type === \"Spread\"){\r\n        let line;\r\n        if(leg.line.line > 0){\r\n            line = leg.line.line;\r\n        }else{\r\n            line = leg.line.line;\r\n        }\r\n        return (\r\n            <td>\r\n                <b>{leg.line.team.name + \" \" + stringifyOddsAndPoints(leg.line.line)}</b>\r\n                <br/>{leg.fixture.fixture}\r\n                <br/>{time}\r\n            </td>\r\n        )\r\n    }else if(leg.line.type === \"Total\"){\r\n        return (\r\n            <td>\r\n                <b>{leg.line.bet + \" \" + leg.line.line}</b>\r\n                <br/>{leg.fixture.fixture}\r\n                <br/>{time}\r\n            </td>\r\n        )\r\n    }\r\n    return(\r\n        <></>\r\n    )\r\n    \r\n    \r\n}\r\n\r\nexport default Leg","import React from 'react';\r\nimport {Table } from 'react-bootstrap';\r\nimport stringifyOddsAndPoints from '../../../../utils/stringifyOddsAndPoints';\r\nimport Leg from './Leg';\r\nimport '../../../../css/betsTable.css';\r\n\r\nconst SettledBets = (props) => {  \r\n    return (\r\n        <Table responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th>Date Placed</th>\r\n                    <th>Type</th>\r\n                    <th>Line(s)</th>\r\n                    <th>Odds</th>\r\n                    <th>Risk</th>\r\n                    <th>Win</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.settledBets.map((bet,i)=>{\r\n                    var dtm = new Date(parseInt(bet.timestamp));\r\n                    let timestamp = dtm.toLocaleString([], {dateStyle: 'short', timeStyle:'short'});\r\n                    if(bet.type === \"Straight\"){\r\n                        const leg = bet.legs[0];\r\n                        //calc win field\r\n                        let win;\r\n                        if(bet.odds > 0){\r\n                            let dec = bet.odds/100;\r\n                            win = parseFloat(bet.wager * dec).toFixed(2)\r\n                        }else{\r\n                            let dec = Math.abs(bet.odds)/100;\r\n                            win = parseFloat(bet.wager / dec).toFixed(2)\r\n                        }\r\n                        return(\r\n                            <tr className={\"bet\"+bet.result} key={i}>\r\n                                <td>{timestamp}</td>\r\n                                <td>{bet.type}</td>\r\n                                <Leg leg={leg} />\r\n                                <td>{stringifyOddsAndPoints(bet.odds)}</td>\r\n                                <td>{\"$\"+parseFloat(bet.wager).toFixed(2)}</td>\r\n                                {bet.result === \"W\" ? <td>{\"+$\"+win}</td> :<></>}\r\n                                {bet.result === \"L\" ? <td>{\"-$\"+parseFloat(bet.wager).toFixed(2)}</td> :<></>}\r\n                                {bet.result === \"P\" ? <td>{\"-\"}</td> :<></>}\r\n                            </tr>\r\n                        )\r\n                    }else{\r\n                        return <></>;\r\n                    }\r\n                })}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n}\r\n\r\nexport default SettledBets;\r\n","const formatCurrency = (num) => {\r\n    let formatted = Number(num).toLocaleString('en-US', { style: 'currency', currency: 'USD' });\r\n    return formatted;\r\n}  \r\n\r\nexport default formatCurrency;","/*function to fetch bets by contest entry id\r\nformats bet into bets object containing open and settled bets\r\nreturns bets object\r\n*/\r\nconst fetchContestBets = async(entryid) => {\r\n    const response = await fetch('https://api.lineleaders.net/bets/byEntry?entryid='+entryid);\r\n    const json = await response.json();\r\n    //separate into open and settled and set redux state\r\n    \r\n    let bets = {\r\n        open : [],\r\n        settled : []\r\n    } \r\n\r\n    json.forEach(bet=>{\r\n        if(bet.result === \"W\"|| bet.result === \"L\" || bet.Result ===\"P\"){\r\n            bets.settled.push(bet);\r\n        }else{\r\n            bets.open.push(bet);\r\n        }\r\n    })\r\n    return bets;\r\n}\r\n\r\nexport default fetchContestBets;","import React, {useState, useEffect} from 'react'\r\nimport {Table, Alert, Row, Col, Image} from 'react-bootstrap';\r\nimport SettledBets from './bets/SettledBets';\r\nimport formatCurrency from '../../../utils/formatCurrency';\r\nimport fetchContestBets from '../../../api/bets/fetchContestBets';\r\nimport isEmpty from '../../../utils/isEmpty';\r\nimport '../../../css/global/tables.css'\r\nimport back from '../../../images/icons/noun_back_3542560.svg';\r\n\r\nconst Leaderboard = (props) => {\r\n    const [contestant, setContestant] = useState({})\r\n    //function to fetch a contestants bets \r\n    const getBets = async(contestant)=>{\r\n        let tmpBets = await fetchContestBets(contestant.id);\r\n        contestant.bets = tmpBets.settled;\r\n\r\n        setContestant(contestant);\r\n    }\r\n\r\n    //show contestant bets if loaded\r\n    if(!isEmpty(contestant)){\r\n        let record =\"\";\r\n        let bankroll = formatCurrency(contestant.bankroll)\r\n        if(contestant.p > 0){\r\n            record = contestant.w +\"-\"+ contestant.l +\"-\"+ contestant.p\r\n        }else{\r\n            record = contestant.w +\"-\"+ contestant.l\r\n        }\r\n        return(\r\n            <div className=\"left-align\">    \r\n                <div onClick={()=>setContestant({})}><Image src={back} width=\"35\" height=\"auto\" />Back</div>\r\n                <div>\r\n                    <strong>{contestant.email}</strong>\r\n                    <p className=\"no-margin\">{\"Place: \"+contestant.place}</p>\r\n                    <p className=\"no-margin\">{\"Bankroll: \"+bankroll}</p>\r\n                    <p className=\"no-margin\">{\"Record: \"+record}</p>\r\n                </div>\r\n                <SettledBets settledBets={contestant.bets} />\r\n            </div>\r\n        )\r\n    }else{\r\n        return (\r\n        <Table responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th>Place</th>\r\n                    <th>Username</th>\r\n                    <th>Bankroll</th>\r\n                    <th>W/L</th>\r\n                    <th>Prizes</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.leaderboards.map((contestant, i) => {\r\n                    let record =\"\";\r\n                    let bankroll = formatCurrency(contestant.bankroll)\r\n                    if(contestant.p > 0){\r\n                        record = contestant.w +\"-\"+ contestant.l +\"-\"+ contestant.p\r\n                    }else{\r\n                        record = contestant.w +\"-\"+ contestant.l\r\n                    }\r\n                    return(\r\n                        <tr key={contestant.id} className=\"clickable\" onClick={()=>getBets(contestant)}>\r\n                            <td>{i+1}</td>\r\n                            <td>{contestant.email}</td>\r\n                            <td>{bankroll}</td>\r\n                            <td>{record}</td>\r\n                            {parseFloat(contestant.winnings) > 0 ?\r\n                                (<td><Alert variant=\"success\">{\"$\"+contestant.winnings}</Alert></td>)\r\n                                :\r\n                                (<td />)\r\n                            }\r\n                        </tr>\r\n                    )\r\n                })}\r\n            </tbody>\r\n        </Table>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\nexport default Leaderboard;\r\n","const fetchLeaderboards = async(contestid, typeID, prizepool) => {\r\n    console.log(contestid)\r\n    console.log(typeID)\r\n    console.log(prizepool)\r\n\r\n    const response = await fetch('https://api.lineleaders.net/contests/leaderboards/?id='+contestid+\"&contestTypeID=\"+typeID+\"&prizepool=\"+prizepool);\r\n    let leaderboards = await response.json();\r\n    if(leaderboards.length > 0){\r\n        return leaderboards;\r\n    }else return [];\r\n}\r\n\r\nexport default fetchLeaderboards","import React, {useState, useEffect} from 'react'\r\nimport {Table, Modal} from 'react-bootstrap';\r\nimport Leaderboard from '../../ActiveContest/Leaderboard';\r\nimport isEmpty from'../../../../utils/isEmpty';\r\nimport fetchLeaderboards from '../../../../api/fetchLeaderboards';\r\nimport '../../../../css/leaderboard.css';\r\n\r\nconst MyHistoryContests = (props) => {\r\n    const [leaderboards,setLeaderboards] = useState([]);\r\n    const [displayLb, setDisplayLb] = useState(false);\r\n    const [contest, setContest] = useState({});\r\n\r\n    //open contest leaderboard modal\r\n    const displayLeaderboard = (contest) => {\r\n        setDisplayLb(true)\r\n        setContest(contest)\r\n    }   \r\n\r\n    //run when contest is set, get leaderboards \r\n    useEffect(()=>{\r\n        const getLB = async ()=>{\r\n            let lb = await fetchLeaderboards(contest.intContestID, contest.intContestTypeID, contest.decPrizePool);\r\n            setLeaderboards(lb);\r\n        }\r\n\r\n        if(!isEmpty(contest) && displayLb === true){\r\n            getLB();\r\n        }\r\n    },[setDisplayLb, contest])\r\n\r\n    //Function to handle cancellation of bet submission\r\n    const handleClose = () => {\r\n        setContest({});\r\n        setLeaderboards([]);\r\n        setDisplayLb(false);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Table responsive>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Contest Name</th>\r\n                        <th>Style</th>\r\n                        <th>Placement</th>\r\n                        <th>Record</th>\r\n                        <th>Bankroll</th>\r\n                        <th>Prizes</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {props.contests.map(contest=>(\r\n                        <tr key={contest.intContestID} onClick={()=>displayLeaderboard(contest)}>\r\n                            <td>{contest.strContestName}</td>\r\n                            <td>{contest.strContestType}</td>\r\n                            <td>{contest.intPlacement}</td>\r\n                            <td>{contest.strRecord}</td>\r\n                            <td>{\"$\"+contest.decBankroll}</td>\r\n                            <td>{\"$\"+contest.decWinnings}</td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </Table>\r\n            <Modal id=\"leaderboard-modal\" show={displayLb} onHide={handleClose} size=\"lg\">\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>{contest.strContestName}<br />Final Standings</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <Leaderboard leaderboards={leaderboards} />\r\n                </Modal.Body>\r\n            </Modal>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default MyHistoryContests","import React, { useState, useEffect } from 'react';\r\nimport {Tabs, Tab, Spinner} from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\n\r\n//Components \r\nimport MyLiveContests from '../individual/MyContests/MyLiveContests';\r\nimport MyUpcomingContests from '../individual/MyContests/MyUpcomingContests';\r\nimport MyHistoryContests from '../individual/MyContests/history/MyHistoryContests';\r\n\r\nconst ContestsPage = (props) => {\r\n    const [contests, setContests] = useState([]);\r\n    const [liveContests, setLiveContests] = useState([]);\r\n    const [upcomingContests, setUpcomingContests] = useState([]);\r\n    const [historyContests, setHistoryContests] = useState([]);\r\n    const [display, setDisplay] = useState(false);\r\n\r\n    //Set display to true after 3 seconds\r\n    setTimeout(function() {\r\n        setDisplay(true)\r\n    }, 1000);\r\n\r\n    useEffect(()=>{\r\n        const fetchMyContests = async ()=> {\r\n            const response = await fetch('https://api.lineleaders.net/contests/myContests?ID='+props.accountID);\r\n            const contests = await response.json();\r\n            setContests(contests);\r\n        }\r\n\r\n        fetchMyContests();\r\n    },[props])\r\n\r\n\r\n    useEffect(()=>{\r\n        if(contests.length > 0){\r\n            let active = [];\r\n            let upcoming = [];\r\n            let history = [];\r\n            let count = 0;\r\n\r\n            contests.forEach(contest => {\r\n                //upcoming (Or open in DB)\r\n                if(contest.intContestStatusID == 1){\r\n                    upcoming.push(contest)\r\n                }\r\n                // active\r\n                else if(contest.intContestStatusID == 2){\r\n                    active.push(contest)\r\n                }\r\n                // history (complete)\r\n                else if(contest.intContestStatusID == 3){\r\n                    history.push(contest)\r\n                }\r\n                count++;\r\n            })\r\n            if(count == contests.length ){\r\n                setLiveContests(active);\r\n                setUpcomingContests(upcoming);\r\n                setHistoryContests(history);            \r\n            }\r\n        }\r\n    },[contests])\r\n\r\n    if(display===true){ \r\n\r\n        return (\r\n            <>\r\n                <h3>MY CONTESTS</h3>\r\n                <Tabs fill defaultActiveKey=\"live\" id=\"contestsTab\">\r\n                    <Tab eventKey=\"live\" title=\"LIVE\">\r\n                        <MyLiveContests contests={liveContests} />\r\n                    </Tab>  \r\n                    <Tab eventKey=\"upcoming\" title=\"UPCOMING\">\r\n                        <MyUpcomingContests contests={upcomingContests} />\r\n                    </Tab>\r\n                    <Tab eventKey=\"history\" title=\"HISTORY\">\r\n                        <MyHistoryContests contests={historyContests} />\r\n                    </Tab>\r\n                </Tabs>\r\n            </>\r\n        )\r\n    }else return (\r\n        <>\r\n            <Spinner className=\"center\" animation=\"border\"/>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        accountID: state.user.ID\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(ContestsPage);","import React from 'react'\r\nimport {Modal, Button} from 'react-bootstrap';\r\n\r\n/* \r\nComponent takes following props\r\nshow - boolean to show or hide modal\r\nclose - function to set parent variable that handles display of modal to false\r\naction - call back funtion to action on clicking button\r\nbuttonText - text to display on button\r\nmessage - title text for modal\r\n*/\r\n\r\nconst ConfirmationModal = (props) => {\r\n    return (\r\n        <Modal show={props.show} onHide={props.close}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>{props.message}</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={props.close}>\r\n                    Close\r\n                </Button>\r\n                <Button variant=\"primary\" onClick={props.action}>\r\n                    {props.buttonText}\r\n                </Button>\r\n                </Modal.Footer>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default ConfirmationModal","import React, {useState, useEffect} from 'react';\r\nimport {Row, Col, Table, Button} from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport updateStartCountdown from '../../../utils/startCountdown';\r\nimport ConfirmationModal from '../../shared/ConfirmationModal';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n/*  Contest Object Structure\r\n        {\r\n            contestID: Number, \r\n            contestLeagues: [\r\n                {\r\n                    leagueID: Number, \r\n                    leagueName: String\r\n                }   \r\n            ],\r\n            entry: Number, \r\n            bankroll: Number, \r\n            prizepool: Number,\r\n            start: Date, \r\n            end: Date, \r\n            minPlayers: Number, \r\n            maxPlayers: Number\r\n        }\r\n*/\r\n\r\n/*    NOTES \r\n\r\n        - min + max players are hardcoded currently \r\n        - Start time needs to be countdown within 24 hrs or day + time if > 24 hrs away\r\n        - Make sure time is being translated to the right timezone\r\n*/\r\n\r\nconst OpenContests = (props) => {\r\n    const contests = props.contests;\r\n    const [contestID, setContestID] = useState();\r\n    const [showConfirm, setShowConfirm] = useState(false);\r\n    const handleClose = () => {\r\n        setShowConfirm(false)\r\n        setContestID()\r\n    };\r\n    const history = useHistory();\r\n\r\n\r\n    //Enter contest \r\n    const enterContest = async () => {\r\n        const body = {\r\n            contestID: contestID,\r\n            accountID: props.accountID\r\n        };\r\n\r\n        const opts = {\r\n            method: \"POST\",\r\n            body: JSON.stringify(body),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"        \r\n            }\r\n        }\r\n\r\n        const url = \"https://api.lineleaders.net/contests/enter\";\r\n\r\n        //enter contest\r\n        fetch(url, opts)\r\n        .then(response=> {\r\n            console.log(response.json())\r\n            setShowConfirm(false);\r\n            history.push(\"/contests\");\r\n\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    //Effect to update countdown \r\n    useEffect(()=>{\r\n        if(contests.length > 0){\r\n            var countdowns = setInterval(()=>{\r\n                contests.forEach((contest, i)=>{\r\n                    updateStartCountdown(contest.start, i);\r\n                })\r\n            },1000)\r\n        }\r\n\r\n        //Cleanup interval on component unmount\r\n        return function cleanup() {\r\n            clearInterval(countdowns);       \r\n        };\r\n    });\r\n\r\n    const handleEnter = (contestID) => {\r\n        setContestID(contestID);\r\n        setShowConfirm(true);\r\n    }\r\n\r\n\r\n    return (\r\n        <Row>\r\n            <Col>\r\n                <h3>Open Contests</h3>\r\n                <Table responsive>  \r\n                    <thead>\r\n                        <tr>\r\n                            <th>Contest Name</th>\r\n                            <th className=\"hidden-md\">Style</th>\r\n                            <th>Entry Fee</th>\r\n                            <th>Prizepool</th>\r\n                            <th className=\"hidden-md\">Bankroll</th>\r\n                            <th>Start</th>\r\n                            <th></th>\r\n                        </tr>\r\n                    </thead>               \r\n                    <tbody>   \r\n                        {contests.length > 0 ?\r\n                            (\r\n                                contests.map((contest,i)=>{\r\n                                    return(\r\n                                        <tr key={contest.contestID}>\r\n                                            <td>{contest.name}</td>\r\n                                            <td className=\"hidden-md\">{contest.contestType}</td>\r\n                                            <td>${contest.entry}</td>\r\n                                            <td>${contest.prizepool}</td>\r\n                                            <td className=\"hidden-md\">${contest.bankroll}</td>\r\n                                            <td id={\"countdown\"+i}></td>\r\n                                            <td><Button onClick={()=>handleEnter(contest.contestID)}>Enter</Button></td>\r\n                                        </tr>\r\n                                    )\r\n                                })\r\n                            )\r\n                                :\r\n                            (\r\n                                <tr>\r\n                                    <td colSpan=\"5\">No Contests Available</td>\r\n                                </tr>\r\n                            )\r\n                        }\r\n                    </tbody>\r\n                </Table>            \r\n            </Col> \r\n            <ConfirmationModal close={handleClose} show={showConfirm} action={()=>enterContest(contestID)} buttonText=\"Enter\" message={\"Enter Contest?\"}/>\r\n\r\n        </Row>     \r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        accountID: state.user.ID\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(OpenContests);","import React, {useState, useEffect} from 'react';\r\nimport {Spinner} from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\n//Components \r\nimport UpcomingContests from '../individual/UpcomingContests/UpcomingContests';\r\n\r\nconst Lobby = (props) => {\r\n    const [availContests, setAvailContests] = useState([]);\r\n    const [contestRows, setContestRows] = useState([]);\r\n    const [contests, setContests] = useState([]);\r\n    const [display, setDisplay] = useState(false);\r\n\r\n    //fetch open contests on initial render\r\n    useEffect(()=>{\r\n        const fetchOpenContests = async () => {\r\n            const response = await fetch('https://api.lineleaders.net/contests/open');\r\n            const data = await response.json(); \r\n            //set contest rows state array\r\n            setContestRows(data);\r\n        }\r\n\r\n        fetchOpenContests();\r\n    },[]);\r\n\r\n    //fetch user contests and set redux var\r\n    useEffect(()=>{\r\n        const fetchMyContests = async()=>{\r\n            const response = await fetch('https://api.lineleaders.net/contests/myContests?ID='+props.accountID);\r\n            const data = await response.json(); \r\n            //set user contests redux variable \r\n            props.setMyContests(data);\r\n        }\r\n\r\n        fetchMyContests();\r\n    }, [props.accountID]);\r\n\r\n    //check available contests to display \r\n    useEffect(()=>{\r\n        let tmpAvail = [];\r\n        contests.forEach(cont => {\r\n            let exists = props.myContests.findIndex(myCont => myCont.intContestID == cont.contestID);\r\n            if(exists === -1){\r\n                tmpAvail.push(cont);\r\n            }\r\n        })\r\n\r\n        setAvailContests(tmpAvail);\r\n    },[contests, props.myContests])\r\n\r\n    //Set display to true after 3 seconds\r\n    setTimeout(function() {\r\n        setDisplay(true)\r\n    }, 1000);\r\n\r\n    //Function to check each row returned, check for existing contest - add league, or add new contest object to arr\r\n    const checkRow = (row) => {\r\n        let arr = contests;\r\n        let index = contests.findIndex(contest=> contest.contestID === row.intContestID);\r\n        if(index > -1){\r\n            let league = {\r\n                leagueID: row.intLeagueID, \r\n                leagueName: row.strLeagueName\r\n            }\r\n\r\n            arr[index].contestLeagues = [...arr[index].contestLeagues, league];\r\n        }else{\r\n            arr.push({\r\n                contestID: row.intContestID, \r\n                name: row.strContestName,\r\n                contestType: row.strContestType,\r\n                contestLeagues: [\r\n                    {\r\n                        leagueID: row.intLeagueID, \r\n                        leagueName: row.strLeagueName\r\n                    }   \r\n                ],\r\n                entry: row.decEntryFee, \r\n                bankroll: row.decInitialBankRoll, \r\n                prizepool: row.decPrizePool,\r\n                start: row.dtmStart, \r\n                end: row.dtmEnd, \r\n                minPlayers: '', \r\n                maxPlayers: ''\r\n            })\r\n        }\r\n        return [...arr];\r\n\r\n    }; \r\n    //run when contest rows array changes \r\n    useEffect(()=>{\r\n        let cntsts = [];\r\n        let count = 0;\r\n        if(contestRows.length > 0){\r\n            contestRows.forEach(row=> {\r\n                cntsts = checkRow(row);\r\n                count++;\r\n            })\r\n            if(count == contestRows.length ){\r\n                setContests(cntsts);\r\n            }\r\n        }\r\n    },[contestRows]);\r\n\r\n\r\n\r\n    if(display===true){ \r\n        return (\r\n            <>\r\n                <UpcomingContests contests={availContests}/>\r\n            </>\r\n        )\r\n    }else{\r\n        return(\r\n            <Spinner animation=\"border\"/>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n      myContests: state.user.contests,\r\n      accountID: state.user.ID\r\n    }\r\n  }\r\n  \r\n  const mapDispatchToProps = ( dispatch ) => {\r\n    return{\r\n      setMyContests: contests => { dispatch({type: 'SET_CONTESTS', contests: contests })},      \r\n    }\r\n  }\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Lobby);","import React from 'react';\r\nimport {Table } from 'react-bootstrap';\r\nimport stringifyOddsAndPoints from '../../../../utils/stringifyOddsAndPoints';\r\nimport Leg from './Leg';\r\nimport '../../../../css/betsTable.css';\r\nimport { connect } from 'react-redux';\r\nimport formatTime from '../../../../utils/formatTime';\r\nconst OpenBets = (props) => {    \r\n    return (\r\n        <Table responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th>Date Placed</th>\r\n                    <th>Type</th>\r\n                    <th>Line(s)</th>\r\n                    <th>Odds</th>\r\n                    <th>Risk</th>\r\n                    <th>Win</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.openBets.map((bet, i)=>{\r\n                    var dtm = new Date(parseInt(bet.timestamp));\r\n                    let timestamp = dtm.toLocaleString([], {dateStyle: 'short', timeStyle:'short'});\r\n                    if(bet.type === \"Straight\"){\r\n                        const leg = bet.legs[0];\r\n                        //calc win field\r\n                        let win;\r\n                        if(bet.odds > 0){\r\n                            let dec = bet.odds/100;\r\n                            win = parseFloat(bet.wager * dec).toFixed(2)\r\n                        }else{\r\n                            let dec = Math.abs(bet.odds)/100;\r\n                            win = parseFloat(bet.wager / dec).toFixed(2)\r\n                        }\r\n                        return(\r\n                            <tr className={\"openBet\"} key={i}>\r\n                                <td>{timestamp}</td>\r\n                                <td>{bet.type}</td>\r\n                                <Leg leg={leg} />\r\n                                <td>{stringifyOddsAndPoints(bet.odds)}</td>\r\n                                <td>{\"$\"+parseFloat(bet.wager).toFixed(2)}</td>\r\n                                <td>{\"$\"+win}</td>\r\n                            </tr>\r\n                        )\r\n                    }else{\r\n                        return <></>;\r\n                    }\r\n                })}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        openBets: state.contest.openBets\r\n    }\r\n  }\r\n\r\n  export default connect(mapStateToProps)(OpenBets);\r\n","import React, {useState, useEffect} from 'react';\r\nimport {Col, Form, Table, Image} from 'react-bootstrap';\r\nimport formatTime from '../../../../utils/formatTime';\r\nimport stringifyOddsAndPoints from '../../../../utils/stringifyOddsAndPoints';\r\nimport close from '../../../../images/icons/noun_Close_3850069.svg';\r\nconst Bet = (props) => {\r\n    const [risk, setRisk] = useState(\"\");\r\n    const [win, setWin] = useState(\"\");\r\n\r\n    const bet = props.bet;\r\n    //index of bet in array\r\n    const i = props.i;\r\n\r\n    //Run whenever risk is set, set win variable and setWager on bet in array \r\n    useEffect(()=>{\r\n        if(risk !== \"\"){\r\n            let odds = parseFloat(bet.odds);\r\n            let tmpRisk = parseFloat(risk);\r\n            let tmpWin;\r\n            if(odds > 0){\r\n                tmpWin = parseFloat(tmpRisk*parseFloat(odds)/100).toFixed(2);\r\n            }else{\r\n                odds = Math.abs(odds);\r\n                let denom = odds/100;\r\n                tmpWin = parseFloat(tmpRisk/ denom).toFixed(2);\r\n            }\r\n            setWin(tmpWin);\r\n        }else{\r\n            setWin(\"\")\r\n        }\r\n\r\n        props.addWager(bet.id, risk)\r\n\r\n    },[risk])\r\n\r\n    //Function to toggle bet details \r\n    const toggleDetails = (i) => {\r\n        let detailRows = document.getElementsByClassName(\"betDetails\"+i);\r\n        let arrow = document.getElementById(\"arrow\"+i);\r\n\r\n        for(let i =0; i < detailRows.length; i++){\r\n            if(detailRows[i].style.display === 'none'){\r\n                detailRows[i].style.display = '';\r\n                arrow.classList.remove(\"right\");\r\n                arrow.classList.add(\"down\");\r\n            }else{\r\n                detailRows[i].style.display = 'none';\r\n                arrow.classList.remove(\"down\");\r\n                arrow.classList.add(\"right\");\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Table className=\"bet\">\r\n                <tbody>\r\n                    <tr>\r\n                        {(bet.type === \"Spread\") ? \r\n                            <td onClick={()=>toggleDetails(i)}>\r\n                                <i className=\"arrow down\" id={\"arrow\"+i} ></i> <strong>{bet.bet+\" \"+stringifyOddsAndPoints(bet.handicap) + \" (\"+stringifyOddsAndPoints(bet.odds)+\")\"}</strong>\r\n                            </td>\r\n                        : \r\n                        (bet.type === \"Total\") ?\r\n                            <td onClick={()=>toggleDetails(i)}>\r\n                                <i className=\"arrow down\" id={\"arrow\"+i} ></i> <strong>{bet.bet+\" \"+bet.total + \" (\"+stringifyOddsAndPoints(bet.odds)+\")\"}</strong>\r\n                            </td>\r\n                        :\r\n                            <td onClick={()=>toggleDetails(i)}>\r\n                                <i className=\"arrow down\" id={\"arrow\"+i} ></i> <strong>{bet.bet + \" (\"+stringifyOddsAndPoints(bet.odds)+\")\"}</strong>\r\n                            </td>\r\n                        }\r\n                        <td className=\"odds\">{bet.odds.american}<Image src={close} width=\"18\" height=\"auto\" onClick={()=>props.removeBets([bet.id])} /></td> \r\n                    </tr>\r\n                    <tr>\r\n                        <td colSpan={2}>{bet.type}</td>\r\n                    </tr>\r\n                    <tr className={\"betDetails\"+i}>\r\n                        <td  colSpan={2}>{bet.fixture}</td>\r\n                    </tr>\r\n                    <tr className={\"betDetails\"+i}>\r\n                        <td colSpan={2}>{formatTime(bet.time)}</td>\r\n                    </tr>\r\n                    {props.slipType === \"Straight\" ? \r\n                        <tr>\r\n                            <td colSpan={2}>\r\n                                <Form>\r\n                                    <Form.Row>\r\n                                        <Form.Group as={Col}>\r\n                                            <Form.Control type=\"number\" placeholder=\"Risk\" value={risk} onChange={(e)=>setRisk(e.target.value)}/>\r\n                                        </Form.Group> \r\n                                        <Form.Group as={Col}>\r\n                                            <Form.Control type=\"text\"  tabIndex=\"-1\" placeholder=\"Win\" value={win} readOnly/>\r\n                                        </Form.Group> \r\n                                    </Form.Row>\r\n                                </Form>\r\n                            </td>   \r\n                        </tr>\r\n                        :\r\n                        <></>\r\n                    }    \r\n                </tbody>\r\n            </Table>  \r\n        </>  \r\n    )\r\n}\r\n\r\nexport default Bet","let model = {\r\n    type: String, // Straight-Parlay-Teaser-RoundRobin\r\n    wager: Number, // Wager amount\r\n    odds: Number, // Total odds for bet\r\n    result: String //W-L\r\n}\r\n\r\nlet Leg = {\r\n    fixture: {\r\n        fixtureID: Number, // id of fixture, \r\n        fixture: String, //Fixture\r\n        time: Number // Time in epoch\r\n    },\r\n    line: Object, // ML-Spread-Total-Prop \r\n    odds: Number, //Odds for leg\r\n    result: String\r\n}\r\n\r\nlet ML = {\r\n    type: \"Moneyline\",\r\n    team: {\r\n        type: String, // Home-Away-Draw\r\n        name: String, // team name\r\n    }\r\n}\r\n\r\nlet Spread = {\r\n    type: \"Spread\",\r\n    team: {\r\n        type: String, // Home-Away\r\n        name: String // team name\r\n    },\r\n    line: Number // Point spread,\r\n}\r\n\r\nlet Total = {\r\n    type: \"Total\",\r\n    bet: String, // Over-Under\r\n    line: Number // Score Line\r\n}\r\n\r\nexport{\r\n    model, ML, Spread, Total, Leg\r\n}\r\n","import React, { useState } from 'react';\r\nimport {Card, Button, Alert} from 'react-bootstrap';\r\nimport '../../../../css/betslip.css';\r\nimport Bet from './Bet';\r\nimport {model, ML, Spread, Total, Leg} from '../../../../models/bet/bet';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\nimport fetchContestBets from '../../../../api/bets/fetchContestBets';\r\nimport ConfirmationModal from '../../../shared/ConfirmationModal';\r\n\r\nconst BetSlip = (props) => {\r\n    const match = useRouteMatch();\r\n    const [error, setError] = useState();\r\n    const [showConfirm, setShowConfirm] = useState(false);\r\n    let bets = props.bets;\r\n    //State variable to hold slip type (straight, parlay, etc.)\r\n    const [slipType, setSlipType] = useState(\"Straight\")\r\n    const [records, setRecords] = useState([]);\r\n\r\n    //add wager amount to Straight bet \r\n    const addWager = (id, wager) => {\r\n        //find index\r\n        const index = bets.map(bet => bet.id).indexOf(id);\r\n        let tmpBets = bets;\r\n        tmpBets[index].wager = wager;\r\n        bets = tmpBets;\r\n    }\r\n\r\n    //Function to format straight bets in records for db storage\r\n    const formatStraightBet = (bet) =>{\r\n        //create instance of bet model obj and add properties\r\n        let betModel = {...model};\r\n        betModel.type = slipType;\r\n        betModel.wager = bet.wager;\r\n        betModel.odds = bet.odds;\r\n        betModel.result = \"\";\r\n        \r\n        //create instance of leg obj \r\n        let leg = {...Leg};\r\n\r\n        let legType = bet.type;\r\n        if(legType === \"Spread\"){\r\n            //create instance of spread line object \r\n            let spread = {...Spread}; \r\n            spread.team = {...spread.team}\r\n            spread.team.type = bet.team.type;\r\n            spread.team.name = bet.team.name;\r\n            spread.line = bet.handicap;\r\n            leg.fixture = {...leg.fixture}\r\n            leg.fixture.fixtureID = bet.fixtureID; \r\n            leg.fixture.fixture = bet.fixture; \r\n            leg.fixture.time = bet.time; \r\n            leg.line = spread;\r\n            leg.odds = bet.odds.decimal;\r\n            leg.result =\"\";\r\n        }else if(legType === \"Moneyline\"){\r\n            //create instance of ML line object\r\n            let ml = {...ML}; \r\n            ml.team = {...ml.team}\r\n            ml.team.type = bet.team.type;\r\n            ml.team.name = bet.team.name;\r\n            leg.fixture = {...leg.fixture}\r\n            leg.fixture.fixtureID = bet.fixtureID; \r\n            leg.fixture.fixture = bet.fixture; \r\n            leg.fixture.time = bet.time;             \r\n            leg.line = ml;\r\n            leg.odds = bet.odds.decimal; \r\n            leg.result =\"\";       \r\n        }else if(legType === \"Total\"){\r\n            //create instance of Total line object\r\n            let total = {...Total}; \r\n            total.bet = bet.bet;\r\n            total.line = bet.total;\r\n            leg.fixture = {...leg.fixture}\r\n            leg.fixture.fixtureID = bet.fixtureID; \r\n            leg.fixture.fixture = bet.fixture; \r\n            leg.fixture.time = bet.time; \r\n            leg.line = total;\r\n            leg.odds = bet.odds.decimal;\r\n            leg.result =\"\";\r\n        }\r\n\r\n        return {\r\n            contestPlayerID: match.params.entryid,\r\n            jsonBet: betModel,\r\n            leg: leg\r\n        };\r\n    }\r\n\r\n    //function to validate and confirm bets, then confirm placements of bets\r\n    const validateBets = async() => {\r\n        //check to make sure all bets contain valid wagers and combine wagers from all bets\r\n        let totalWagered = 0;\r\n        //object to hold error\r\n        let error = {\r\n            isError: false,\r\n            message: String\r\n        }\r\n\r\n        await bets.forEach(bet=>{\r\n            if(bet.wager > 0){\r\n                totalWagered = totalWagered + parseFloat(bet.wager);\r\n            }else{\r\n                error.isError = true;\r\n                error.message =\"Please enter a valid wager amount for all bets\";\r\n            }\r\n        })\r\n        //check totalWagered and validate that it is not less than available\r\n\r\n        if(totalWagered > props.available){\r\n            error.isError = true;\r\n            error.message = \"Cash Available: $\"+props.available;\r\n        }\r\n\r\n        //check for error and either insert bets or display error message\r\n        if(error.isError === true){\r\n            setError(<Alert variant='danger'>{error.message}</Alert>)\r\n            return;\r\n        }else{\r\n            //clear any error message, display confirmation box\r\n            setError();\r\n            setShowConfirm(true);\r\n\r\n            //determine type of bet(s) - straight,parlay,etc.\r\n            if(slipType === \"Straight\"){\r\n                let tmpRecords = [];\r\n                //format each bet and set records state array\r\n                bets.forEach(bet=>{\r\n                    let tmpModel = formatStraightBet(bet)\r\n                    tmpRecords.push(tmpModel);\r\n                })\r\n                \r\n                setRecords(tmpRecords);\r\n            }\r\n        }   \r\n    }\r\n\r\n    //Function to insert records into the database\r\n    const insertBetRecords = async() => {\r\n        //close modal\r\n        setShowConfirm(false);\r\n\r\n        //api parameters to create bets\r\n        const body = {\r\n            bets: records\r\n        }\r\n        console.log(bets)\r\n\r\n        const url ='https://api.lineleaders.net/bets/createContest';\r\n        const options = {\r\n            method:'POST',\r\n            headers:{\r\n                'Content-Type': 'application/json;charset=UTF-8'\r\n            }, \r\n            body: JSON.stringify(body)\r\n        }\r\n\r\n        //call api and check res code\r\n        let response = await fetch(url, options);\r\n        let json = await response.json();\r\n\r\n        //if resources have been created, clear bets array\r\n        if(json.code === 201){\r\n            let ids = [];\r\n            bets.forEach(bet=>{\r\n                ids.push(bet.id);\r\n            })    \r\n            props.removeBets(ids);\r\n\r\n            let contestBets = await fetchContestBets(match.params.entryid);\r\n            props.setOpenBets(contestBets.open);\r\n            props.setSettledBets(contestBets.settled);\r\n        }\r\n    }\r\n\r\n    //Function to handle cancellation of bet submission\r\n    const handleCancellation = () => {\r\n        setRecords([]);\r\n        setShowConfirm(false);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Card >\r\n                <Card.Header>Bet Slip</Card.Header>\r\n                <Card.Body>\r\n                    {bets.map((bet, i)=>{\r\n                    return(\r\n                            <Bet key={bet.bet+bet.id} bet={bet} i={i} removeBets={props.removeBets} slipType={slipType} addWager={addWager}/>\r\n                        )\r\n                    })}\r\n                </Card.Body>\r\n                <Card.Footer>\r\n                    {error}\r\n                    <Button onClick={()=>validateBets()} variant=\"primary\">Place Bet(s)</Button>\r\n                </Card.Footer>\r\n            </Card>\r\n            <ConfirmationModal close={handleCancellation} show={showConfirm} action={insertBetRecords} buttonText=\"Yes\" message={\"Are you ready to place your bets?\"}/>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        available: state.contest.available,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = ( dispatch ) => {\r\n    return{\r\n        setOpenBets: bets => { dispatch({type: 'SET_OPEN_BETS', bets: bets })},      \r\n        setSettledBets: bets => { dispatch({type: 'SET_SETTLED_BETS', bets: bets })}\r\n    }\r\n  }\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BetSlip);\r\n","//Function to check if handicap is number or string like \"0.0, -0.5\"\r\nlet formatHandicap = (handicap) => {\r\n    if(isNaN(handicap)){\r\n        let nums = handicap.split(\",\");\r\n        let total = (parseFloat(nums[0])+parseFloat(nums[1]));\r\n        let formatted = total / 2;\r\n        return(formatted);\r\n    }else{\r\n        return(handicap);\r\n    }\r\n};\r\n\r\nexport default formatHandicap;","import React, {} from 'react';\r\nimport formatTime from '../../utils/formatTime';\r\nimport isEmpty from '../../utils/isEmpty';\r\nimport formatHandicap from '../../utils/formatHandicap';\r\nimport stringifyOddsAndPoints from '../../utils/stringifyOddsAndPoints';\r\nimport '../../css/global/fixtures.css';\r\n\r\nconst Fixture = (props) => {\r\n    let fixt = props.fixt;\r\n    let formattedTime = formatTime(fixt.fixture.commence_time);\r\n    \r\n    //function to add bet \r\n    const addBet = (fixture, bettype) => {\r\n        let tmp = [...props.bets];\r\n        let bet = {\r\n            id : bettype+\"-\"+fixture.fixture_id,\r\n            time : fixture.fixture.commence_time,\r\n            wager: Number,\r\n            fixture : fixture.fixture.home_team+\" vs \"+fixture.fixture.away_team,\r\n            fixtureID : fixture.fixture_id\r\n        };\r\n\r\n        //Format Bet\r\n        switch (bettype){\r\n            case \"away-spread\" : \r\n                bet.bet = fixture.fixture.away_team;\r\n                bet.odds = fixture.fixture.odds.spreads.away.odds;\r\n                bet.handicap = formatHandicap(fixture.fixture.odds.spreads.away.points);\r\n                bet.type = \"Spread\";\r\n                bet.team = {\r\n                    type: \"Away\",\r\n                    name: fixture.fixture.away_team\r\n                }\r\n            break;\r\n            case \"away-ml\" : \r\n                bet.type = \"Moneyline\";\r\n                bet.bet = fixture.fixture.away_team;\r\n                bet.odds = fixture.fixture.odds.h2h.away;\r\n                bet.team = {\r\n                    type: \"Away\",\r\n                    name: fixture.fixture.away_team\r\n                }\r\n            break;\r\n            case \"home-spread\" : \r\n                bet.bet = fixture.fixture.home_team;\r\n                bet.handicap = formatHandicap(fixture.fixture.odds.spreads.home.points);\r\n                bet.odds = fixture.fixture.odds.spreads.home.odds;\r\n                bet.type = \"Spread\";  \r\n                bet.team = {\r\n                    type: \"Home\",\r\n                    name: fixture.fixture.home_team\r\n                }\r\n            break;\r\n            case \"home-ml\" : \r\n                bet.bet = fixture.fixture.home_team;\r\n                bet.odds = fixture.fixture.odds.h2h.home;\r\n                bet.type = \"Moneyline\";\r\n                bet.team = {\r\n                    type: \"Home\",\r\n                    name: fixture.fixture.home_team\r\n                }\r\n            break;\r\n            case \"over\" : \r\n                bet.odds = fixture.fixture.odds.totals.over;\r\n                bet.type = \"Total\";\r\n                bet.bet = \"Over\";\r\n                bet.total = fixture.fixture.odds.totals.points;\r\n            break;\r\n            case \"under\" : \r\n                bet.odds = fixture.fixture.odds.totals.under;\r\n                bet.type = \"Total\";\r\n                bet.bet = \"Under\";\r\n                bet.total = fixture.fixture.odds.totals.points;\r\n            break;\r\n            default : break; \r\n        }\r\n        tmp.push(bet);\r\n        props.setBets(tmp);\r\n    }\r\n\r\n    //Funtion to either add or remove bet to/from bets array\r\n    const handleBetClick = (fixt, bettype) => {\r\n        let tmpBets = [...props.bets];\r\n        const id = bettype+\"-\"+fixt.fixture_id;\r\n        const element = document.getElementById(id);\r\n        const index = tmpBets.map(bet => bet.id).indexOf(id);\r\n\r\n        if(index > -1){\r\n            props.removeBet(bettype+\"-\"+fixt.fixture_id)\r\n        }else{\r\n            addBet(fixt, bettype);\r\n            element.classList.add(\"selected-bet\");        \r\n        } \r\n    }\r\n\r\n    return (                                \r\n        <>\r\n            <tr>\r\n                <td rowSpan={2} className=\"fixtTime\">{formattedTime}</td>\r\n                <td className=\"fixtCol\">{fixt.fixture.away_team}</td>\r\n                {!isEmpty(fixt.fixture.odds.spreads) ?\r\n                    <td className=\"line\" id={\"away-spread-\"+fixt.fixture_id} onClick={()=>handleBetClick(fixt,\"away-spread\")}>{stringifyOddsAndPoints(fixt.fixture.odds.spreads.away.points) +\" (\"+stringifyOddsAndPoints(fixt.fixture.odds.spreads.away.odds)+\")\"}</td>      \r\n                        :\r\n                    <td className=\"line\"></td>\r\n                }\r\n                {!isEmpty(fixt.fixture.odds.h2h) ?\r\n                    <td  className=\"line\" id={\"away-ml-\"+fixt.fixture_id} onClick={()=>handleBetClick(fixt,\"away-ml\")} >{stringifyOddsAndPoints(fixt.fixture.odds.h2h.away)}</td>        \r\n                        :\r\n                    <td className=\"line\"></td>\r\n                }\r\n                {!isEmpty(fixt.fixture.odds.totals) ?\r\n                    <td className=\"line\" id={\"over-\"+fixt.fixture_id} onClick={()=>handleBetClick(fixt,\"over\")} >{\"O\"+fixt.fixture.odds.totals.points +\" (\"+stringifyOddsAndPoints(fixt.fixture.odds.totals.over)+\")\"}</td>       \r\n                        :\r\n                    <td className=\"line\"></td>\r\n                }\r\n            </tr> \r\n            <tr className=\"bottomFixtRow\">\r\n                <td className=\"fixtCol\">{fixt.fixture.home_team}</td>\r\n                {!isEmpty(fixt.fixture.odds.spreads) ?\r\n                    <td className=\"line\" id={\"home-spread-\"+fixt.fixture_id} onClick={()=>handleBetClick(fixt,\"home-spread\")}>{stringifyOddsAndPoints(fixt.fixture.odds.spreads.home.points) +\" (\"+stringifyOddsAndPoints(fixt.fixture.odds.spreads.home.odds)+\")\"}</td>      \r\n                        :\r\n                    <td className=\"line\"></td>\r\n                }\r\n                {!isEmpty(fixt.fixture.odds.h2h) ?\r\n                    <td className=\"line\" id={\"home-ml-\"+fixt.fixture_id} onClick={()=>handleBetClick(fixt,\"home-ml\")}>{stringifyOddsAndPoints(fixt.fixture.odds.h2h.home)}</td>        \r\n                        :\r\n                    <td className=\"line\"></td>\r\n                }\r\n                {!isEmpty(fixt.fixture.odds.totals) ?\r\n                    <td className=\"line\" id={\"under-\"+fixt.fixture_id} onClick={()=>handleBetClick(fixt,\"under\")}>{\"U\"+fixt.fixture.odds.totals.points +\" (\"+stringifyOddsAndPoints(fixt.fixture.odds.totals.under)+\")\"}</td>       \r\n                        :\r\n                    <td className=\"line\"></td>\r\n                }\r\n            </tr> \r\n            <tr className=\"spacer\"></tr>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Fixture","import React, { useEffect, useState } from 'react';\r\nimport { Fragment } from 'react';\r\nimport {Table, Button}from 'react-bootstrap';\r\nimport Fixture from './Fixture';\r\n\r\nconst SportPrev = (props) => {\r\n    const [prev, setPrev] = useState([]);\r\n    /*Filter Prev for display\r\n        only keep 3 games to show for preview\r\n    */\r\n    useEffect(()=>{\r\n        let sport = props.sport;\r\n        let count = 0;\r\n        let tmpPrev = [];\r\n        //go through each league\r\n        sport.leagues.forEach(league => {\r\n            //only pull first 3 fixtures\r\n            if(count < 3){\r\n                let tmpLeag = {\r\n                    league_key: league.league_key,\r\n                    league_name: league.league_name,\r\n                    league_short: league.league_short,\r\n                    fixtures: []\r\n                }\r\n                league.fixtures.forEach(fixt=>{\r\n                    if(count < 3){\r\n                        tmpLeag.fixtures.push(fixt)\r\n                        count ++;\r\n                    }\r\n                })   \r\n                tmpPrev.push(tmpLeag) \r\n                count = count + 1;\r\n            }\r\n        });\r\n        setPrev(tmpPrev)\r\n    },[props.sport])\r\n\r\n    return (\r\n        <>  \r\n            <h4 className=\"left-align sport-header\">{props.sport.sport_name}</h4>\r\n            {prev.map(league => {\r\n                return (\r\n                    <Fragment key={league.league_key}>  \r\n                        <h5 className=\"left-align\">{league.league_short}</h5>\r\n                        <Table className=\"fixtureTable\" responsive>\r\n                            <thead className=\"fixtHeader\">\r\n                                <tr>\r\n                                    <th className=\"timeHeader\"></th>\r\n                                    <th className=\"fixtCol\">Fixture</th>\r\n                                    <th className=\"lineCol\">Spread</th>\r\n                                    <th className=\"lineCol\">Win</th>\r\n                                    <th className=\"lineCol\">Total</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {league.fixtures.map(fixt=>{\r\n                                    return <Fixture key={fixt.fixture_id} fixt={fixt} bets={props.bets} setBets={props.setBets} removeBet={props.removeBet}/>\r\n                                })}\r\n                            </tbody>  \r\n                        </Table>\r\n                    </Fragment>\r\n                )\r\n            })}\r\n            <Button className=\"see-more-btn\" onClick={()=>props.setCurrDisp(props.sport)}>See More</Button>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default SportPrev;","import React from 'react';\r\nimport { Fragment } from 'react';\r\nimport {Table, Image}from 'react-bootstrap';\r\nimport Fixture from './Fixture';\r\nimport back from '../../images/icons/noun_back_3542560.svg';\r\n\r\nconst Sport = (props) => {\r\n    return (\r\n        <>  \r\n            <div className=\"left-align\" onClick={() => props.setDisplay(\"all\")}><Image src={back} width=\"35\" height=\"auto\" />All Sports</div>\r\n            <h4 className=\"left-align sport-header\">{props.sport.sport_name}</h4>\r\n            {props.sport.leagues.map(league => {\r\n                return (\r\n                    <Fragment key={league.league_key}>  \r\n                        <h5  className=\"left-align\">{league.league_short}</h5>\r\n                        <Table className=\"fixtureTable\" responsive>\r\n                            <thead className=\"fixtHeader\">\r\n                                <tr>\r\n                                    <th className=\"timeHeader\"></th>\r\n                                    <th className=\"fixtCol\">Fixture</th>\r\n                                    <th className=\"lineCol\">Spread</th>\r\n                                    <th className=\"lineCol\">Win</th>\r\n                                    <th className=\"lineCol\">Total</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {league.fixtures.map(fixt=>{\r\n                                    return <Fixture key={fixt.fixture_id} fixt={fixt} bets={props.bets} setBets={props.setBets} removeBet={props.removeBet}/>\r\n                                })}\r\n                            </tbody>  \r\n                        </Table>\r\n                    </Fragment>\r\n                )\r\n            })}\r\n\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default Sport;","import React, {useEffect} from 'react';\r\nimport {Navbar, Nav, Image}from 'react-bootstrap';\r\nimport basketball from '../../images/icons/noun_Basketball_64846.svg';\r\nimport football from '../../images/icons/noun_american football_2153147.svg';\r\nimport baseball from '../../images/icons/noun_Bat_495572.svg';\r\nimport soccer from '../../images/icons/noun_soccer_2730034.svg';\r\nimport more from '../../images/icons/noun_more_2269702.svg';\r\nimport betslip from '../../images/icons/noun_sale slip_2558704.svg';\r\n\r\nconst BookFooter = (props) => {\r\n    //check when bets prop changes, hide or show bet count on betslip icon\r\n    useEffect(()=>{\r\n        if(props.bets.length > 0){\r\n            document.getElementById(\"betCount\").style.display =\"block\";\r\n        }else{\r\n            document.getElementById(\"betCount\").style.display =\"none\";\r\n        }\r\n    },[props.bets]);\r\n\r\n    return (\r\n        <Navbar className=\"book-footer\" variant=\"dark\" bg=\"dark\" sticky=\"bottom\">\r\n            <Nav className=\"book-nav\">\r\n                <Nav.Item className=\"icon\" onClick={() => props.setDisplay(\"Basketball\")}><Image src={basketball} width=\"28\" height=\"auto\" /> </Nav.Item>\r\n                <Nav.Item className=\"icon\" onClick={() => props.setDisplay(\"football\")}><Image src={football} width=\"28\" height=\"auto\" /> </Nav.Item>\r\n                <Nav.Item className=\"icon\" onClick={() => props.setDisplay(\"Baseball\")}><Image src={baseball} width=\"28\" height=\"auto\" /> </Nav.Item>\r\n                <Nav.Item className=\"icon\" onClick={() => props.setDisplay(\"Soccer\")}><Image src={soccer} width=\"28\" height=\"auto\" /> </Nav.Item>\r\n                <Nav.Item className=\"icon\" onClick={() => props.setDisplay(\"all\")}><Image src={more} width=\"28\" height=\"auto\" /> </Nav.Item>\r\n                <Nav.Item onClick={() => props.showSlip(true)}><Image className=\"icon\" src={betslip} width=\"28\" height=\"auto\" /><div id=\"betCount\"> {props.bets.length}</div></Nav.Item>\r\n            </Nav>\r\n        </Navbar>\r\n    );\r\n    \r\n}\r\n\r\nexport default BookFooter;","import React, { useState } from 'react';\r\nimport {Modal, Button, Alert} from 'react-bootstrap';\r\nimport '../../../../css/betslip.css';\r\nimport Bet from './Bet';\r\nimport {model, ML, Spread, Total, Leg} from '../../../../models/bet/bet';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\nimport fetchContestBets from '../../../../api/bets/fetchContestBets';\r\nimport ConfirmationModal from '../../../shared/ConfirmationModal';\r\n\r\nconst MobileBetSlip = (props) => {\r\n    const match = useRouteMatch();\r\n    const [error, setError] = useState();\r\n    const [showConfirm, setShowConfirm] = useState(false);\r\n    let bets = props.bets;\r\n    //State variable to hold slip type (straight, parlay, etc.)\r\n    const [slipType, setSlipType] = useState(\"Straight\")\r\n    const [records, setRecords] = useState([]);\r\n\r\n    //add wager amount to Straight bet \r\n    const addWager = (id, wager) => {\r\n        //find index\r\n        const index = bets.map(bet => bet.id).indexOf(id);\r\n        let tmpBets = bets;\r\n        tmpBets[index].wager = wager;\r\n        bets = tmpBets;\r\n    }\r\n\r\n    //Function to format straight bets in records for db storage\r\n    const formatStraightBet = (bet) =>{\r\n        //create instance of bet model obj and add properties\r\n        let betModel = {...model};\r\n        betModel.type = slipType;\r\n        betModel.wager = bet.wager;\r\n        betModel.odds = bet.odds;\r\n        betModel.result = \"\";\r\n        \r\n        //create instance of leg obj \r\n        let leg = {...Leg};\r\n\r\n        let legType = bet.type;\r\n        if(legType === \"Spread\"){\r\n            //create instance of spread line object \r\n            let spread = {...Spread}; \r\n            spread.team = {...spread.team}\r\n            spread.team.type = bet.team.type;\r\n            spread.team.name = bet.team.name;\r\n            spread.line = bet.handicap;\r\n            leg.fixture = {...leg.fixture}\r\n            leg.fixture.fixtureID = bet.fixtureID; \r\n            leg.fixture.fixture = bet.fixture; \r\n            leg.fixture.time = bet.time; \r\n            leg.line = spread;\r\n            leg.odds = bet.odds.decimal;\r\n            leg.result =\"\";\r\n        }else if(legType === \"Moneyline\"){\r\n            //create instance of ML line object\r\n            let ml = {...ML}; \r\n            ml.team = {...ml.team}\r\n            ml.team.type = bet.team.type;\r\n            ml.team.name = bet.team.name;\r\n            leg.fixture = {...leg.fixture}\r\n            leg.fixture.fixtureID = bet.fixtureID; \r\n            leg.fixture.fixture = bet.fixture; \r\n            leg.fixture.time = bet.time;             \r\n            leg.line = ml;\r\n            leg.odds = bet.odds.decimal; \r\n            leg.result =\"\";       \r\n        }else if(legType === \"Total\"){\r\n            //create instance of Total line object\r\n            let total = {...Total}; \r\n            total.bet = bet.bet;\r\n            total.line = bet.total;\r\n            leg.fixture = {...leg.fixture}\r\n            leg.fixture.fixtureID = bet.fixtureID; \r\n            leg.fixture.fixture = bet.fixture; \r\n            leg.fixture.time = bet.time; \r\n            leg.line = total;\r\n            leg.odds = bet.odds.decimal;\r\n            leg.result =\"\";\r\n        }\r\n\r\n        return {\r\n            contestPlayerID: match.params.entryid,\r\n            jsonBet: betModel,\r\n            leg: leg\r\n        };\r\n    }\r\n\r\n    //function to validate and confirm bets, then confirm placements of bets\r\n    const validateBets = async() => {\r\n        //check to make sure all bets contain valid wagers and combine wagers from all bets\r\n        let totalWagered = 0;\r\n        //object to hold error\r\n        let error = {\r\n            isError: false,\r\n            message: String\r\n        }\r\n\r\n        await bets.forEach(bet=>{\r\n            if(bet.wager > 0){\r\n                totalWagered = totalWagered + parseFloat(bet.wager);\r\n            }else{\r\n                error.isError = true;\r\n                error.message =\"Please enter a valid wager amount for all bets\";\r\n            }\r\n        })\r\n        //check totalWagered and validate that it is not less than available\r\n\r\n        if(totalWagered > props.available){\r\n            error.isError = true;\r\n            error.message = \"Cash Available: $\"+props.available;\r\n        }\r\n\r\n        //check for error and either insert bets or display error message\r\n        if(error.isError === true){\r\n            setError(<Alert variant='danger'>{error.message}</Alert>)\r\n            return;\r\n        }else{\r\n            //clear any error message, display confirmation box\r\n            setError();\r\n            setShowConfirm(true);\r\n\r\n            //determine type of bet(s) - straight,parlay,etc.\r\n            if(slipType === \"Straight\"){\r\n                let tmpRecords = [];\r\n                //format each bet and set records state array\r\n                bets.forEach(bet=>{\r\n                    let tmpModel = formatStraightBet(bet)\r\n                    tmpRecords.push(tmpModel);\r\n                })\r\n                \r\n                setRecords(tmpRecords);\r\n            }\r\n        }   \r\n    }\r\n\r\n    //Function to insert records into the database\r\n    const insertBetRecords = async() => {\r\n        //close modal\r\n        setShowConfirm(false);\r\n\r\n        //api parameters to create bets\r\n        const body = {\r\n            bets: records\r\n        }\r\n        console.log(bets)\r\n\r\n        const url ='https://api.lineleaders.net/bets/createContest';\r\n        const options = {\r\n            method:'POST',\r\n            headers:{\r\n                'Content-Type': 'application/json;charset=UTF-8'\r\n            }, \r\n            body: JSON.stringify(body)\r\n        }\r\n\r\n        //call api and check res code\r\n        let response = await fetch(url, options);\r\n        let json = await response.json();\r\n\r\n        //if resources have been created, clear bets array\r\n        if(json.code === 201){\r\n            let ids = [];\r\n            bets.forEach(bet=>{\r\n                ids.push(bet.id);\r\n            })    \r\n            props.removeBets(ids);\r\n            props.close();\r\n\r\n            let contestBets = await fetchContestBets(match.params.entryid);\r\n            props.setOpenBets(contestBets.open);\r\n            props.setSettledBets(contestBets.settled);\r\n        }\r\n    }\r\n\r\n    //Function to handle cancellation of bet submission\r\n    const handleCancellation = () => {\r\n        setRecords([]);\r\n        setShowConfirm(false);\r\n    }\r\n    \r\n\r\n    return (\r\n        <Modal id=\"mobile-betslip\" size='lg' show={props.show} onHide={props.close} bets={props.bets}>\r\n            <Modal.Header closeButton><h5>Bet Slip</h5></Modal.Header>\r\n            <Modal.Body>\r\n                {bets.map((bet, i)=>{\r\n                    return(\r\n                            <Bet key={bet.bet+bet.id} bet={bet} i={i} removeBets={props.removeBets} slipType={slipType} addWager={addWager}/>\r\n                        )\r\n                })}\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                {error}\r\n                <Button onClick={()=>validateBets()} variant=\"primary\">Place Bet(s)</Button>\r\n            </Modal.Footer>\r\n            <ConfirmationModal close={handleCancellation} show={showConfirm} action={insertBetRecords} buttonText=\"Yes\" message={\"Are you ready to place your bets?\"}/>\r\n        </Modal> \r\n    )\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        available: state.contest.available,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = ( dispatch ) => {\r\n    return{\r\n        setOpenBets: bets => { dispatch({type: 'SET_OPEN_BETS', bets: bets })},      \r\n        setSettledBets: bets => { dispatch({type: 'SET_SETTLED_BETS', bets: bets })}\r\n    }\r\n  }\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MobileBetSlip);","import React, {useState, useEffect} from 'react'\r\nimport '../../../../css/global/fixtures.css';\r\nimport {Row, Col, Spinner} from 'react-bootstrap';\r\nimport BetSlip from '../BetSlip/BetSlip';\r\nimport SportPrev from '../../../../social/Book/SportPrev';\r\nimport Sport from '../../../../social/Book/Sport';\r\nimport isEmpty from '../../../../utils/isEmpty';\r\nimport BookFooter from '../../../../social/Book/BookFooter';\r\nimport MobileBetSlip from '../BetSlip/MobileBetSlip';\r\nconst Book = (props) => {\r\n    const [bets, setBets] = useState([]);\r\n    const [spin, setSpin]= useState(true);\r\n    const [currDisp, setCurrDisp]= useState({});\r\n    const [showMobileBetSlip, setShowMobileBetSlip]= useState(false);\r\n\r\n    //function to remove a single bet\r\n    const removeBet = (id) => {\r\n        console.log(id)\r\n        //get temp array\r\n        let tmpBets = [...bets];\r\n        //get index \r\n        const index = tmpBets.map(bet => bet.id).indexOf(id);\r\n        //get element by id\r\n        const element = document.getElementById(id);\r\n        //remove class\r\n        element.classList.remove(\"selected-bet\");     \r\n        //remove bet from array   \r\n        tmpBets.splice(index, 1);\r\n        //set bets array\r\n        setBets(tmpBets);\r\n    }\r\n\r\n    useEffect(()=>{\r\n        setTimeout(()=>setSpin(false),1000)\r\n    },[props.book])\r\n\r\n    //Function to handle close mobile bet slip\r\n    const handleCancellation = () => {\r\n        setShowMobileBetSlip(false);\r\n    }\r\n    \r\n    //function to remove bets after submission, takes array of ids\r\n    const removeBets = (ids) => {\r\n        //get temp array\r\n        let tmpBets = [...bets];\r\n        ids.forEach(id=> {\r\n            //get index \r\n            const index = tmpBets.map(bet => bet.id).indexOf(id);\r\n            //get element by id\r\n            const element = document.getElementById(id);\r\n            //remove class\r\n            element.classList.remove(\"selected-bet\");     \r\n            //remove bet from array   \r\n            tmpBets.splice(index, 1);\r\n            console.log(tmpBets)\r\n            //set bets array\r\n        })\r\n        setBets(tmpBets);\r\n    }\r\n\r\n    //function to set display from the sport nav\r\n    const setDisplay =(sport)=>{\r\n        if(sport === \"all\"){\r\n            setSpin(true)\r\n            setCurrDisp({});\r\n            setTimeout(()=>setSpin(false),400);\r\n        }else{\r\n            let index = props.book.findIndex(ArrSprt=> ArrSprt.sport_name === sport)\r\n            if(index > -1){\r\n                setCurrDisp(props.book[index])\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>  \r\n            <Row className=\"book\">\r\n                {spin ? (<Spinner className=\"center\" animation=\"border\"/>)\r\n                    :    \r\n                    (isEmpty(currDisp) ?\r\n                        (\r\n                        <Col md={8} sm={12}>\r\n                            {props.book.map(sport => {\r\n                                return (<SportPrev key={sport.sport_id} sport={sport} bets={bets} setBets={setBets} removeBet={removeBet} setCurrDisp={setCurrDisp}/>)\r\n                            })}\r\n                        </Col>\r\n                        )\r\n                            :\r\n                        (\r\n                        <Col md={8} sm={12}>\r\n                            <Sport key={currDisp.sport_id} sport={currDisp} bets={bets} setBets={setBets} removeBet={removeBet} setDisplay={setDisplay} />\r\n                        </Col>\r\n                        )  \r\n                    )\r\n                }\r\n                <Col className=\"hidden-md\" md={4} sm={12}>\r\n                    <BetSlip bets={bets} removeBets={removeBets} />\r\n                </Col>\r\n                <MobileBetSlip close={handleCancellation} removeBets={removeBets} show={showMobileBetSlip} bets={bets}/>\r\n            </Row>   \r\n            <BookFooter setDisplay={setDisplay} showSlip={setShowMobileBetSlip} bets={bets}/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Book","function organizeUpcomingBook(fixtures, leagues, sports) {\r\n    let organizedBook = []; \r\n\r\n    //organize fixtures \r\n    fixtures.forEach(fixt =>{\r\n        //check if fixture is upcoming\r\n        let currentTime = new Date();\r\n        let commence = parseInt(fixt.fixture.commence_time)\r\n        let fixtTime = new Date(commence *1000);\r\n        \r\n        if(fixtTime > currentTime){\r\n            //find sport and league indexes\r\n            let leagueIndex = leagues.findIndex(leag=>leag.jsonLeague.key === fixt.fixture.sport_key);\r\n            //if league doesn't exist, don't add to book\r\n            if(leagueIndex !== -1){\r\n                let sportIndex = sports.findIndex(sprt => sprt.intSportID === leagues[leagueIndex].intSportID);\r\n                //check for sport in organized book \r\n                let bookSportIndex = organizedBook.findIndex(sprt => sprt.sport_id === sports[sportIndex].intSportID);\r\n        \r\n                //if no existing fixtures in book => add sport, league, and fixture \r\n                if(bookSportIndex === -1){\r\n                    let league = {\r\n                        league_key:leagues[leagueIndex].jsonLeague.key,\r\n                        league_name:leagues[leagueIndex].jsonLeague.details,\r\n                        league_short:leagues[leagueIndex].jsonLeague.title,\r\n                        fixtures: [fixt]\r\n                    }\r\n                    organizedBook.push({\r\n                        sport_name: sports[sportIndex].strSportName,\r\n                        sport_id: sports[sportIndex].intSportID,\r\n                        leagues: [league]\r\n                    })\r\n                }\r\n                else{\r\n                    //check if sport league exists \r\n                    let spIndex = organizedBook[bookSportIndex].leagues.findIndex(leag=> leag.league_key === fixt.fixture.sport_key);\r\n        \r\n                    //if league exists add fixture to league fixtures \r\n                    if(spIndex != -1){\r\n                        organizedBook[bookSportIndex].leagues[spIndex].fixtures.push(fixt);\r\n                    }else{\r\n                        //if league doesn't exist add league and fixt\r\n                        let league = {\r\n                            league_key:leagues[leagueIndex].jsonLeague.key,\r\n                            league_name:leagues[leagueIndex].jsonLeague.details,\r\n                            league_short:leagues[leagueIndex].jsonLeague.title,\r\n                            fixtures: [fixt]\r\n                        }\r\n                        organizedBook[bookSportIndex].leagues.push(league)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    })\r\n    return organizedBook;\r\n};\r\nexport default organizeUpcomingBook;","import React, { useState, useEffect } from 'react';\r\nimport {Tabs, Tab, Spinner, Form, Col} from 'react-bootstrap';\r\nimport Leaderboard from '../individual/ActiveContest/Leaderboard';\r\nimport SettledBets from '../individual/ActiveContest/bets/SettledBets';\r\nimport OpenBets from '../individual/ActiveContest/bets/OpenBets';\r\nimport Book from '../individual/ActiveContest/Book/ContestBook';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\nimport isEmpty from '../../utils/isEmpty';\r\nimport formatCurrency from '../../utils/formatCurrency';\r\nimport organizeUpcomingBook from '../../utils/organizeUpcomingBook';\r\nconst _ = require('lodash');\r\n\r\nconst LiveContest = (props) => {\r\n    const match = useRouteMatch();\r\n    const [display, setDisplay] = useState(false);\r\n    const [activeTab, setActiveTab] = useState('book');\r\n\r\n\r\n    //Function to run on render and fetch contest + contestLeagues + contestBets\r\n    useEffect(()=>{\r\n        const fetchContest = async () => {\r\n            const response = await fetch('https://api.lineleaders.net/contests/byID?id='+match.params.contestid);\r\n            const data = await response.json();\r\n            props.setContest(data)\r\n            fetchBets();\r\n        }\r\n        const fetchLeagues = async () =>{\r\n            const response = await fetch('https://api.lineleaders.net/contests/contestLeagues/byID?id='+match.params.contestid);\r\n            const data = await response.json();\r\n            props.setLeagues(data)\r\n        }\r\n        \r\n        const fetchBets = async ()=> {\r\n            const response = await fetch('https://api.lineleaders.net/bets/byEntry?entryid='+match.params.entryid);\r\n            const bets = await response.json();\r\n            //separate into open and settled and set redux state\r\n            let open = [];\r\n            let settled = [];\r\n\r\n            bets.forEach(bet=>{\r\n                if(bet.result === \"W\"|| bet.result === \"L\" || bet.Result ===\"P\"){\r\n                    settled.push(bet);\r\n                }else{\r\n                    open.push(bet);\r\n                }\r\n            })\r\n            props.setOpenBets(open);\r\n            props.setSettledBets(settled);\r\n        }\r\n\r\n        fetchContest();\r\n        fetchLeagues();\r\n    },[])\r\n    \r\n    //run whenever contest is set, fetch leaderboard\r\n    useEffect(()=>{\r\n        const fetch_leaderboards = async() => {\r\n            const response = await fetch('https://api.lineleaders.net/contests/leaderboards/?id='+match.params.contestid+\"&contestTypeID=\"+props.contest.intContestTypeID+\"&prizepool=\"+props.contest.decPrizePool);\r\n            let leaderboards = await response.json();\r\n            if(leaderboards.length > 0){\r\n                props.setLeaderboards(leaderboards)\r\n            }\r\n        }\r\n\r\n        if(!isEmpty(props.contest)){\r\n            fetch_leaderboards();\r\n        }\r\n    },[props.contest])\r\n\r\n    //function to fetch fixtures\r\n    const fetchFixtures = async() => {\r\n        let leagueIds = props.leagues.map(league=>{\r\n            return league.intLeagueID\r\n        });\r\n\r\n        console.log(leagueIds)\r\n\r\n        if(leagueIds.length > 0 & props.sports.length > 0){  \r\n            //api parameters to get fixtures\r\n            let body = {\r\n                leagueIDs: leagueIds,\r\n                start:props.contest.dtmStart,\r\n                end: props.contest.dtmEnd\r\n            }\r\n            const url ='https://api.lineleaders.net/fixtures/byLeagues/withTimeFrame'\r\n            const options = {\r\n                method:'POST',\r\n                headers:{\r\n                    'Content-Type': 'application/json;charset=UTF-8'\r\n                }, \r\n                body: JSON.stringify(body)\r\n            }\r\n            //call api\r\n            const response = await fetch(url, options);\r\n            const fixts = await response.json();\r\n            //organize fixtures and set upcoming + inplay\r\n            let book = organizeUpcomingBook(fixts, props.leagues, props.sports);\r\n            if(_.isEqual(props.book, book) === false){\r\n                props.setBook(book);    \r\n            }\r\n        }\r\n    }\r\n\r\n    //clear redux store on unmount\r\n    useEffect(()=>{\r\n        return()=>{\r\n            props.setContest({})\r\n        }\r\n    },[])\r\n\r\n    //Get Book \r\n    useEffect(() => {\r\n        //run initially\r\n        if(!isEmpty(props.contest) && props.contest != undefined){\r\n            fetchFixtures();   \r\n            setDisplay(true); \r\n        }\r\n\r\n        //run once a minute\r\n        const timerId = setInterval(()=>{\r\n            if(!isEmpty(props.contest)){\r\n                fetchFixtures();    \r\n            }\r\n        }, 60000);\r\n\r\n        return () => {\r\n          clearInterval(timerId);\r\n        };       \r\n    }, [props.contest, props.leagues, props.sports]);\r\n\r\n    //Run on settled bets change, calculate bankroll and update store\r\n    useEffect(()=>{\r\n        //calculate bankroll\r\n        let bankroll = 0;\r\n        props.settledBets.forEach(bet=>{\r\n            //update bankroll\r\n            if(bet.result === \"W\" ){\r\n                let win;\r\n                let odds = parseFloat(bet.odds);\r\n                let wager = parseFloat(bet.wager);\r\n\r\n                if(odds > 0){\r\n                    let dec = odds/100;\r\n                    win = parseFloat(wager * dec)\r\n                }\r\n                else{\r\n                    let dec = Math.abs(odds)/100;\r\n                    win = parseFloat(parseFloat(wager) / dec)\r\n                };\r\n                bankroll = bankroll +  win;\r\n            }else if(bet.result === \"L\" ){\r\n                bankroll = bankroll - parseFloat(bet.wager);\r\n            }else if(bet.result === \"P\" ) return;\r\n        })\r\n        props.setBankroll(parseFloat(bankroll).toFixed(2));\r\n    },[props.settledBets])\r\n\r\n    //Run on open bets or bankroll change, calculate available \r\n    useEffect(()=>{\r\n        if(!isNaN(props.bankroll)){\r\n            let available = parseFloat(props.bankroll) + parseFloat(props.contest.decInitialBankRoll);\r\n            props.openBets.forEach(bet=>{\r\n                available = available - parseFloat(bet.wager)    \r\n            })\r\n            props.setAvailable(available)\r\n        }\r\n    },[props.openBets, props.bankroll])\r\n\r\n\r\n\r\n    if(Object.getOwnPropertyNames(props.contest).length > 0 && display===true){ \r\n        return (\r\n            <>\r\n                <h3>{props.contest.strContestName}</h3>\r\n                <br/><b>Available:</b> {formatCurrency(props.available)}\r\n                <b> Bankroll:</b> {formatCurrency(props.bankroll)}\r\n                {/* Display when screens are md or smaller */}\r\n                <Form className=\"hidden-lg\">\r\n                    <Form.Row>                    \r\n                            <Col>\r\n                                <Form.Control as=\"select\" onChange={(e)=>setActiveTab(e.target.value)}>\r\n                                    <option key=\"book\" value=\"book\">Book</option>\r\n                                    <option key=\"open\" value=\"open\">{\"Open (\"+props.openBets.length+\")\"}</option>\r\n                                    <option key=\"settled\" value=\"settled\">Settled</option>\r\n                                    <option key=\"leaderboard\" value=\"leaderboard\">Leaderboard</option>\r\n                                </Form.Control>\r\n                            </Col>\r\n                        </Form.Row>\r\n                </Form>\r\n                {/* Display when screens are large */}\r\n                <Tabs fill activeKey={activeTab} onSelect={(k)=>setActiveTab(k)} id=\"contestsTab\" className=\"hidden-md\">\r\n                    <Tab eventKey=\"book\" title=\"BOOK\">\r\n                        {typeof props.book != \"undefined\" ?\r\n                            (<Book book={props.book} /> )\r\n                            :\r\n                            (<></>)\r\n                        }\r\n                    </Tab>\r\n                    <Tab eventKey=\"open\" title={\"OPEN (\"+props.openBets.length+\")\"}>\r\n                        <OpenBets />\r\n                    </Tab>\r\n                    <Tab eventKey=\"settled\" title=\"SETTLED\">\r\n                        <SettledBets settledBets={props.settledBets}/>\r\n                    </Tab>\r\n                    <Tab eventKey=\"leaderboard\" title=\"LEADERBOARD\">\r\n                        <Leaderboard leaderboards={props.leaderboards}/>\r\n                    </Tab>\r\n                </Tabs>\r\n                \r\n            </>\r\n        )\r\n    }else return (\r\n        <>\r\n            <Spinner animation=\"border\"/>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n      contest: state.contest.contest,\r\n      leaderboards: state.contest.leaderboards,\r\n      entryID: state.contest.entryID,\r\n      bankroll: state.contest.bankroll,\r\n      available: state.contest.available,\r\n      openBets: state.contest.openBets, \r\n      settledBets: state.contest.settledBets,\r\n      leagues: state.contest.leagues,\r\n      book: state.contest.book,\r\n      sports: state.application.sports\r\n    }\r\n  }\r\n  \r\n  const mapDispatchToProps = ( dispatch ) => {\r\n    return{\r\n      setContest: contest => { dispatch({type: 'SET_CONTEST', contest: contest })},\r\n      setEntryID: id => { dispatch({type: 'SET_ENTRY_ID', ID: id })},      \r\n      setAvailable: avaialable => { dispatch({type: 'SET_AVAILABLE', available: avaialable })},\r\n      setBankroll: bankroll => { dispatch({type: 'SET_BANKROLL', bankroll: bankroll })},\r\n      setOpenBets: bets => { dispatch({type: 'SET_OPEN_BETS', bets: bets })},      \r\n      setSettledBets: bets => { dispatch({type: 'SET_SETTLED_BETS', bets: bets })},\r\n      setLeagues: leagues => { dispatch({type: 'SET_CONTEST_LEAGUES', leagues:leagues})},\r\n      setUpcoming: upcoming => {dispatch({type: 'SET_UPCOMING', upcoming:upcoming})},\r\n      setInplay: inplay => {dispatch({type: 'SET_INPLAY', inplay:inplay})},\r\n      setLeaderboards: leaderboards => {dispatch({type: 'SET_LEADERBOARDS', leaderboards:leaderboards})},\r\n      setBook: book => {dispatch({type: 'SET_BOOK', book:book})}\r\n    }\r\n  }\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LiveContest);\r\n","function organizeBook(fixtures, leagues, sports) {\r\n    let organizedBook = []; \r\n\r\n    //organize fixtures \r\n    fixtures.forEach(fixt =>{\r\n        //find sport and league indexes\r\n        let leagueIndex = leagues.findIndex(leag=>leag.jsonLeague.key === fixt.fixture.sport_key);\r\n        //if league doesn't exist, don't add to book\r\n        if(leagueIndex !== -1){\r\n            let sportIndex = sports.findIndex(sprt => sprt.intSportID === leagues[leagueIndex].intSportID);\r\n            //check for sport in organized book \r\n            let bookSportIndex = organizedBook.findIndex(sprt => sprt.sport_id === sports[sportIndex].intSportID);\r\n    \r\n            //if no existing fixtures in book => add sport, league, and fixture \r\n            if(bookSportIndex === -1){\r\n                let league = {\r\n                    league_key:leagues[leagueIndex].jsonLeague.key,\r\n                    league_name:leagues[leagueIndex].jsonLeague.details,\r\n                    league_short:leagues[leagueIndex].jsonLeague.title,\r\n                    fixtures: [fixt]\r\n                }\r\n                organizedBook.push({\r\n                    sport_name: sports[sportIndex].strSportName,\r\n                    sport_id: sports[sportIndex].intSportID,\r\n                    leagues: [league]\r\n                })\r\n            }\r\n            else{\r\n                //check if sport league exists \r\n                let spIndex = organizedBook[bookSportIndex].leagues.findIndex(leag=> leag.league_key === fixt.fixture.sport_key);\r\n    \r\n                //if league exists add fixture to league fixtures \r\n                if(spIndex != -1){\r\n                    organizedBook[bookSportIndex].leagues[spIndex].fixtures.push(fixt);\r\n                }else{\r\n                    //if league doesn't exist add league and fixt\r\n                    let league = {\r\n                        league_key:leagues[leagueIndex].jsonLeague.key,\r\n                        league_name:leagues[leagueIndex].jsonLeague.details,\r\n                        league_short:leagues[leagueIndex].jsonLeague.title,\r\n                        fixtures: [fixt]\r\n                    }\r\n                    organizedBook[bookSportIndex].leagues.push(league)\r\n                }\r\n            }\r\n        }\r\n        \r\n    })\r\n    return organizedBook;\r\n};\r\nexport default organizeBook;","import React, {useState, useEffect} from 'react';\r\nimport {Modal, Button, Row, Col, Form} from 'react-bootstrap';\r\nimport stringifyOddsAndPoints from '../../../utils/stringifyOddsAndPoints';\r\nimport formatTime from '../../../utils/formatTime';\r\nconst EditBetModal = (props) => {\r\n    const [bet, setBet] = useState({});\r\n    const [odds, setOdds] = useState();\r\n    const [points, setPoints] = useState();\r\n\r\n    //set bet var \r\n    useEffect(()=>{\r\n        setBet(props.bet)\r\n    },[props.bet])\r\n\r\n    //run when odds are changed (update bet)\r\n    useEffect(()=>{\r\n        //if it is a number update bet\r\n        if(!isNaN(odds)){\r\n            let tmp = bet;\r\n            tmp.odds = odds; \r\n            setBet(tmp);\r\n        }\r\n    },[odds])\r\n\r\n    //run when points are changed (update bet)\r\n    useEffect(()=>{\r\n        //if it is a number update bet\r\n        if(!isNaN(points)){\r\n            if(bet.type === \"Spread\"){\r\n                let tmp = bet;\r\n                tmp.handicap = points; \r\n                setBet(tmp);\r\n            }else if(bet.type === \"Total\"){\r\n                let tmp = bet;\r\n                tmp.total = points; \r\n                setBet(tmp);\r\n            }\r\n\r\n        }\r\n    },[points])\r\n\r\n    //save changes and close modal\r\n    const submitChanges = () =>{\r\n        props.editBet(bet.id, bet)\r\n        props.close();\r\n    }\r\n\r\n    return (\r\n        <Modal show={props.show} onHide={props.close}>\r\n            <Modal.Body>\r\n                <p>{bet.bet}</p>\r\n                <p>{bet.type}</p>   \r\n                <p>{bet.fixture}</p>                \r\n                <p>{formatTime(bet.time)}</p>\r\n                <Form>\r\n                    {(bet.type === \"Spread\") ? \r\n                        <Form.Row>\r\n                            <Form.Group as={Col} >\r\n                                <Form.Label>Odds</Form.Label>\r\n                                <Form.Control type=\"number\" defaultValue={bet.odds} onChange={(e)=>setOdds(e.target.value)}/>\r\n                            </Form.Group>\r\n                            <Form.Group as={Col} >\r\n                                <Form.Label>Points</Form.Label>\r\n                                <Form.Control type=\"number\" defaultValue={bet.handicap} onChange={(e)=>setPoints(e.target.value)}/>\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                            : \r\n                    (bet.type === \"Total\") ?\r\n                        <Form.Row>\r\n                            <Form.Group as={Col} >\r\n                                <Form.Label>Odds</Form.Label>\r\n                                <Form.Control type=\"number\" defaultValue={bet.odds} onChange={(e)=>setOdds(e.target.value)}/>\r\n                            </Form.Group>\r\n                            <Form.Group as={Col} >\r\n                                <Form.Label>Points</Form.Label>\r\n                                <Form.Control type=\"number\" defaultValue={bet.total} onChange={(e)=>setPoints(e.target.value)}/>\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                            :\r\n                        <Form.Group as={Col} >\r\n                            <Form.Label>Odds</Form.Label>\r\n                            <Form.Control type=\"number\" defaultValue={bet.odds} onChange={(e)=>setOdds(e.target.value)}/>\r\n                        </Form.Group>                     \r\n                    }\r\n                    <Button onClick={()=>submitChanges()}>Save Changes</Button>\r\n                </Form>\r\n\r\n\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default EditBetModal","import React, {useState, useEffect} from 'react';\r\nimport {Col, Form, Table, Image} from 'react-bootstrap';\r\nimport formatTime from '../../../utils/formatTime';\r\nimport stringifyOddsAndPoints from '../../../utils/stringifyOddsAndPoints';\r\nimport editIcon from '../../../images/icons/editIcon.png';\r\nimport close from '../../../images/icons/noun_Close_3850069.svg';\r\nimport EditBetModal from './EditBetModal';\r\n\r\nconst Bet = (props) => {\r\n    const [risk, setRisk] = useState(\"\");\r\n    const [win, setWin] = useState(\"\");\r\n    const [showEditBet, setShowEditBet] = useState(false);\r\n\r\n    const bet = props.bet;\r\n    //index of bet in array\r\n    const i = props.i;\r\n\r\n    //Run whenever risk is set, set win variable and setWager on bet in array \r\n    useEffect(()=>{\r\n        if(risk !== \"\"){\r\n            let odds = parseFloat(bet.odds);\r\n            let tmpRisk = parseFloat(risk);\r\n            let tmpWin;\r\n            if(odds > 0){\r\n                tmpWin = parseFloat(tmpRisk*parseFloat(odds)/100).toFixed(2);\r\n            }else{\r\n                odds = Math.abs(odds);\r\n                let denom = odds/100;\r\n                tmpWin = parseFloat(tmpRisk/ denom).toFixed(2);\r\n            }\r\n            setWin(tmpWin);\r\n        }else{\r\n            setWin(\"\")\r\n        }\r\n\r\n        props.addWager(bet.id, risk)\r\n\r\n    },[risk])\r\n\r\n    //Function to toggle bet details \r\n    const toggleDetails = (i) => {\r\n        let detailRows = document.getElementsByClassName(\"betDetails\"+i);\r\n        let arrow = document.getElementById(\"arrow\"+i);\r\n\r\n        for(let i =0; i < detailRows.length; i++){\r\n            if(detailRows[i].style.display === 'none'){\r\n                detailRows[i].style.display = '';\r\n                arrow.classList.remove(\"right\");\r\n                arrow.classList.add(\"down\");\r\n            }else{\r\n                detailRows[i].style.display = 'none';\r\n                arrow.classList.remove(\"down\");\r\n                arrow.classList.add(\"right\");\r\n            }\r\n        }\r\n    }\r\n\r\n    //Function to handle close of edit modal\r\n    const closeEdit = () => {\r\n        setShowEditBet(false);\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <Table className=\"bet\">\r\n                <tbody>\r\n                    <tr>\r\n                        {(bet.type === \"Spread\") ? \r\n                            <td onClick={()=>toggleDetails(i)}>\r\n                                <i className=\"arrow down\" id={\"arrow\"+i} ></i> {bet.bet+\" \"+stringifyOddsAndPoints(bet.handicap) + \" (\"+stringifyOddsAndPoints(bet.odds)+\")\"}\r\n                                <input type=\"image\" src={editIcon} onClick={()=>setShowEditBet(true)} />\r\n                            </td>\r\n                        : \r\n                        (bet.type === \"Total\") ?\r\n                            <td onClick={()=>toggleDetails(i)}>\r\n                                <i className=\"arrow down\" id={\"arrow\"+i} ></i> {bet.bet+\" \"+bet.total + \" (\"+stringifyOddsAndPoints(bet.odds)+\")\"}\r\n                                <input type=\"image\" src={editIcon} onClick={()=>setShowEditBet(true)} />\r\n                            </td>\r\n                        :\r\n                            <td onClick={()=>toggleDetails(i)}>\r\n                                <i className=\"arrow down\" id={\"arrow\"+i} ></i> {bet.bet + \" (\"+stringifyOddsAndPoints(bet.odds)+\")\"}\r\n                                <input type=\"image\" src={editIcon} onClick={()=>setShowEditBet(true)} />\r\n                            </td>\r\n                        }\r\n                        <td className=\"odds\">{bet.odds.american}<Image src={close} width=\"18\" height=\"auto\" onClick={()=>props.removeBets([bet.id])} /></td> \r\n                    </tr>\r\n                    <tr>\r\n                        <td colSpan={2}>{bet.type}</td>\r\n                    </tr>\r\n                    <tr className={\"betDetails\"+i}>\r\n                        <td  colSpan={2}>{bet.fixture}</td>\r\n                    </tr>\r\n                    <tr className={\"betDetails\"+i}>\r\n                        <td colSpan={2}>{formatTime(bet.time)}</td>\r\n                    </tr>\r\n                    {props.slipType === \"Straight\" ? \r\n                        <tr>\r\n                            <td colSpan={2}>\r\n                                <Form>\r\n                                    <Form.Row>\r\n                                        <Form.Group as={Col}>\r\n                                            <Form.Control type=\"number\" placeholder=\"Risk\" value={risk} onChange={(e)=>setRisk(e.target.value)}/>\r\n                                        </Form.Group> \r\n                                        <Form.Group as={Col}>\r\n                                            <Form.Control type=\"text\"  tabIndex=\"-1\" placeholder=\"Win\" value={win} readOnly/>\r\n                                        </Form.Group> \r\n                                    </Form.Row>\r\n                                </Form>\r\n                            </td>   \r\n                        </tr>\r\n                        :\r\n                        <></>\r\n                    }    \r\n                </tbody>\r\n            </Table>  \r\n            <EditBetModal  close={closeEdit} show={showEditBet} bet={bet} editBet={props.editBet}/>\r\n        </>  \r\n    )\r\n}\r\n\r\nexport default Bet","import React from 'react'\r\nimport {Modal, Button} from 'react-bootstrap';\r\n\r\n/* \r\nComponent takes following props\r\nshow - boolean to show or hide modal\r\nclose - function to set parent variable that handles display of modal to false\r\naction - call back funtion to action on clicking button\r\nbuttonText - text to display on button\r\nmessage - title text for modal\r\n*/\r\n\r\nconst ConfirmationModal = (props) => {\r\n    return (\r\n        <Modal show={props.show} onHide={props.close}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>{props.message}</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={props.close}>\r\n                    Close\r\n                </Button>\r\n                <Button variant=\"primary\" onClick={props.action}>\r\n                    {props.buttonText}\r\n                </Button>\r\n                </Modal.Footer>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default ConfirmationModal","import React, { useState } from 'react';\r\nimport {Card, Button, Alert} from 'react-bootstrap';\r\nimport '../../../css/betslip.css'\r\nimport Bet from './Bet';\r\nimport {model, ML, Spread, Total, Leg} from '../../../models/bet/bet';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\nimport ConfirmationModal from '../../shared/ConfirmationModal';\r\n\r\nconst BetSlip = (props) => {\r\n    const match = useRouteMatch();\r\n    const [error, setError] = useState();\r\n    const [showConfirm, setShowConfirm] = useState(false);\r\n    let bets = props.bets;\r\n    //State variable to hold slip type (straight, parlay, etc.)\r\n    const [slipType, setSlipType] = useState(\"Straight\")\r\n    const [records, setRecords] = useState([]);\r\n\r\n    //add wager amount to Straight bet \r\n    const addWager = (id, wager) => {\r\n        //find index\r\n        const index = bets.map(bet => bet.id).indexOf(id);\r\n        let tmpBets = bets;\r\n        tmpBets[index].wager = wager;\r\n        bets = tmpBets;\r\n    }\r\n\r\n    //edit bet\r\n    const editBet = (id, bet) => {\r\n        //find index\r\n        const index = bets.map(bet => bet.id).indexOf(id);\r\n        let tmpBets = bets;\r\n        tmpBets[index] = bet;\r\n        bets = tmpBets;\r\n    }\r\n\r\n    //Function to format straight bets in records for db storage\r\n    const formatStraightBet = (bet) =>{\r\n        //create instance of bet model obj and add properties\r\n        let betModel = {...model};\r\n        betModel.type = slipType;\r\n        betModel.wager = bet.wager;\r\n        betModel.odds = bet.odds;\r\n        betModel.result = \"\";\r\n        \r\n        //create instance of leg obj \r\n        let leg = {...Leg};\r\n\r\n        let legType = bet.type;\r\n        if(legType === \"Spread\"){\r\n            //create instance of spread line object \r\n            let spread = {...Spread}; \r\n            spread.team = {...spread.team}\r\n            spread.team.type = bet.team.type;\r\n            spread.team.name = bet.team.name;\r\n            spread.line = bet.handicap;\r\n            leg.fixture = {...leg.fixture}\r\n            leg.fixture.fixtureID = bet.fixtureID; \r\n            leg.fixture.fixture = bet.fixture; \r\n            leg.fixture.time = bet.time; \r\n            leg.line = spread;\r\n            leg.odds = bet.odds;\r\n            leg.result =\"\";\r\n        }else if(legType === \"Moneyline\"){\r\n            //create instance of ML line object\r\n            let ml = {...ML}; \r\n            ml.team = {...ml.team}\r\n            ml.team.type = bet.team.type;\r\n            ml.team.name = bet.team.name;\r\n            leg.fixture = {...leg.fixture}\r\n            leg.fixture.fixtureID = bet.fixtureID; \r\n            leg.fixture.fixture = bet.fixture; \r\n            leg.fixture.time = bet.time;             \r\n            leg.line = ml;\r\n            leg.odds = bet.odds; \r\n            leg.result =\"\";       \r\n        }else if(legType === \"Total\"){\r\n            //create instance of Total line object\r\n            let total = {...Total}; \r\n            total.bet = bet.bet;\r\n            total.line = bet.total;\r\n            leg.fixture = {...leg.fixture}\r\n            leg.fixture.fixtureID = bet.fixtureID; \r\n            leg.fixture.fixture = bet.fixture; \r\n            leg.fixture.time = bet.time; \r\n            leg.line = total;\r\n            leg.odds = bet.odds;\r\n            leg.result =\"\";\r\n        }\r\n\r\n        return {\r\n            account_id: props.user_id,\r\n            jsonBet: betModel,\r\n            leg: leg\r\n        };\r\n    }\r\n\r\n    //function to validate and confirm bets, then confirm placements of bets\r\n    const validateBets = async() => {\r\n        //check to make sure all bets contain valid wagers and combine wagers from all bets\r\n        let totalWagered = 0;\r\n        //object to hold error\r\n        let error = {\r\n            isError: false,\r\n            message: String\r\n        }\r\n\r\n        await bets.forEach(bet=>{\r\n            if(bet.wager > 0){\r\n                totalWagered = totalWagered + parseFloat(bet.wager);\r\n            }else{\r\n                error.isError = true;\r\n                error.message =\"Please enter a valid wager amount for all bets\";\r\n            }\r\n        })\r\n\r\n        //check for error and either insert bets or display error message\r\n        if(error.isError === true){\r\n            setError(<Alert variant='danger'>{error.message}</Alert>)\r\n            return;\r\n        }else{\r\n            //clear any error message, display confirmation box\r\n            setError();\r\n            setShowConfirm(true);\r\n\r\n            //determine type of bet(s) - straight,parlay,etc.\r\n            if(slipType === \"Straight\"){\r\n                let tmpRecords = [];\r\n                //format each bet and set records state array\r\n                bets.forEach(bet=>{\r\n                    let tmpModel = formatStraightBet(bet)\r\n                    tmpRecords.push(tmpModel);\r\n                })\r\n                \r\n                setRecords(tmpRecords);\r\n            }\r\n        }   \r\n    }\r\n\r\n    //Function to insert records into the database\r\n    const insertBetRecords = async() => {\r\n        //close modal\r\n        setShowConfirm(false);\r\n\r\n        //api parameters to create bets\r\n        const body = {\r\n            bets: records\r\n        }\r\n\r\n        const url ='https://api.lineleaders.net/bets/createPersonal';\r\n        const options = {\r\n            method:'POST',\r\n            headers:{\r\n                'Content-Type': 'application/json;charset=UTF-8'\r\n            }, \r\n            body: JSON.stringify(body)\r\n        }\r\n\r\n        //call api and check res code\r\n        let response = await fetch(url, options);\r\n        let json = await response.json();\r\n\r\n        //if resources have been created, clear bets array\r\n        if(json.code === 201){\r\n            let ids = [];\r\n            bets.forEach(bet=>{\r\n                ids.push(bet.id);\r\n            })    \r\n            props.removeBets(ids);\r\n        }\r\n    }\r\n\r\n    //Function to handle cancellation of bet submission\r\n    const handleCancellation = () => {\r\n        setRecords([]);\r\n        setShowConfirm(false);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Card >\r\n                <Card.Header>Bet Slip</Card.Header>\r\n                <Card.Body>\r\n                    {bets.map((bet, i)=>{\r\n                    return(\r\n                            <Bet key={bet.bet+bet.id} bet={bet} i={i} removeBets={props.removeBets} slipType={slipType} addWager={addWager} editBet={editBet}/>\r\n                        )\r\n                    })}\r\n                </Card.Body>\r\n                <Card.Footer>\r\n                    {error}\r\n                    <Button onClick={()=>validateBets()} variant=\"primary\">Place Bet(s)</Button>\r\n                </Card.Footer>\r\n            </Card>\r\n            <ConfirmationModal close={handleCancellation} show={showConfirm} action={insertBetRecords} buttonText=\"Yes\" message={\"Are you ready to place your bets?\"}/>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user_id: state.user.ID,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(BetSlip);","import React, {useState} from 'react';\r\nimport {Modal, Button, Alert} from 'react-bootstrap';\r\nimport Bet from './Bet';\r\nimport { connect } from 'react-redux';\r\nimport {model, ML, Spread, Total, Leg} from '../../../models/bet/bet';\r\nimport ConfirmationModal from '../../shared/ConfirmationModal';\r\n\r\nconst MobileBetSlip = (props) => {\r\n    const [error, setError] = useState();\r\n    let bets = props.bets;\r\n    const [showConfirm, setShowConfirm] = useState(false);\r\n    //State variable to hold slip type (straight, parlay, etc.)\r\n    const [slipType, setSlipType] = useState(\"Straight\")\r\n    const [records, setRecords] = useState([]);\r\n\r\n    //add wager amount to Straight bet \r\n    const addWager = (id, wager) => {\r\n        //find index\r\n        const index = bets.map(bet => bet.id).indexOf(id);\r\n        let tmpBets = bets;\r\n        tmpBets[index].wager = wager;\r\n        bets = tmpBets;\r\n    }\r\n\r\n    //edit bet\r\n    const editBet = (id, bet) => {\r\n        //find index\r\n        const index = bets.map(bet => bet.id).indexOf(id);\r\n        let tmpBets = bets;\r\n        tmpBets[index] = bet;\r\n        bets = tmpBets;\r\n    }\r\n\r\n    //Function to format straight bets in records for db storage\r\n    const formatStraightBet = (bet) =>{\r\n        //create instance of bet model obj and add properties\r\n        let betModel = {...model};\r\n        betModel.type = slipType;\r\n        betModel.wager = bet.wager;\r\n        betModel.odds = bet.odds;\r\n        betModel.result = \"\";\r\n        \r\n        //create instance of leg obj \r\n        let leg = {...Leg};\r\n\r\n        let legType = bet.type;\r\n        if(legType === \"Spread\"){\r\n            //create instance of spread line object \r\n            let spread = {...Spread}; \r\n            spread.team = {...spread.team}\r\n            spread.team.type = bet.team.type;\r\n            spread.team.name = bet.team.name;\r\n            spread.line = bet.handicap;\r\n            leg.fixture = {...leg.fixture}\r\n            leg.fixture.fixtureID = bet.fixtureID; \r\n            leg.fixture.fixture = bet.fixture; \r\n            leg.fixture.time = bet.time; \r\n            leg.line = spread;\r\n            leg.odds = bet.odds;\r\n            leg.result =\"\";\r\n        }else if(legType === \"Moneyline\"){\r\n            //create instance of ML line object\r\n            let ml = {...ML}; \r\n            ml.team = {...ml.team}\r\n            ml.team.type = bet.team.type;\r\n            ml.team.name = bet.team.name;\r\n            leg.fixture = {...leg.fixture}\r\n            leg.fixture.fixtureID = bet.fixtureID; \r\n            leg.fixture.fixture = bet.fixture; \r\n            leg.fixture.time = bet.time;             \r\n            leg.line = ml;\r\n            leg.odds = bet.odds; \r\n            leg.result =\"\";       \r\n        }else if(legType === \"Total\"){\r\n            //create instance of Total line object\r\n            let total = {...Total}; \r\n            total.bet = bet.bet;\r\n            total.line = bet.total;\r\n            leg.fixture = {...leg.fixture}\r\n            leg.fixture.fixtureID = bet.fixtureID; \r\n            leg.fixture.fixture = bet.fixture; \r\n            leg.fixture.time = bet.time; \r\n            leg.line = total;\r\n            leg.odds = bet.odds;\r\n            leg.result =\"\";\r\n        }\r\n\r\n        return {\r\n            account_id: props.user_id,\r\n            jsonBet: betModel,\r\n            leg: leg\r\n        };\r\n    }\r\n    //function to validate and confirm bets, then confirm placements of bets\r\n    const validateBets = async() => {\r\n        //check to make sure all bets contain valid wagers and combine wagers from all bets\r\n        let totalWagered = 0;\r\n        //object to hold error\r\n        let error = {\r\n            isError: false,\r\n            message: String\r\n        }\r\n\r\n        await bets.forEach(bet=>{\r\n            if(bet.wager > 0){\r\n                totalWagered = totalWagered + parseFloat(bet.wager);\r\n            }else{\r\n                error.isError = true;\r\n                error.message =\"Please enter a valid wager amount for all bets\";\r\n            }\r\n        })\r\n\r\n        //check for error and either insert bets or display error message\r\n        if(error.isError === true){\r\n            setError(<Alert variant='danger'>{error.message}</Alert>)\r\n            return;\r\n        }else{\r\n            //clear any error message, display confirmation box\r\n            setError();\r\n            setShowConfirm(true);\r\n\r\n            //determine type of bet(s) - straight,parlay,etc.\r\n            if(slipType === \"Straight\"){\r\n                let tmpRecords = [];\r\n                //format each bet and set records state array\r\n                bets.forEach(bet=>{\r\n                    let tmpModel = formatStraightBet(bet)\r\n                    tmpRecords.push(tmpModel);\r\n                })\r\n                \r\n                setRecords(tmpRecords);\r\n            }\r\n        }   \r\n    }\r\n\r\n    //Function to insert records into the database\r\n    const insertBetRecords = async() => {\r\n        //close modal\r\n        setShowConfirm(false);\r\n\r\n        //api parameters to create bets\r\n        const body = {\r\n            bets: records\r\n        }\r\n        console.log(body);\r\n\r\n        const url ='https://api.lineleaders.net/bets/createPersonal';\r\n        const options = {\r\n            method:'POST',\r\n            headers:{\r\n                'Content-Type': 'application/json;charset=UTF-8'\r\n            }, \r\n            body: JSON.stringify(body)\r\n        }\r\n\r\n        //call api and check res code\r\n        let response = await fetch(url, options);\r\n        let json = await response.json();\r\n\r\n        //if resources have been created, clear bets array and close modal\r\n        if(json.code === 201){\r\n            let ids = [];\r\n            bets.forEach(bet=>{\r\n                ids.push(bet.id);\r\n            })    \r\n            props.removeBets(ids);\r\n            props.close();\r\n        }\r\n    }\r\n\r\n    //Function to handle cancellation of bet submission\r\n    const handleCancellation = () => {\r\n        setRecords([]);\r\n        setShowConfirm(false);\r\n    }\r\n    \r\n    return (\r\n        <Modal id=\"mobile-betslip\" size='lg' show={props.show} onHide={props.close} bets={props.bets}>\r\n            <Modal.Header closeButton><h5>Bet Slip</h5></Modal.Header>\r\n            <Modal.Body>\r\n                {bets.map((bet, i)=>{\r\n                    return(\r\n                            <Bet key={bet.bet+bet.id} bet={bet} i={i} removeBets={props.removeBets} slipType={slipType} addWager={addWager} editBet={editBet}/>\r\n                        )\r\n                })}\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                {error}\r\n                <Button onClick={()=>validateBets()} variant=\"primary\">Place Bet(s)</Button>\r\n            </Modal.Footer>\r\n            <ConfirmationModal close={handleCancellation} show={showConfirm} action={insertBetRecords} buttonText=\"Yes\" message={\"Are you ready to place your bets?\"}/>\r\n        </Modal> \r\n    )\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user_id: state.user.ID,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(MobileBetSlip);","import React, {useEffect, useState} from 'react'\r\nimport organizeBook from '../../utils/organizeBook';\r\nimport isEmpty from '../../utils/isEmpty';\r\nimport '../../css/global/fixtures.css';\r\nimport '../../css/global/book.css';\r\n\r\nimport {Row, Col, Spinner} from 'react-bootstrap';\r\nimport BetSlip from './BetSlip/BetSlip';\r\nimport SportPrev from './SportPrev';\r\nimport Sport from './Sport';\r\nimport MobileBetSlip from './BetSlip/MobileBetSlip';\r\nimport BookFooter from './BookFooter';\r\n\r\nconst Book = () => {\r\n    const [fixts, setfixts] = useState([]);\r\n    const [bets, setBets] = useState([]);\r\n    const [sports, setSports] = useState([]);\r\n    const [leagues, setLeagues] = useState([]);\r\n    const [book, setBook] = useState([]);\r\n    const [currDisp, setCurrDisp]= useState({});\r\n    const [spin, setSpin]= useState(true);\r\n    const [showMobileBetSlip, setShowMobileBetSlip]= useState(false);\r\n\r\n    useEffect(()=>{\r\n        const fetchfixts = async() =>{\r\n            const response = await fetch('https://api.lineleaders.net/fixtures/getBook');\r\n            const data = await response.json();\r\n            setfixts(data);\r\n        }\r\n        const fetchSports = async () => {\r\n            const response = await fetch('https://api.lineleaders.net/sports/');\r\n            const data = await response.json();\r\n            setSports(data)\r\n        }\r\n        const fetchLeagues = async () => {\r\n            const response = await fetch('https://api.lineleaders.net/leagues/');\r\n            const data = await response.json();\r\n            setLeagues(data);\r\n        }\r\n\r\n        fetchLeagues();\r\n        fetchSports();\r\n        fetchfixts();\r\n    },[])\r\n\r\n    //organize book\r\n    useEffect(()=>{\r\n        if(fixts.length > 0 && leagues.length > 0 && sports.length > 0){\r\n            let orgBook = organizeBook(fixts, leagues, sports);\r\n            setBook(orgBook)\r\n            setTimeout(()=>setSpin(false),1000)\r\n        }\r\n    },[sports,leagues,fixts])\r\n\r\n    //function to remove a single bet\r\n    const removeBet = (id) => {\r\n        console.log(id)\r\n        //get temp array\r\n        let tmpBets = [...bets];\r\n        //get index \r\n        const index = tmpBets.map(bet => bet.id).indexOf(id);\r\n        //get element by id\r\n        const element = document.getElementById(id);\r\n        //remove class\r\n        element.classList.remove(\"selected-bet\");     \r\n        //remove bet from array   \r\n        tmpBets.splice(index, 1);\r\n        console.log(tmpBets)\r\n        //set bets array\r\n        setBets(tmpBets);\r\n    }\r\n\r\n    //function to remove bets after submission, takes array of ids\r\n    const removeBets = (ids) => {\r\n        //get temp array\r\n        let tmpBets = [...bets];\r\n        ids.forEach(id=> {\r\n            //get index \r\n            const index = tmpBets.map(bet => bet.id).indexOf(id);\r\n            //get element by id\r\n            const element = document.getElementById(id);\r\n            //remove class\r\n            element.classList.remove(\"selected-bet\");     \r\n            //remove bet from array   \r\n            tmpBets.splice(index, 1);\r\n            console.log(tmpBets)\r\n            //set bets array\r\n        })\r\n        setBets(tmpBets);\r\n    }\r\n\r\n    //function to set display from the sport nav\r\n    const setDisplay =(sport)=>{\r\n        if(sport === \"all\"){\r\n            setSpin(true)\r\n            setCurrDisp({});\r\n            setTimeout(()=>setSpin(false),400);\r\n        }else{\r\n            let index = book.findIndex(ArrSprt=> ArrSprt.sport_name === sport)\r\n            if(index > -1){\r\n                setCurrDisp(book[index])\r\n            }\r\n        }\r\n    }\r\n\r\n    //Function to handle close mobile bet slip\r\n    const handleCancellation = () => {\r\n        setShowMobileBetSlip(false);\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            <Row className=\"book\">\r\n                {spin ? (<Spinner className=\"center\" animation=\"border\"/>)\r\n                    :    \r\n                    (isEmpty(currDisp) ?\r\n                        (\r\n                        <Col md={8} sm={12}>\r\n                            {book.map(sport => {\r\n                                return (<SportPrev key={sport.sport_id} sport={sport} bets={bets} setBets={setBets} removeBet={removeBet} setCurrDisp={setCurrDisp}/>)\r\n                            })}\r\n                        </Col>\r\n                        )\r\n                            :\r\n                        (\r\n                        <Col md={8} sm={12}>\r\n                            <Sport key={currDisp.sport_id} sport={currDisp} bets={bets} setBets={setBets} removeBet={removeBet} setDisplay={setDisplay} />\r\n                        </Col>\r\n                        )  \r\n                    )\r\n                \r\n                }\r\n                \r\n            \r\n                \r\n                <Col className=\"hidden-md\" md={4} sm={12}>\r\n                    <BetSlip  bets={bets} removeBets={removeBets} />\r\n                </Col>\r\n                <MobileBetSlip close={handleCancellation} removeBets={removeBets} show={showMobileBetSlip} bets={bets}/>\r\n            </Row>\r\n            <BookFooter setDisplay={setDisplay} showSlip={setShowMobileBetSlip} bets={bets}/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Book","import React, {useEffect} from 'react';\nimport { useAuth0 } from \"./react-auth0-spa\";\nimport { Router, Route, Switch } from \"react-router-dom\";\nimport {Spinner} from 'react-bootstrap';\nimport history from \"./utils/history\";\nimport { connect } from 'react-redux';\nimport fetchSports from './api/fetchSports';\nimport fetchLeagues from './api/fetchLeagues';\nimport fetchPersonalBets from './api/bets/fetchPersonalBets';\n\n//CSS\nimport './css/global/media.css'\nimport './css/global/global.css'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'react-widgets/dist/css/react-widgets.css';\nimport './App.css';\n\n//Components\nimport NavBar from './components/individual/NavBar'; \nimport Profile from './components/pages/Profile';\nimport PrivateRoute from './components/individual/PrivateRoute';\nimport AdminPage from './components/pages/Admin';\nimport ContestsPage from './components/pages/ContestsPage';\nimport Lobby from './components/pages/LobbyPage';\nimport LiveContest from './components/pages/LiveContest';\nimport Book from './social/Book/Book';\nimport {Container, Row} from 'react-bootstrap';\n\nfunction App(props) {\n  const { loading } = useAuth0();\n\n  //run on initial render, pull application data for redux store\n  useEffect(()=> { \n    const asyncFunc = async() => {\n      let sports = await fetchSports();\n      let leagues = await fetchLeagues();\n\n      props.setSports(sports);\n      props.setLeagues(leagues);\n\n\n    }\n\n    asyncFunc();\n  },[])\n\n  //run when user is set\n  useEffect(()=>{\n    const asyncFunc = async() => {\n      let bets = await fetchPersonalBets(props.user_id);\n      props.setOpenBets(bets.open);\n      props.setSettledBets(bets.settled)\n    }\n\n    if(props.user_id > 0){\n      asyncFunc();\n    }\n  },[props.user_id])\n\n  if (loading) {\n    return <div className=\"center-text\"><Spinner className=\"center\" animation=\"border\"/></div>;\n  }\n  return (\n    <Container className=\"App\">\n      <Router history={history}>\n        <Row>\n          <NavBar />\n        </Row>\n          <Switch>\n            <Route exact path=\"/\"/>\n            <Route path=\"/book\" component={Book} />\n            <PrivateRoute path=\"/profile\" component={Profile} />\n            <PrivateRoute path=\"/admin\" component={AdminPage} /> \n            <PrivateRoute path=\"/lobby\" component={Lobby} />\n            <PrivateRoute path=\"/contests\" component={ContestsPage} />\n            <PrivateRoute path=\"/live-contest/:contestid/entry/:entryid\" component={LiveContest} /> \n          </Switch>\n      </Router>\n    </Container>\n  );\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    user_id: state.user.ID,\n    openBets: state.user.openBets,\n    settledBets: state.user.settledBets\n\n  }\n}\n\nconst mapDispatchToProps = ( dispatch ) => {\n  return{\n    setSports: sports => { dispatch({type: 'SET_SPORTS', sports: sports })},   \n    setLeagues: leagues => { dispatch({type: 'SET_LEAGUES', leagues: leagues })},      \n    setOpenBets: bets => { dispatch({ type: 'SET_PERS_OPEN_BETS', bets: bets }) },\n    setSettledBets: bets => { dispatch({ type: 'SET_PERS_SETTLED_BETS', bets: bets }) },\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const initValues  = {\r\n    ID: null, \r\n    username: '',\r\n    balance: null,\r\n    permissions:  [],\r\n    openBets: [],    \r\n    settledBets: [],\r\n    contests: [],\r\n    posts: []\r\n}\r\n\r\nconst userReducer = (state = initValues, action) =>{\r\n    switch(action.type){\r\n        case 'SET_USER_ID': {\r\n            state = {...state, ID: action.ID};\r\n            break;\r\n        }\r\n        case 'SET_PERMISSIONS': {\r\n            state =  {...state, permissions: action.permissions};\r\n            break;\r\n        }\r\n        case 'SET_USER_USERNAME': {\r\n            state = {...state, username: action.username}\r\n            break;\r\n        }\r\n        case 'SET_USER_BALANCE': {\r\n            state = {...state, balance: action.balance}\r\n            break;\r\n        }\r\n        case 'SET_PERS_OPEN_BETS': {\r\n            state =  {...state, openBets: action.bets};\r\n            break;\r\n        }\r\n        case 'SET_PERS_SETTLED_BETS': {\r\n            state =  {...state, settledBets: action.bets};\r\n            break;\r\n        }        \r\n        case 'SET_CONTESTS': {\r\n            state =  {...state, contests: action.contests};\r\n            break;\r\n        }\r\n        case 'SET_POSTS': {\r\n            state =  {...state, posts: action.posts};\r\n            break;\r\n        }\r\n        default : break;\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default userReducer;","const initValues  = {\r\n    contest: {}, \r\n    leaderboards:[],\r\n    openBets: [],    \r\n    settledBets: [],\r\n    entryID: null,\r\n    bankroll: null,\r\n    available: null,\r\n    leagues: [],\r\n    book:[]\r\n}\r\n\r\nconst contestReducer = (state = initValues, action) =>{\r\n    switch(action.type){\r\n        case 'SET_CONTEST': {\r\n            state = {...state, contest: action.contest};\r\n            break;\r\n        }\r\n        case 'SET_OPEN_BETS': {\r\n            state =  {...state, openBets: action.bets};\r\n            break;\r\n        }\r\n        case 'SET_SETTLED_BETS': {\r\n            state =  {...state, settledBets: action.bets};\r\n            break;\r\n        }\r\n        case 'SET_ENTRY_ID': {\r\n            state =  {...state, entryID: action.bets};\r\n            break;\r\n        }\r\n        case 'SET_BANKROLL': {\r\n            state =  {...state, bankroll: action.bankroll};\r\n            break;\r\n        }\r\n        case 'SET_AVAILABLE': {\r\n            state =  {...state, available: action.available};\r\n            break;\r\n        }\r\n        case 'SET_CONTEST_LEAGUES': {\r\n            state = {...state, leagues: action.leagues}\r\n        }\r\n        case 'SET_BOOK': {\r\n            state = {...state, book: action.book}\r\n        }\r\n        case 'SET_LEADERBOARDS': {\r\n            if(typeof action.leaderboards !== \"undefined\"){\r\n                state = {...state, leaderboards: action.leaderboards}\r\n            }\r\n        }\r\n\r\n        default : break; \r\n    }\r\n    return state;\r\n}\r\n\r\nexport default contestReducer;","const initValues  = {\r\n    sports: [],\r\n    leagues:[]\r\n}\r\n\r\nconst applicationReducer = (state = initValues, action) =>{\r\n    switch(action.type){\r\n        case 'SET_SPORTS': {\r\n            state = {...state, sports: action.sports};\r\n            break;\r\n        }\r\n        case 'SET_LEAGUES': {\r\n            state = {...state, leagues: action.leagues};\r\n            break;\r\n        }\r\n        default : break; \r\n    }\r\n    return state;\r\n}\r\n\r\nexport default applicationReducer;","import {combineReducers} from \"redux\";\r\nimport userReducer  from './userReducer';\r\nimport contestReducer from './contestReducer';\r\nimport applicationReducer from './applicationReducer';\r\n\r\nconst reducers = combineReducers({\r\n    user: userReducer,\r\n    contest: contestReducer,\r\n    application: applicationReducer\r\n})\r\n\r\nexport default reducers;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Auth0Provider } from \"./react-auth0-spa\";\nimport config from \"./auth_config.json\";\nimport history from \"./utils/history\";\nimport {createStore} from \"redux\";\nimport reducer from './redux/reducer';\nimport {Provider} from \"react-redux\";\n//create Redux store\nconst store = createStore(reducer);\n\n// A function that routes the user to the right place\n// after login\nconst onRedirectCallback = appState => {\n  history.push(\n    appState && appState.targetUrl\n      ? appState.targetUrl\n      : window.location.pathname\n  );\n};\n\nReactDOM.render(\n  <Auth0Provider\n    domain={config.domain}\n    client_id={config.clientId}\n    redirect_uri={window.location.origin}\n    audience={config.audience} \n    onRedirectCallback={onRedirectCallback}\n    useRefreshTokens={true}\n    cacheLocation=\"localstorage\"\n  >\n    <Provider store={store}>\n        <App />\n    </Provider>\n  </Auth0Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/noun_Close_3850069.7d8068a2.svg\";","module.exports = __webpack_public_path__ + \"static/media/noun_sale slip_2558704.e9c64812.svg\";","module.exports = __webpack_public_path__ + \"static/media/noun_back_3542560.a9da7532.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABa0lEQVRYR+2X4U3DMBSEv04AG8AIbFDYgA1gBDaATgAjsAFsAGwAEwATUCYAfZItpSFOGvJM+gNLVVK19p3v3b04C2Yei5nx2WkC58AlcDhRpTdgBdx2rdOngBNPgeeJBI6A+9JG+gh8QViJimv9E6ipwD5wBxwnD50Aj20/1SIg+APwnowsCY3odcPUNQhk8E/ABGRQE3XTTkM0gQz+AthH/AgqCWP90U5WJIE2eC53JvEKPAEXTR9EESiBZyzNpwKS2RgRBIbAbcFnpaY2lUAfuL9dJ+AqBIbAjWE2Y5VWbJ7XjUaTa9tFLJyA+TZegnnNj9qSKuEEBFUBu5sO97v3Tdmbbg8nYKRUwRK4a0nspZz/iBoQSkDgq9TjvdfhtlmbTBe4SoQSUO5l2rn93vorv6qURiiBXPch0KoeGHtMDFVgLHi4B/6MwOzHciNl3A5+s+XGHI9lrjP6xWQi7nbTd/rdcLstTPzXN98ybiGYn4riAAAAAElFTkSuQmCC\""],"sourceRoot":""}