{"version":3,"sources":["images/logo.PNG","react-auth0-spa.js","utils/history.js","api/fetchSports.js","api/fetchLeagues.js","components/individual/AccessControl.js","components/individual/NavBar.js","utils/formatTime.js","utils/stringifyOddsAndPoints.js","social/bets/Leg.js","social/bets/OpenBets.js","social/bets/SettledBets.js","social/MyPosts.js","utils/isEmpty.js","social/forms/createPost/SelectBet.js","social/forms/createPost/Writeup.js","social/forms/createPost/CreatePost.js","social/forms/createPost/CPModal.js","components/pages/Profile.js","components/individual/PrivateRoute.js","components/forms/createContest/LeagueSelect.js","components/forms/createContest/CreateContest.js","components/admin/fixtureResults/FixturesTable.js","components/admin/fixtureResults/EnterResult.js","components/admin/fixtureResults/NeedResultsPage.js","components/pages/Admin.js","components/individual/MyContests/MyLiveContests.js","utils/startCountdown.js","components/individual/MyContests/MyUpcomingContests.js","components/individual/MyContests/MyHistoryContests.js","components/pages/ContestsPage.js","components/individual/UpcomingContests/ContestDetails.js","components/individual/UpcomingContests/UpcomingContests.js","components/pages/LobbyPage.js","utils/formatCurrency.js","components/individual/ActiveContest/Leaderboard.js","components/individual/ActiveContest/bets/Leg.js","components/individual/ActiveContest/bets/SettledBets.js","components/individual/ActiveContest/bets/OpenBets.js","utils/organizeBook.js","components/individual/ActiveContest/BetSlip/Bet.js","models/bet/bet.js","api/bets/fetchContestBets.js","components/shared/ConfirmationModal.js","components/individual/ActiveContest/BetSlip/BetSlip.js","utils/formatHandicap.js","social/Book/Fixture.js","social/Book/SportPrev.js","components/individual/ActiveContest/Book/ContestBook.js","components/pages/LiveContest.js","social/Book/BetSlip/EditBetModal.js","social/Book/BetSlip/Bet.js","social/shared/ConfirmationModal.js","social/Book/BetSlip/BetSlip.js","social/Book/Book.js","App.js","serviceWorker.js","redux/userReducer.js","redux/contestReducer.js","redux/applicationReducer.js","redux/reducer.js","index.js","images/icons/editIcon.png"],"names":["module","exports","DEFAULT_REDIRECT_CALLBACK","window","history","replaceState","document","title","location","pathname","Auth0Context","React","createContext","useAuth0","useContext","Auth0Provider","children","onRedirectCallback","initOptions","useState","isAuthenticated","setIsAuthenticated","user","setUser","auth0Client","setAuth0","loading","setLoading","popupOpen","setPopupOpen","useEffect","a","createAuth0Client","auth0FromHook","search","includes","handleRedirectCallback","appState","getUser","initAuth0","loginWithPopup","params","console","error","Provider","value","getIdTokenClaims","loginWithRedirect","getTokenSilently","getTokenWithPopup","logout","createBrowserHistory","fetchSports","fetch","response","json","sports","fetchLeagues","leagues","AccessControl","props","permitted","setPermitted","perm","i","permissions","length","allowedPermissions","protectedResource","connect","state","ID","username","balance","dispatch","setPermissions","type","setUserID","setUsername","setBalance","fetchPermissions","token","headers","Authorization","fetchDetails","data","intAccountID","Navbar","className","expand","sticky","Brand","Image","src","logo","rounded","width","height","Toggle","Collapse","Nav","to","Link","NavDropdown","Item","Divider","onClick","formatTime","time","Date","toLocaleString","dateStyle","timeStyle","stringifyOddsAndPoints","num","parseFloat","Leg","leg","fixture","line","team","name","bet","openBets","Table","responsive","map","win","legs","odds","dec","wager","toFixed","Math","abs","key","settledBets","contest","result","MyPosts","isEmpty","obj","Object","keys","SelectBet","disabled","setDisabled","Form","Check","setBet","Group","as","Row","Col","sm","span","Button","e","nextStep","Writeup","setWin","pot","Control","rows","writeup","onChange","setWriteup","target","prevStep","alert","CreatePost","step","setStep","CPModal","Modal","size","show","onHide","close","Body","user_id","setOpenBets","bets","setSettledBets","String","record","setRecord","PL","setPL","activeTab","setActiveTab","showCreatePost","setShowCreatePost","profitloss","w","l","p","forEach","calcRecordAndPL","open","settled","Result","push","fetchBets","picture","alt","email","Tabs","fill","activeKey","onSelect","k","id","Tab","eventKey","PrivateRoute","Component","component","path","rest","targetUrl","fn","render","LeagueSelect","setDisp","Header","closeButton","Title","label","Footer","variant","addLeagues","CreateContest","moment","require","dispLeagues","setDispLeagues","types","setTypes","setName","Number","typeID","setTypeID","start","setStart","end","setEnd","setSports","sportIDs","setSportIDs","leagueIDs","entry","setEntry","prizepool","setPrizepool","bankroll","setBankroll","submitted","setSubmitted","submittedStatus","setSubmittedStatus","minPlayers","setMinPlayers","maxPlayers","setMaxPlayers","Moment","locale","momentLocalizer","simpleNumberLocalizer","fetchContestTypes","getUTCTime","date","newDate","parseZone","utc","format","zIndex","indexOf","substring","Card","Label","column","intContestTypeID","strContestType","dt","disableCalendar","culture","textField","valueField","UTCstart","UTCend","body","options","method","JSON","stringify","then","catch","err","log","createContest","submit","FixturesTable","colSpan","fixts","fixt","fixture_id","setSelected","commence_time","home_team","away_team","EnterResult","homeScore","setHomeScore","awayScore","setAwayScore","setError","updateFixture","fixt_id","results","home_score","away_score","removeFixt","isNaN","Alert","NeedResultsPage","needResults","setNeedResults","selectedFixt","setSelectedFixt","fetch_needsResults","md","index","findIndex","tmp","splice","AdminPage","setComponent","MyLiveContests","contests","intContestID","strContestName","decEntry","intContestPlayerID","updateStartCountdown","newdate","now","getTime","timeleft","day","getDay","hour","getHours","ampm","days","floor","hours","minutes","seconds","countdown","getMonth","getDate","elementID","getElementById","innerHTML","MyUpcomingContests","countdowns","setInterval","dtmStart","clearInterval","decEntryFee","decPrizePool","MyHistoryContests","accountID","setContests","liveContests","setLiveContests","upcomingContests","setUpcomingContests","historyContests","setHistoryContests","display","setDisplay","setTimeout","fetchMyContests","active","upcoming","count","intContestStatusID","defaultActiveKey","Spinner","animation","ContestDetails","contestType","contestID","expandedContest","showDetail","setShowDetail","enterContest","opts","myContests","setMyContests","availContests","setAvailContests","contestRows","setContestRows","fetchOpenContests","tmpAvail","cont","myCont","cntsts","row","arr","league","leagueID","intLeagueID","leagueName","strLeagueName","contestLeagues","decInitialBankRoll","dtmEnd","checkRow","UpcomingContests","formatCurrency","style","currency","leaderboards","contestant","organizeBook","fixtures","organizedBook","leagueIndex","leag","jsonLeague","sport_key","sportIndex","sprt","intSportID","bookSportIndex","sport_id","league_key","league_name","details","league_short","sport_name","strSportName","spIndex","Bet","risk","setRisk","tmpWin","tmpRisk","addWager","toggleDetails","detailRows","getElementsByClassName","arrow","classList","remove","add","handicap","total","american","removeBets","slipType","placeholder","tabIndex","readOnly","model","fixtureID","ML","Spread","Total","fetchContestBets","entryid","ConfirmationModal","message","action","buttonText","available","match","useRouteMatch","showConfirm","setShowConfirm","records","setRecords","tmpBets","formatStraightBet","betModel","legType","spread","decimal","ml","contestPlayerID","jsonBet","validateBets","totalWagered","isError","tmpRecords","tmpModel","insertBetRecords","code","ids","contestBets","formatHandicap","nums","split","Fixture","formattedTime","handleBetClick","bettype","element","removeBet","spreads","away","points","h2h","home","totals","over","under","setBets","addBet","rowSpan","SportPrev","sport","Book","book","entryID","application","setContest","setEntryID","setAvailable","avaialable","setLeagues","setUpcoming","setInplay","inplay","setLeaderboards","setBook","fetchContest","contestid","fetch_leaderboards","fetchFixtures","leagueIds","getOwnPropertyNames","EditBetModal","setOdds","setPoints","defaultValue","editBet","showEditBet","setShowEditBet","editIcon","account_id","setfixts","fetchfixts","orgBook","asyncFunc","Container","exact","Profile","Lobby","ContestsPage","LiveContest","Boolean","hostname","initValues","userReducer","contestReducer","applicationReducer","reducers","combineReducers","store","createStore","reducer","ReactDOM","domain","config","client_id","clientId","redirect_uri","origin","audience","useRefreshTokens","cacheLocation","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ad7a423c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.47646def.PNG\";","import React, { useState, useEffect, useContext } from \"react\";\r\nimport createAuth0Client from \"@auth0/auth0-spa-js\";\r\n\r\nconst DEFAULT_REDIRECT_CALLBACK = () =>\r\n  window.history.replaceState({}, document.title, window.location.pathname);\r\n\r\nexport const Auth0Context = React.createContext();\r\nexport const useAuth0 = () => useContext(Auth0Context);\r\nexport const Auth0Provider = ({\r\n  children,\r\n  onRedirectCallback = DEFAULT_REDIRECT_CALLBACK,\r\n  ...initOptions\r\n}) => {\r\n  const [isAuthenticated, setIsAuthenticated] = useState();\r\n  const [user, setUser] = useState();\r\n  const [auth0Client, setAuth0] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n  const [popupOpen, setPopupOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const initAuth0 = async () => {\r\n      const auth0FromHook = await createAuth0Client(initOptions);\r\n      setAuth0(auth0FromHook);\r\n\r\n      if (window.location.search.includes(\"code=\") &&\r\n          window.location.search.includes(\"state=\")) {\r\n        const { appState } = await auth0FromHook.handleRedirectCallback();\r\n        onRedirectCallback(appState);\r\n      }\r\n\r\n      const isAuthenticated = await auth0FromHook.isAuthenticated();\r\n\r\n      setIsAuthenticated(isAuthenticated);\r\n\r\n      if (isAuthenticated) {\r\n        const user = await auth0FromHook.getUser();\r\n        setUser(user);\r\n      }\r\n\r\n      setLoading(false);\r\n    };\r\n    initAuth0();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const loginWithPopup = async (params = {}) => {\r\n    setPopupOpen(true);\r\n    try {\r\n      await auth0Client.loginWithPopup(params);\r\n    } catch (error) {\r\n      console.error(error);\r\n    } finally {\r\n      setPopupOpen(false);\r\n    }\r\n    const user = await auth0Client.getUser();\r\n    setUser(user);\r\n    setIsAuthenticated(true);\r\n  };\r\n\r\n  const handleRedirectCallback = async () => {\r\n    setLoading(true);\r\n    await auth0Client.handleRedirectCallback();\r\n    const user = await auth0Client.getUser();\r\n    setLoading(false);\r\n    setIsAuthenticated(true);\r\n    setUser(user);\r\n  };\r\n  return (\r\n    <Auth0Context.Provider\r\n      value={{\r\n        isAuthenticated,\r\n        user,\r\n        loading,\r\n        popupOpen,\r\n        loginWithPopup,\r\n        handleRedirectCallback,\r\n        getIdTokenClaims: (...p) => auth0Client.getIdTokenClaims(...p),\r\n        loginWithRedirect: (...p) => auth0Client.loginWithRedirect(...p),\r\n        getTokenSilently: (...p) => auth0Client.getTokenSilently(...p),\r\n        getTokenWithPopup: (...p) => auth0Client.getTokenWithPopup(...p),\r\n        logout: (...p) => auth0Client.logout(...p)\r\n      }}\r\n    >\r\n      {children}\r\n    </Auth0Context.Provider>\r\n  );\r\n};","import { createBrowserHistory } from \"history\";\r\nexport default createBrowserHistory();","const fetchSports = async () => {\r\n    const response = await fetch('https://api.lineleaders.net/sports/');\r\n    const sports = await response.json();\r\n    return(sports)\r\n}\r\n\r\nexport default fetchSports;","const fetchLeagues = async () => {\r\n    const response = await fetch('https://api.lineleaders.net/leagues/');\r\n    const leagues = await response.json();\r\n    return(leagues);\r\n}\r\n\r\nexport default fetchLeagues;","// src/components/NavBar.js\r\n\r\nimport React, {useState, useEffect} from \"react\";\r\n\r\nconst AccessControl = (props) => {\r\n    const [permitted, setPermitted]  = useState(false);\r\n\r\n    /*Runs only on initial render\r\n      Will send token to API and fetch user permissions  \r\n      userPermissions will be updated\r\n    */\r\n    useEffect(() => {\r\n      let perm = false;\r\n      for(let i = 0; i < props.permissions.length; i++){\r\n          if(props.allowedPermissions.includes(props.permissions[i])){\r\n             perm = true;\r\n          };\r\n      }\r\n      setPermitted(perm)\r\n    },[])\r\n    \r\n    return (\r\n        <span>\r\n            {permitted && props.protectedResource}\r\n            {!permitted && null}\r\n        </span>\r\n    );\r\n};\r\n\r\nexport default AccessControl;","import React, {useEffect} from \"react\";\r\nimport { useAuth0 } from \"../../react-auth0-spa\";\r\nimport {Navbar, Nav, NavDropdown, Image } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport logo from '../../images/logo.PNG';\r\n\r\n//components \r\nimport AccessControl from './AccessControl';\r\n\r\nconst NavBar = (props) => {\r\n  const { isAuthenticated, loginWithRedirect, logout, getTokenSilently } = useAuth0();\r\n\r\n  /* Runs on initial mount\r\n  *  Calls fetchPermissions + fetchDetails then updates redux store  \r\n  */\r\n  useEffect( () => {\r\n      if(isAuthenticated){\r\n      let permissions =[];\r\n\r\n      async function fetchPermissions(){\r\n          try {\r\n          const token = await getTokenSilently();\r\n          const response = await fetch(\"https://api.lineleaders.net/accounts/permissions\", {\r\n          headers: {\r\n              Authorization: `Bearer ${token}`\r\n          }\r\n          });\r\n          \r\n          permissions = await response.json();\r\n          props.setPermissions(permissions);\r\n          } catch (error) {\r\n          console.error(error);\r\n          }\r\n      }\r\n\r\n      async function fetchDetails(){\r\n          try {\r\n            const token = await getTokenSilently();\r\n            const response = await fetch(\"https://api.lineleaders.net/accounts/details\", {\r\n            headers: {\r\n                Authorization: `Bearer ${token}`\r\n            }\r\n            });\r\n          \r\n            let data = await response.json();\r\n            props.setUserID(data.intAccountID);\r\n          } catch (error) {\r\n            console.error(error);\r\n          }\r\n      }\r\n      fetchPermissions();\r\n      fetchDetails();\r\n      }\r\n  },[])\r\n  \r\n  return (\r\n    <Navbar className=\"main-nav\" expand=\"md\" sticky=\"top\">\r\n      <Navbar.Brand>\r\n        <Image  src={logo} rounded width=\"100%\" height=\"auto\"/>\r\n      </Navbar.Brand> \r\n      <Navbar.Toggle />\r\n      <Navbar.Collapse>\r\n        <Nav className=\"mr-auto\">\r\n          {/* Show regardless of login state */}\r\n\r\n          {/* Show when logged in */}\r\n          {isAuthenticated && (\r\n            <>\r\n              <LinkContainer to=\"/book\">\r\n                <Nav.Link>Book</Nav.Link>\r\n              </LinkContainer>\r\n              <LinkContainer to=\"/lobby\">\r\n                <Nav.Link>Lobby</Nav.Link>\r\n              </LinkContainer>\r\n              <LinkContainer to=\"/contests\">\r\n                <Nav.Link>My Contests</Nav.Link>\r\n              </LinkContainer>\r\n              <NavDropdown title=\"My Account\">\r\n                {/* <NavDropdown.Item disabled>Balance: ${props.balance}</NavDropdown.Item> */}\r\n                <LinkContainer to=\"/profile\">\r\n                  <NavDropdown.Item>Profile</NavDropdown.Item>\r\n                </LinkContainer>\r\n                <AccessControl permissions={props.permissions} allowedPermissions={[\"create:contest\"]} protectedResource={\r\n                  <LinkContainer to=\"/admin\">\r\n                    <NavDropdown.Item>Admin</NavDropdown.Item>\r\n                  </LinkContainer>\r\n                } />\r\n                <NavDropdown.Divider />\r\n                <NavDropdown.Item onClick={() => logout()}>Log out</NavDropdown.Item>\r\n              </NavDropdown>\r\n            </>\r\n          )}\r\n  \r\n          {/* Show if not logged in */}\r\n          {!isAuthenticated && (\r\n            <Nav.Link onClick={() => loginWithRedirect({})}>Log in</Nav.Link>\r\n          )}\r\n        </Nav>\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n      permissions: state.user.permissions,\r\n      ID: state.user.ID,\r\n      username: state.user.username,\r\n      balance: state.user.balance\r\n    }\r\n  }\r\n  \r\n  const mapDispatchToProps = ( dispatch ) => {\r\n    return{\r\n      setPermissions: (permissions) => { dispatch({type: 'SET_PERMISSIONS', permissions: permissions}) },\r\n      setUserID: (ID) => { dispatch({type: 'SET_USER_ID', ID: ID})},\r\n      setUsername: (username) => { dispatch({type: 'SET_USER_USERNAME', username: username})},\r\n      setBalance: (balance) => { dispatch({type: 'SET_USER_BALANCE', balance: balance})}\r\n    }\r\n  }\r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(NavBar);","//function to format from epoch time\r\nconst formatTime = (time) => {\r\n    let adjusted = new Date(time *1000);\r\n    let formattedTime = adjusted.toLocaleString([], {dateStyle: 'short', timeStyle:'short'});  \r\n    return(formattedTime);  \r\n}\r\n\r\nexport default formatTime;","let stringifyOddsAndPoints = (a) => {\r\n    let num = parseFloat(a);\r\n    let string;\r\n    if(num > 0){\r\n        string = \"+\"+num;\r\n    }else string = num; \r\n\r\n    return string;\r\n} \r\n\r\nexport default stringifyOddsAndPoints;","import React from 'react'\r\nimport formatTime from '../../utils/formatTime';\r\nimport stringifyOddsAndPoints from '../../utils/stringifyOddsAndPoints';\r\n\r\nconst Leg = (props) => {\r\n    let leg = props.leg\r\n    let time = formatTime(leg.fixture.time)\r\n\r\n    if(leg.line.type === \"Moneyline\"){\r\n        return (\r\n            <td>\r\n                    <b>{leg.line.team.type === \"Draw\" ? \r\n                        leg.line.team.type\r\n                            :\r\n                        leg.line.team.name\r\n                    }</b>\r\n                    <br/>{leg.fixture.fixture}\r\n                    <br/>{time}\r\n            </td>\r\n        )\r\n    }else if(leg.line.type === \"Spread\"){\r\n        return (\r\n            <td>\r\n                <b>{leg.line.team.name + \" \" + stringifyOddsAndPoints(leg.line.line)}</b>\r\n                <br/>{leg.fixture.fixture}\r\n                <br/>{time}\r\n            </td>\r\n        )\r\n    }else if(leg.line.type === \"Total\"){\r\n        return (\r\n            <td>\r\n                <b>{leg.line.bet + \" \" + leg.line.line}</b>\r\n                <br/>{leg.fixture.fixture}\r\n                <br/>{time}\r\n            </td>\r\n        )\r\n    }\r\n    return(\r\n        <></>\r\n    )\r\n}\r\n\r\nexport default Leg","import React from 'react';\r\nimport {Table } from 'react-bootstrap';\r\nimport Leg from './Leg';\r\nimport '../../css/betsTable.css';\r\nimport { connect } from 'react-redux';\r\nimport stringifyOddsAndPoints from '../../utils/stringifyOddsAndPoints';\r\n\r\nconst OpenBets = (props) => {    \r\n    return (\r\n        <Table responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th>Type</th>\r\n                    <th>Line(s)</th>\r\n                    <th>Odds</th>\r\n                    <th>Risk</th>\r\n                    <th>Win</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.openBets.map((bet, i)=>{\r\n                    if(bet.type === \"Straight\"){\r\n                        const leg = bet.legs[0];\r\n                        //calc win field\r\n                        let win;\r\n                        if(bet.odds > 0){\r\n                            let dec = bet.odds/100;\r\n                            win = parseFloat(bet.wager * dec).toFixed(2)\r\n                        }else{\r\n                            let dec = Math.abs(bet.odds)/100;\r\n                            win = parseFloat(bet.wager / dec).toFixed(2)\r\n                        }\r\n                        \r\n                        return(\r\n                            <tr className={\"openBet\"} key={i}>\r\n                                <td>{bet.type}</td>\r\n                                <Leg leg={leg} />\r\n                                <td>{stringifyOddsAndPoints(bet.odds)}</td>\r\n                                <td>{\"$\"+parseFloat(bet.wager).toFixed(2)}</td>\r\n                                <td>{\"$\"+win}</td>\r\n                            </tr>\r\n                        )\r\n                    }else{\r\n                        return <></>;\r\n                    }\r\n                })}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        openBets: state.user.openBets\r\n    }\r\n  }\r\n\r\n  export default connect(mapStateToProps)(OpenBets);\r\n","import React from 'react';\r\nimport {Table } from 'react-bootstrap';\r\nimport Leg from './Leg';\r\nimport '../../css/betsTable.css';\r\nimport { connect } from 'react-redux';\r\nimport stringifyOddsAndPoints from '../../utils/stringifyOddsAndPoints';\r\n\r\nconst SettledBets = (props) => {    \r\n    return (\r\n        <Table responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th>Type</th>\r\n                    <th>Line(s)</th>\r\n                    <th>Odds</th>\r\n                    <th>Risk</th>\r\n                    <th>Win</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.settledBets.map((bet, i)=>{\r\n                    if(bet.type === \"Straight\"){\r\n                        const leg = bet.legs[0];\r\n                        //calc win field\r\n                        let win;\r\n                        if(bet.odds > 0){\r\n                            let dec = bet.odds/100;\r\n                            win = parseFloat(bet.wager * dec).toFixed(2)\r\n                        }else{\r\n                            let dec = Math.abs(bet.odds)/100;\r\n                            win = parseFloat(bet.wager / dec).toFixed(2)\r\n                        }\r\n\r\n                        return(\r\n                            <tr className={\"bet\"+bet.result} key={i}>\r\n                                <td>{bet.type}</td>\r\n                                <Leg leg={leg} />\r\n                                <td>{stringifyOddsAndPoints(bet.odds)}</td>\r\n                                <td>{\"$\"+parseFloat(bet.wager).toFixed(2)}</td>\r\n                                {bet.result === \"W\" ? <td>{\"+$\"+win}</td> :<></>}\r\n                                {bet.result === \"L\" ? <td>{\"-$\"+parseFloat(bet.wager).toFixed(2)}</td> :<></>}\r\n                                {bet.result === \"P\" ? <td>{\"-\"}</td> :<></>}\r\n                            </tr>\r\n                        )\r\n                    }else{\r\n                        return <></>;\r\n                    }\r\n                })}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        settledBets: state.contest.settledBets\r\n    }\r\n  }\r\n\r\n  export default connect(mapStateToProps)(SettledBets);\r\n","import React, {useState} from 'react'\r\nimport {Row, Col, Button} from 'react-bootstrap';\r\n\r\nconst MyPosts = () => {\r\n    const newPost = () => {\r\n\r\n    }\r\n\r\n    //Function to handle cancellation of post submission\r\n    const handleCancellation = () => {\r\n        // setRecords([]);\r\n        // setShowConfirm(false);\r\n    }\r\n\r\n    return (\r\n        <>\r\n         \r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default MyPosts","function isEmpty(obj) {\r\n    return Object.keys(obj).length === 0;\r\n};\r\nexport default isEmpty;","import React, {useState, useEffect} from \"react\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport {Form, Row, Col, Button} from 'react-bootstrap';\r\nimport Leg from '../../bets/Leg';\r\nimport stringifyOddsAndPoints from '../../../utils/stringifyOddsAndPoints';\r\nimport isEmpty from '../../../utils/isEmpty';\r\n\r\nconst SelectBet = (props) => {\r\n    const [disabled, setDisabled] = useState(true)\r\n\r\n    const saveAndContinue = () => {\r\n        props.nextStep()\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(!isEmpty(props.bet)){\r\n            setDisabled(false);\r\n        }else setDisabled(true);\r\n    },[props.bet])\r\n    \r\n    return (\r\n        <>\r\n            <h2>Select Bet</h2>\r\n            <Form>\r\n                <Table> \r\n                    <thead> \r\n                        <tr>\r\n                            <th>Type</th>\r\n                            <th>Line(s)</th>\r\n                            <th>Odds</th>\r\n                            <th>Risk</th>\r\n                            <th>Win</th>\r\n                            <th></th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody> \r\n                        {props.openBets.map((bet, i)=>{\r\n                            if(bet.type === \"Straight\"){\r\n                                const leg = bet.legs[0];\r\n                                //calc win field\r\n                                let win;\r\n                                if(bet.odds > 0){\r\n                                    let dec = bet.odds/100;\r\n                                    win = parseFloat(bet.wager * dec).toFixed(2)\r\n                                }else{\r\n                                    let dec = Math.abs(bet.odds)/100;\r\n                                    win = parseFloat(bet.wager / dec).toFixed(2)\r\n                                }\r\n                                \r\n                                return(\r\n                                    <tr className={\"openBet\"} key={i}>\r\n                                        <td>{bet.type}</td>\r\n                                        <Leg leg={leg} />\r\n                                        <td>{stringifyOddsAndPoints(bet.odds)}</td>\r\n                                        <td>{\"$\"+parseFloat(bet.wager).toFixed(2)}</td>\r\n                                        <td>{\"$\"+win}</td>\r\n                                        <td>\r\n                                            <Form.Check type=\"radio\" name=\"bet\" onClick={()=>props.setBet(bet)}/>\r\n                                        </td>\r\n                                    </tr>\r\n                                )\r\n                            }else{\r\n                                return <></>;\r\n                            }\r\n                        })}\r\n                    </tbody>\r\n                </Table>\r\n                <Form.Group as={Row}>\r\n                    <Col sm={{ span: 12 }}>\r\n                        <Button disabled={disabled} onClick={(e)=> saveAndContinue(e)}>Next</Button>\r\n                    </Col>\r\n                </Form.Group>  \r\n            </Form>\r\n        </>    \r\n    );\r\n};\r\n\r\nexport default SelectBet;","import React, {useState, useEffect} from 'react';\r\nimport {Form, Button, Row, Col, Table} from 'react-bootstrap';\r\nimport Leg from '../../bets/Leg';\r\nimport stringifyOddsAndPoints from '../../../utils/stringifyOddsAndPoints';\r\nimport isEmpty from '../../../utils/isEmpty';\r\n\r\nconst Writeup = (props) => {\r\n    const [win, setWin] = useState();\r\n    const [bet, setBet] = useState({});\r\n\r\n    useEffect(()=>{\r\n        \r\n        if(props.bet.type === \"Straight\"){\r\n            const leg = props.bet.legs[0];\r\n            //calc win field\r\n            let pot;\r\n            if(props.bet.odds > 0){\r\n                let dec = props.bet.odds/100;\r\n                pot = parseFloat(props.bet.wager * dec).toFixed(2)\r\n            }else{\r\n                let dec = Math.abs(props.bet.odds)/100;\r\n                pot = parseFloat(props.bet.wager / dec).toFixed(2)\r\n            }\r\n            setWin(pot);\r\n        }\r\n        setBet(props.bet)\r\n    },[props.bet])\r\n\r\n        \r\n    return (\r\n        <>  \r\n            <h2>Write-up</h2>\r\n            {!isEmpty(bet) ? \r\n                <Table> \r\n                    <thead> \r\n                        <tr>\r\n                            <th>Type</th>\r\n                            <th>Line(s)</th>\r\n                            <th>Odds</th>\r\n                            <th>Risk</th>\r\n                            <th>Win</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody> \r\n                        <tr className={\"openBet\"}>\r\n                            <td>{bet.type}</td>\r\n                            <Leg leg={bet.legs[0]} />\r\n                            <td>{stringifyOddsAndPoints(bet.odds)}</td>\r\n                            <td>{\"$\"+parseFloat(bet.wager).toFixed(2)}</td>\r\n                            <td>{\"$\"+win}</td>\r\n                        </tr>     \r\n                    </tbody>\r\n                </Table>\r\n                :\r\n                <></>\r\n            }\r\n            <Form>\r\n                <Form.Group>\r\n                    <Form.Control as=\"textarea\" rows={10} value={props.writeup} onChange={(e)=> props.setWriteup(e.target.value)}/>\r\n                </Form.Group>\r\n                <Form.Group as={Row}>\r\n                    <Col>\r\n                        <Button onClick={()=> props.prevStep()}>Back</Button>\r\n                    </Col>\r\n                    <Col>\r\n                        <Button onClick={()=> alert(\"posted\")}>Post</Button>\r\n                    </Col>\r\n                </Form.Group>  \r\n            </Form>\r\n        </>       \r\n    )\r\n\r\n}\r\n\r\nexport default Writeup","import React, {useState} from 'react'\r\nimport isEmpty from '../../../utils/isEmpty';\r\nimport SelectBet from './SelectBet';\r\nimport WriteUp from './Writeup';\r\n\r\nconst CreatePost = (props) => {\r\n    const [step, setStep] = useState(1);\r\n    const [bet, setBet] = useState({});\r\n    const [writeup, setWriteup] = useState('')\r\n\r\n    //Method to go to next step\r\n    function nextStep(){\r\n        setStep(step+1);\r\n    }\r\n    //Method to go to previous step\r\n    function prevStep(){\r\n        setStep(step-1);\r\n    }\r\n\r\n    // submitPost = () =>{\r\n    //     if(!isEmpty(bet)){\r\n\r\n    //     }\r\n    // }\r\n\r\n    switch(step){\r\n        case 1:\r\n            return (\r\n                <SelectBet nextStep={()=>nextStep()} setBet={setBet} bet={bet} openBets={props.openBets}/>\r\n            )\r\n        case 2: \r\n            return (\r\n                <WriteUp prevStep={()=> prevStep()}  setWriteup={setWriteup} writeup={writeup} bet={bet}/>\r\n            )    \r\n    }\r\n}\r\n\r\nexport default CreatePost;","import React from 'react';\r\nimport {Modal} from 'react-bootstrap';\r\nimport CreatePost from './CreatePost';\r\n\r\nconst CPModal = (props) => {\r\n\r\n    return (\r\n        <Modal size='lg' show={props.show} onHide={props.close}>\r\n            <Modal.Body>\r\n                <CreatePost openBets={props.openBets}/>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n\r\n}\r\n\r\nexport default CPModal","import React, {useState, useEffect} from \"react\";\r\nimport { useAuth0 } from \"../../react-auth0-spa\";\r\nimport {Row, Col, Form, Tabs, Tab, Button} from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport OpenBets from '../../social/bets/OpenBets';\r\nimport SettledBets from '../../social/bets/SettledBets';\r\nimport MyPosts from '../../social/MyPosts';\r\nimport CreatePost from '../../social/forms/createPost/CreatePost';\r\nimport CPModal from \"../../social/forms/createPost/CPModal\";\r\n\r\nconst Profile = (props) => {\r\n  const { loading, user } = useAuth0();\r\n  const [record, setRecord] = useState(String);\r\n  const [PL, setPL] = useState();\r\n  const [activeTab, setActiveTab] = useState('posts');\r\n  const [showCreatePost,setShowCreatePost] = useState(false);\r\n\r\n  useEffect(()=>{\r\n    const calcRecordAndPL = () =>{\r\n      let profitloss = 0;\r\n      let w =0; \r\n      let l =0; \r\n      let p =0; \r\n\r\n      let rec =\"\";\r\n\r\n      props.settledBets.forEach(bet=>{\r\n        //get result and update counter\r\n        if(bet.result === \"W\"){\r\n          w = w+1;\r\n          //if bet won add amount to PL\r\n          let win = 0;\r\n          if(bet.odds > 0){\r\n              let dec = bet.odds/100;\r\n              win = parseFloat(bet.wager * dec).toFixed(2);\r\n          }else{\r\n              let dec = Math.abs(bet.odds)/100;\r\n              win = parseFloat(bet.wager / dec).toFixed(2);\r\n          }\r\n          profitloss = parseFloat(profitloss) + parseFloat(win);\r\n        }else if(bet.result === \"L\"){\r\n          l = l+1;\r\n          //if bet lost subtract wager from PL\r\n          profitloss = parseFloat(profitloss) - parseFloat(bet.wager);\r\n        }else p = p+1;\r\n      });\r\n      \r\n      if(p > 0){\r\n        rec = w+\"-\"+l+\"-\"+p;\r\n      }else rec = w+\"-\"+l;\r\n\r\n      setRecord(rec);\r\n      setPL(profitloss);\r\n    }\r\n\r\n    calcRecordAndPL();\r\n  },[props])\r\n\r\n  //Function to run when user_id is set and fetch bets\r\n  useEffect(()=>{  \r\n    const fetchBets = async ()=> {\r\n      const response = await fetch('https://api.lineleaders.net/bets/personal?id='+props.user_id);\r\n      const bets = await response.json();\r\n      //separate into open and settled and set redux state\r\n      let open = [];\r\n      let settled = [];\r\n\r\n      bets.forEach(bet=>{\r\n          if(bet.result === \"W\"|| bet.result === \"L\" || bet.Result ===\"P\"){\r\n              settled.push(bet);\r\n          }else{\r\n              open.push(bet);\r\n          }\r\n      })\r\n      props.setOpenBets(open);\r\n      props.setSettledBets(settled);\r\n    }\r\n\r\n    fetchBets();\r\n  },[props.user_id])\r\n\r\n  //Function to handle cancellation of creating a post\r\n  const handleCancellation = () => {\r\n    setShowCreatePost(false);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Row>\r\n        <Col>\r\n          <img src={user.picture} alt=\"Profile\" />\r\n          <p>{user.email}</p>\r\n        </Col>\r\n        <Col>\r\n          <p>{\"Record: \"+record}</p>\r\n          <p>{\"P/L: $\"+PL}</p>\r\n          <Button onClick={()=>setShowCreatePost(true)}>New Post</Button>\r\n        </Col>\r\n      </Row>\r\n      <Form className=\"hidden-lg\">\r\n        <Form.Row>                    \r\n          <Col>\r\n              <Form.Control as=\"select\" onChange={(e)=>setActiveTab(e.target.value)}>\r\n                <option key=\"posts\" value=\"posts\">Posts</option>\r\n                <option key=\"open\" value=\"open\">{\"Open (\"+props.openBets.length+\")\"}</option>\r\n                <option key=\"settled\" value=\"settled\">Settled</option>\r\n              </Form.Control>\r\n          </Col>\r\n        </Form.Row>\r\n      </Form>\r\n      {/* Display when screens are large */}\r\n      <Tabs fill activeKey={activeTab} onSelect={(k)=>setActiveTab(k)} id=\"contestsTab\" className=\"hidden-md\">\r\n          <Tab eventKey=\"posts\" title=\"Posts\">\r\n             <MyPosts />\r\n          </Tab>\r\n          <Tab eventKey=\"open\" title={\"Open (\"+props.openBets.length+\")\"}>\r\n              <OpenBets />\r\n          </Tab>\r\n          <Tab eventKey=\"settled\" title=\"Settled\">\r\n              <SettledBets />\r\n          </Tab>\r\n      </Tabs>   \r\n      <CPModal  close={handleCancellation} show={showCreatePost} openBets= {props.openBets}/>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user_id: state.user.ID,\r\n    openBets: state.user.openBets,\r\n    settledBets: state.user.settledBets\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = ( dispatch ) => {\r\n  return{\r\n    setOpenBets: bets => { dispatch({type: 'SET_OPEN_BETS', bets: bets })},      \r\n    setSettledBets: bets => { dispatch({type: 'SET_SETTLED_BETS', bets: bets })},\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);","import React, { useEffect } from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport { useAuth0 } from \"../../react-auth0-spa\";\r\n\r\nconst PrivateRoute = ({ component: Component, path, ...rest }) => {\r\n  const { loading, isAuthenticated, loginWithRedirect } = useAuth0();\r\n\r\n  useEffect(() => {\r\n    if (loading || isAuthenticated) {\r\n      return;\r\n    }\r\n    const fn = async () => {\r\n      await loginWithRedirect({\r\n        appState: {targetUrl: window.location.pathname}\r\n      });\r\n    };\r\n    fn();\r\n  }, [loading, isAuthenticated, loginWithRedirect, path]);\r\n\r\n  const render = props =>\r\n    isAuthenticated === true ? <Component {...props} /> : null;\r\n\r\n  return <Route path={path} render={render} {...rest} />;\r\n};\r\n\r\nexport default PrivateRoute;","import React, {useState, useEffect} from 'react'\r\nimport {Form, Button, Modal} from 'react-bootstrap';\r\n\r\n\r\nconst LeagueSelect = (props) => {\r\n    const [leagues, setLeagues] = useState([])\r\n\r\n    return (\r\n        <Modal show={props.show} onHide={()=>props.setDisp(false)}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Select Leagues</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div>\r\n                    <h5>Basketball</h5>\r\n                    <Form.Check \r\n                        type=\"checkbox\"\r\n                        value=\"1\"\r\n                        label={`NBA`}\r\n                        \r\n                    />\r\n                    <Form.Check \r\n                        type=\"checkbox\"\r\n                        value=\"1\"\r\n                        label={`Euro League`}\r\n                    />\r\n                    <h5>Soccer</h5>\r\n                    <Form.Check \r\n                        type=\"checkbox\"\r\n                        value=\"1\"\r\n                        label={`Bundesliga 1`}\r\n                    />\r\n                    <Form.Check \r\n                        type=\"checkbox\"\r\n                        value=\"1\"\r\n                        label={`Premier League`}\r\n                    />\r\n                </div>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={()=>props.setDisp(false)} >\r\n                    Close\r\n                </Button>\r\n                <Button variant=\"primary\" onClick={()=>props.addLeagues()}>\r\n                    Add Leagues\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    )\r\n\r\n}\r\n\r\nexport default LeagueSelect","import React, { useState, useEffect } from 'react'\r\nimport {Form, Row, Col, Button, Card} from 'react-bootstrap';\r\nimport DateTimePicker from 'react-widgets/lib/DateTimePicker';\r\nimport Multiselect from 'react-widgets/lib/Multiselect';\r\nimport NumberPicker from 'react-widgets/lib/NumberPicker';\r\n//components \r\nimport LeagueSelect from './LeagueSelect';\r\nimport simpleNumberLocalizer from 'react-widgets-simple-number';\r\n\r\n\r\nimport Moment from 'moment';\r\nimport momentLocalizer from 'react-widgets-moment';\r\n\r\n\r\n\r\nconst CreateContest = (props) => {\r\n    const moment = require('moment');\r\n\r\n    const [dispLeagues,setDispLeagues] = useState(false);    \r\n    const [dispSports,setDispSports] = useState(false);\r\n    const [types,setTypes] = useState([]);\r\n    const [name,setName] = useState(String);\r\n    const [typeID,setTypeID] = useState(Number);\r\n    const [start,setStart] = useState();\r\n    const [end,setEnd] = useState();\r\n    const [disabled,setDisabled] = useState(true);\r\n    const [sports, setSports] = useState([])\r\n    const [sportIDs, setSportIDs] = useState([])\r\n    const [leagueIDs, setLeagueIDs] = useState([10046574, 10046575, 10046584])\r\n    const [leaguesLabel, setLeaguesLabel] = useState('Click to Select');\r\n    const [entry, setEntry] = useState(Number);\r\n    const [prizepool, setPrizepool] = useState(Number);\r\n    const [bankroll, setBankroll] = useState(Number);\r\n    const [submitted, setSubmitted] = useState(false);\r\n    const [submittedStatus, setSubmittedStatus] = useState();\r\n    const [minPlayers, setMinPlayers] = useState();\r\n    const [maxPlayers, setMaxPlayers] = useState();\r\n    \r\n    //Localization for datetime picker\r\n    Moment.locale('en');\r\n    momentLocalizer();\r\n    simpleNumberLocalizer();\r\n    //Run on initial render, fetch contest types\r\n    useEffect(()=>{\r\n        const fetchContestTypes = async() =>{\r\n            const response = await fetch('https://api.lineleaders.net/contests/types');\r\n            const data = await response.json();\r\n            setTypes(data);\r\n        }\r\n\r\n        const fetchSports = async () => {\r\n            const response = await fetch('https://api.lineleaders.net/sports/');\r\n            const data = await response.json();\r\n            setSports(data)\r\n        }\r\n\r\n        fetchSports();\r\n        fetchContestTypes();\r\n    },[])\r\n\r\n\r\n    //Function to add selected sports to sports variable\r\n    const addSports = (sports) => {\r\n        setSports(sports);\r\n    }\r\n\r\n    //Function to add selected leagues to leagues variable\r\n    const addLeagues = () => {\r\n    }\r\n\r\n    //Function to change date to UTC for storage\r\n    const getUTCTime = (date) => {\r\n        let newDate = moment.parseZone(date).utc().format();\r\n        let zIndex = newDate.indexOf('Z');\r\n        newDate = newDate.substring(0, zIndex);\r\n        return(newDate);\r\n    }\r\n\r\n    //Function to create contest record in database\r\n    const submit = (e) => {\r\n        //set submitted to true \r\n        setSubmitted(true)\r\n\r\n        let UTCstart = getUTCTime(start);\r\n        let UTCend = getUTCTime(end);\r\n\r\n        //Create contest record in database\r\n        const createContest = async () => {\r\n            const body = {\r\n                name: name,\r\n                typeID: typeID,\r\n                entry: entry,\r\n                prizepool: prizepool,\r\n                bankroll: bankroll, \r\n                start: UTCstart, \r\n                end: UTCend,\r\n                minPlayers: minPlayers,\r\n                maxPlayers: maxPlayers,\r\n                leagueIDs: leagueIDs\r\n            }\r\n\r\n            //api parameters to create game\r\n            const url ='https://api.lineleaders.net/contests/create'\r\n            const options = {\r\n                method:'POST',\r\n                headers:{\r\n                    'Content-Type': 'application/json;charset=UTF-8'\r\n                }, \r\n                body: JSON.stringify(body)\r\n            }\r\n\r\n            //call api\r\n            fetch(url, options)\r\n                .then(response=> {\r\n                    setSubmittedStatus(<p>Contest Created Successfully</p>)\r\n                })\r\n                .catch(err=>{\r\n                    setSubmittedStatus(<p>Something went wrong on our end, please try again</p>)\r\n                    console.log(err)\r\n                })\r\n        }\r\n        createContest();\r\n    }\r\n\r\n    const addSportID = (id) => {\r\n        let temp = sportIDs;\r\n        temp.push(id)\r\n    }\r\n\r\n    return (\r\n        <Card>\r\n            <Card.Header>CREATE NEW CONTEST</Card.Header>\r\n            <Card.Body>\r\n                {/* If form is submitted, show successful or failed submission. If not submitted, show form. */}\r\n                {submitted ? submittedStatus : \r\n                <Form>\r\n                     <Form.Row>                    \r\n                        <Form.Label column >Name</Form.Label>\r\n                        <Col>\r\n                            <Form.Control type=\"text\" value={name} onChange={(e)=>setName(e.target.value)}/>\r\n                        </Col>\r\n                    </Form.Row>\r\n                    <Form.Row>                    \r\n                        <Form.Label column >Type</Form.Label>\r\n                        <Col>\r\n                            <Form.Control as=\"select\" onChange={(e)=>setTypeID(e.target.value)}>\r\n                                <option>Select type</option>\r\n                                {types.map(type=>{\r\n                                    return (\r\n                                        <option key={type.intContestTypeID} value={type.intContestTypeID}>{type.strContestType}</option>\r\n                                    )\r\n                                })}\r\n                            </Form.Control>\r\n                        </Col>\r\n                    </Form.Row>\r\n                    <Form.Row>                    \r\n                        <Form.Label column >Start</Form.Label>\r\n                        <Col >\r\n                            <DateTimePicker\r\n                                onChange={(dt)=>setStart(dt)}\r\n                                value={start}\r\n                                time={true}\r\n                                disableCalendar={true}\r\n                                culture='en'\r\n                                step={15}\r\n                            />                    \r\n                        </Col>\r\n                    </Form.Row>\r\n                    <Form.Row>                    \r\n                        <Form.Label column  >End</Form.Label>\r\n                        <Col >\r\n                            <DateTimePicker\r\n                                onChange={(dt)=>setEnd(dt)}\r\n                                value={end}\r\n                                time={true}\r\n                                disableCalendar={true}\r\n                                culture='en'\r\n                                step={15}\r\n                            />        \r\n                        </Col>  \r\n                    </Form.Row>\r\n                    <Form.Row>                    \r\n                        <Form.Label column >Sports</Form.Label>\r\n                        <Col >\r\n                            <Multiselect\r\n                                data={sports}\r\n                                textField={'strSportName'}\r\n                                valueField={'intSportID'}\r\n                                value={sportIDs}\r\n                                onChange={value => setSportIDs(value)}\r\n                            />\r\n                        </Col>\r\n                    </Form.Row>\r\n                    <Form.Row>                    \r\n                        <Form.Label column>Entry Fee ($)</Form.Label>\r\n                        <Col >\r\n                            <NumberPicker\r\n                                value={entry}\r\n                                onChange={value => setEntry(value )}\r\n                                format='-$#,###.00'\r\n                            />\r\n                        </Col>\r\n                    </Form.Row>\r\n                    <Form.Row>                    \r\n                        <Form.Label column>Initial Bankroll ($)</Form.Label>\r\n                        <Col >\r\n                            <NumberPicker \r\n                                value={bankroll}\r\n                                onChange={value => setBankroll(value)}\r\n                                format='-$#,###.00'\r\n                            />\r\n                        </Col>\r\n                    </Form.Row>\r\n                    <Form.Row>                    \r\n                        <Form.Label column>Prize Pool ($)</Form.Label>\r\n                        <Col >\r\n                            <NumberPicker \r\n                                value={prizepool}\r\n                                onChange={value => setPrizepool(value)}\r\n                                format='-$#,###.00'\r\n                            />\r\n                        </Col>\r\n                    </Form.Row>\r\n                    <Form.Row>                    \r\n                        <Form.Label column>Min Players</Form.Label>\r\n                        <Col >\r\n                            <NumberPicker \r\n                                value={minPlayers}\r\n                                onChange={value => setMinPlayers(value)}\r\n                                step={1}\r\n                            />\r\n                        </Col>\r\n                    </Form.Row>\r\n                    <Form.Row>                    \r\n                        <Form.Label column>Max Players</Form.Label>\r\n                        <Col >\r\n                            <NumberPicker \r\n                                value={maxPlayers}\r\n                                onChange={value => setMaxPlayers(value)}\r\n                                step={1}\r\n                            />\r\n                        </Col>\r\n                    </Form.Row>\r\n                    <Form.Group as={Row}> \r\n                        <Col>                   \r\n                            <Button onClick={()=>props.close()}>Cancel</Button>\r\n                        </Col>\r\n                        <Col>                   \r\n                            <Button type=\"submit\" onClick={(e)=>submit(e)}>Create Contest</Button>\r\n                        </Col>\r\n                    </Form.Group>\r\n                </Form>\r\n                }\r\n                <LeagueSelect addLeagues={addLeagues} show={dispLeagues} setDisp={setDispLeagues} />\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n\r\n}\r\n\r\nexport default CreateContest;","import React from 'react'\r\nimport {Table} from 'react-bootstrap'\r\nimport formatTime from '../../../utils/formatTime';\r\n\r\nconst FixturesTable  = (props) => {\r\n    return (\r\n        <Table>\r\n            <thead>\r\n                <tr>\r\n                    <th colSpan=\"2\">Fixtures Needing Results</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.fixts.length > 0 ?\r\n                    props.fixts.map(fixt=>{\r\n                        return(\r\n                            <tr key={fixt.fixture_id} onClick={()=>props.setSelected(fixt)}> \r\n                                <td>\r\n                                    {formatTime(fixt.fixture.commence_time)}\r\n                                </td>\r\n                                <td>\r\n                                    {fixt.fixture.home_team +\" vs. \"+fixt.fixture.away_team}\r\n                                </td>\r\n                            </tr>\r\n                        )\r\n                    })\r\n                        :\r\n                    <></>\r\n                }\r\n             \r\n            </tbody>\r\n        </Table>\r\n    )\r\n\r\n}\r\n\r\nexport default FixturesTable","\r\n\r\nimport React, {useState} from 'react';\r\nimport { Form, Card, Col, Button, Alert} from 'react-bootstrap';\r\nimport isEmpty from '../../../utils/isEmpty';\r\n\r\nconst EnterResult = (props) => {\r\n    const [homeScore, setHomeScore] = useState();\r\n    const [awayScore, setAwayScore] = useState();\r\n    const [error, setError] = useState();\r\n    \r\n    //Update fixture results  in database\r\n    const updateFixture = async () => {\r\n        //api parameters to update results\r\n        let body = {\r\n            fixt_id : props.fixt.fixture_id,\r\n            results :  {     \r\n                home_score : homeScore, \r\n                away_score : awayScore\r\n            }\r\n        };\r\n        const url ='https://api.lineleaders.net/fixtures/updateResults'\r\n        const options = {\r\n            method:'POST',\r\n            headers:{\r\n                'Content-Type': 'application/json;charset=UTF-8'\r\n            }, \r\n            body: JSON.stringify(body)\r\n        }\r\n\r\n        //call api\r\n        fetch(url, options)\r\n            .then(response=> {\r\n                props.removeFixt(props.fixt.fixture_id);\r\n            })\r\n            .catch(err=>{\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    //function to add results to fixture and update database \r\n    const checkResults = () => {\r\n        //make sure scores are valid \r\n        if(isNaN(homeScore) || isNaN(awayScore) || awayScore < 0 || homeScore < 0){\r\n            setError(<Alert variant='danger'>Enter a valid score in order to save</Alert>)\r\n        }else{\r\n            setError()\r\n            //add to database\r\n            updateFixture();\r\n        } \r\n    }\r\n\r\n    return (    \r\n        <Card>\r\n            <Card.Header>\r\n                Enter Results\r\n            </Card.Header>\r\n            <Card.Body>\r\n                {!isEmpty(props.fixt) ? \r\n                    <Form> \r\n                        <Form.Row> \r\n                            <Col> \r\n                                <Form.Control type=\"number\" onChange={(e)=>setAwayScore(e.target.value)}></Form.Control>\r\n                            </Col>\r\n                            <Form.Label column>{props.fixt.fixture.away_team}</Form.Label>\r\n                        </Form.Row>\r\n                        <Form.Row> \r\n                            <Col> \r\n                                <Form.Control type=\"number\"  onChange={(e)=>setHomeScore(e.target.value)}></Form.Control>\r\n                            </Col>\r\n                            <Form.Label column>{props.fixt.fixture.home_team}</Form.Label>\r\n                        </Form.Row>\r\n                        <Form.Row> \r\n                            {error}\r\n                            <Button onClick={()=>checkResults()}>Save Results</Button>\r\n                        </Form.Row>\r\n                        \r\n                    </Form>\r\n                        :\r\n                    <></>\r\n                }\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n\r\n}\r\n\r\nexport default EnterResult\r\n\r\n","import React, {useEffect, useState} from 'react'\r\nimport {Row, Col} from 'react-bootstrap';\r\n\r\nimport FixturesTable from './FixturesTable';\r\nimport EnterResult from './EnterResult';\r\n\r\nconst NeedResultsPage = () => {\r\n    const [needResults, setNeedResults] = useState([]);\r\n    const [selectedFixt, setSelectedFixt] = useState({});\r\n    \r\n    //Run on render\r\n    useEffect(()=>{\r\n        const fetch_needsResults = async()=>{\r\n            const response = await fetch('https://api.lineleaders.net/fixtures/needResults');\r\n            const fixts = await response.json();\r\n            setNeedResults(fixts);\r\n        }\r\n\r\n        fetch_needsResults()\r\n    },[])\r\n\r\n    const removeFixt = (id) => { \r\n        setSelectedFixt({});\r\n        let index = needResults.findIndex(fixt => fixt.fixture_id === id)\r\n        let tmp = [...needResults];\r\n        tmp.splice(index, 1);\r\n        setNeedResults(tmp);\r\n    }\r\n\r\n    return (\r\n        <Row>\r\n            <Col md={8}>\r\n                <FixturesTable fixts={needResults} setSelected={setSelectedFixt}/>\r\n            </Col>\r\n            <Col md={4}> \r\n                <EnterResult fixt={selectedFixt} removeFixt={removeFixt}/>\r\n            </Col>\r\n        </Row>   \r\n    )\r\n\r\n}\r\n\r\nexport default NeedResultsPage\r\n\r\n","import React, {useState} from 'react'\r\nimport {Row, Navbar, Nav} from 'react-bootstrap';\r\n\r\n//Components\r\nimport CreateContest from '../forms/createContest/CreateContest';\r\nimport AdminSideBar from '../navs/AdminSideBar';\r\nimport NeedResultsPage from '../admin/fixtureResults/NeedResultsPage';\r\nconst AdminPage = () => {\r\n    const [component, setComponent] = useState(<></>)\r\n\r\n    const close = () => {\r\n        setComponent(<></>)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Row>\r\n                <Navbar>\r\n                    <Nav>\r\n                        <Nav.Item>\r\n                            <Nav.Link onClick={()=>setComponent(<NeedResultsPage />)}>Enter Results</Nav.Link>\r\n                       </Nav.Item>\r\n                        <Nav.Item>\r\n                            <Nav.Link onClick={()=>setComponent(<CreateContest />)}>Create Contest</Nav.Link>\r\n                        </Nav.Item>\r\n                    </Nav>\r\n                </Navbar>\r\n            </Row>\r\n            <Row>   \r\n                {component}        \r\n            </Row>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default AdminPage","import React from 'react';\r\nimport {Table, Button} from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\n\r\nconst MyLiveContests = (props) => {\r\n\r\n    return (\r\n        <Table responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th>Contest Name</th>\r\n                    <th>Style</th>\r\n                    <th></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.contests.map(contest=>(\r\n                    <tr key={contest.intContestID}>\r\n                        <td>{contest.strContestName}</td>\r\n                        <td>{contest.strContestType}</td>\r\n                        <th>{contest.decEntry}</th>\r\n                        <td>\r\n                            <LinkContainer to={\"/live-contest/\"+contest.intContestID+\"/entry/\"+contest.intContestPlayerID}>\r\n                                <Button>\r\n                                    Open\r\n                                </Button>\r\n                            </LinkContainer>    \r\n                        </td>\r\n                    </tr>\r\n                ))}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n\r\n}\r\n\r\nexport default MyLiveContests","// Run calcTime every second\r\nlet updateStartCountdown = (date, i) => {\r\n    const weekday =[\"Mon\",\"Tue\",\"Wed\",\"Thur\",\"Fri\",\"Sat\",\"Sun\"];\r\n    let newdate = new Date(date);\r\n    let now = new Date().getTime();\r\n    let start = new Date(date).getTime();\r\n    let timeleft = start - now;\r\n    let day = new Date(date).getDay();\r\n    let hour = new Date(date).getHours();\r\n    let ampm = hour >= 12 ? 'pm' : 'am';\r\n    if(hour > 12){\r\n        hour -= 12\r\n    }\r\n    \r\n    // Calculating the days, hours, minutes and seconds left\r\n    let days = Math.floor(timeleft / (1000 * 60 * 60 * 24));\r\n    let hours = Math.floor((timeleft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n    let minutes = Math.floor((timeleft % (1000 * 60 * 60)) / (1000 * 60));\r\n    let seconds = Math.floor((timeleft % (1000 * 60)) / 1000);\r\n    \r\n    let countdown=\"\";\r\n    // Display the message when countdown is over\r\n    if (timeleft < 0) {\r\n        countdown = \"TIME UP!!\";\r\n    }else{\r\n        if(days < 1){\r\n            countdown = hours+\":\"+ minutes+\":\"+ seconds;\r\n        }else if(days <= 6){\r\n            countdown = weekday[day-1]+\" \"+hour+ampm;\r\n        }else{\r\n            countdown = newdate.getMonth()+1+\"/\"+newdate.getDate()+\" \"+hour+ampm;\r\n\r\n\r\n        }\r\n    }; \r\n\r\n    let elementID=\"countdown\"+i;\r\n    document.getElementById(elementID).innerHTML = countdown;    \r\n};\r\n\r\nexport default updateStartCountdown;","import React, { useEffect} from 'react'\r\nimport {Table} from 'react-bootstrap';\r\nimport updateStartCountdown from '../../../utils/startCountdown';\r\n\r\nconst MyUpcomingContests = (props) => {\r\n    let contests = props.contests;\r\n\r\n    //Effect to update countdown \r\n    useEffect(()=>{\r\n        if(contests.length > 0){\r\n            var countdowns = setInterval(()=>{\r\n                contests.forEach((contest, i)=>{\r\n                    updateStartCountdown(contest.dtmStart, i);\r\n                })\r\n            },1000)\r\n        }\r\n\r\n        //Cleanup interval on component unmount\r\n        return function cleanup() {\r\n            clearInterval(countdowns);       \r\n        };\r\n    });\r\n\r\n    return (\r\n        <Table responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th>Contest Name</th>\r\n                    <th>Live In</th>\r\n                    <th>Game Style</th>\r\n                    <th>Entry Fee</th>\r\n                    <th>Prizes</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.contests.map((contest, i)=>(\r\n                    <tr key={contest.intContestID+i}>\r\n                        <td>{contest.strContestName}</td>\r\n                        <td id={\"countdown\"+i}></td>\r\n                        <td>{contest.strContestType}</td>\r\n                        <td>${contest.decEntryFee}</td>\r\n                        <td>${contest.decPrizePool}</td>\r\n                    </tr>\r\n                ))}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n}\r\n\r\nexport default MyUpcomingContests","import React from 'react'\r\nimport {Table} from 'react-bootstrap';\r\n\r\nconst MyHistoryContests = (props) => {\r\n\r\n    return (\r\n        <Table responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th>Contest Name</th>\r\n                    <th>Style</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.contests.map(contest=>(\r\n                    <tr key={contest.intContestID}>\r\n                        <td>{contest.strContestName}</td>\r\n                        <td>{contest.strContestType}</td>\r\n                    </tr>\r\n                ))}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n\r\n}\r\n\r\nexport default MyHistoryContests","import React, { useState, useEffect } from 'react';\r\nimport {Tabs, Tab, Spinner} from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\n\r\n//Components \r\nimport MyLiveContests from '../individual/MyContests/MyLiveContests';\r\nimport MyUpcomingContests from '../individual/MyContests/MyUpcomingContests';\r\nimport MyHistoryContests from '../individual/MyContests/MyHistoryContests';\r\n\r\nconst ContestsPage = (props) => {\r\n    const [contests, setContests] = useState([]);\r\n    const [liveContests, setLiveContests] = useState([]);\r\n    const [upcomingContests, setUpcomingContests] = useState([]);\r\n    const [historyContests, setHistoryContests] = useState([]);\r\n    const [display, setDisplay] = useState(false);\r\n\r\n    //Set display to true after 3 seconds\r\n    setTimeout(function() {\r\n        setDisplay(true)\r\n    }, 1000);\r\n\r\n    useEffect(()=>{\r\n        const fetchMyContests = async ()=> {\r\n            const response = await fetch('https://api.lineleaders.net/contests/myContests?ID='+props.accountID);\r\n            const contests = await response.json();\r\n            setContests(contests);\r\n        }\r\n\r\n        fetchMyContests();\r\n    },[props])\r\n\r\n\r\n    useEffect(()=>{\r\n        if(contests.length > 0){\r\n            let active = [];\r\n            let upcoming = [];\r\n            let history = [];\r\n            let count = 0;\r\n\r\n            contests.forEach(contest => {\r\n                //upcoming (Or open in DB)\r\n                if(contest.intContestStatusID == 1){\r\n                    upcoming.push(contest)\r\n                }\r\n                // active\r\n                else if(contest.intContestStatusID == 2){\r\n                    active.push(contest)\r\n                }\r\n                // history (complete)\r\n                else if(contest.intContestStatusID == 3){\r\n                    history.push(contest)\r\n                }\r\n                count++;\r\n            })\r\n            if(count == contests.length ){\r\n                setLiveContests(active);\r\n                setUpcomingContests(upcoming);\r\n                setHistoryContests(history);            \r\n            }\r\n        }\r\n    },[contests])\r\n\r\n    if(contests.length > 0 && display===true){ \r\n\r\n        return (\r\n            <>\r\n                <h3>MY CONTESTS</h3>\r\n                <Tabs fill defaultActiveKey=\"live\" id=\"contestsTab\">\r\n                    <Tab eventKey=\"live\" title=\"LIVE\">\r\n                        <MyLiveContests contests={liveContests} />\r\n                    </Tab>  \r\n                    <Tab eventKey=\"upcoming\" title=\"UPCOMING\">\r\n                        <MyUpcomingContests contests={upcomingContests} />\r\n                    </Tab>\r\n                    <Tab eventKey=\"history\" title=\"HISTORY\">\r\n                        <MyHistoryContests contests={historyContests} />\r\n                    </Tab>\r\n                </Tabs>\r\n            </>\r\n        )\r\n    }else return (\r\n        <>\r\n            <Spinner animation=\"border\"/>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        accountID: state.user.ID\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(ContestsPage);","import React from 'react';\r\nimport {Modal} from 'react-bootstrap';\r\n\r\nconst ContestDetails = (props) => {\r\n    let contest = props.contest;\r\n\r\n    return (\r\n        <Modal show={props.show} onHide={props.onHide}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Contest Details</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <p>Type: {contest.contestType}</p>\r\n                <p>ID: {contest.contestID}</p>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n\r\n}\r\n\r\nexport default ContestDetails","import React, {useState, useEffect} from 'react';\r\nimport {Row, Col, Table, Button} from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport ContestDetails from './ContestDetails';\r\nimport updateStartCountdown from '../../../utils/startCountdown';\r\n\r\n/*  Contest Object Structure\r\n        {\r\n            contestID: Number, \r\n            contestLeagues: [\r\n                {\r\n                    leagueID: Number, \r\n                    leagueName: String\r\n                }   \r\n            ],\r\n            entry: Number, \r\n            bankroll: Number, \r\n            prizepool: Number,\r\n            start: Date, \r\n            end: Date, \r\n            minPlayers: Number, \r\n            maxPlayers: Number\r\n        }\r\n*/\r\n\r\n/*    NOTES \r\n\r\n        - min + max players are hardcoded currently \r\n        - Start time needs to be countdown within 24 hrs or day + time if > 24 hrs away\r\n        - Make sure time is being translated to the right timezone\r\n*/\r\n\r\nconst OpenContests = (props) => {\r\n    const contests = props.contests;\r\n    const [expandedContest, setExpandedContest] = useState({});\r\n    const [showDetail, setShowDetail] = useState(false);\r\n    const handleClose = () => setShowDetail(false);\r\n    const handleShow = () => setShowDetail(true);\r\n\r\n    //Enter contest \r\n    const enterContest = async (contestID) => {\r\n        const body = {\r\n            contestID: contestID,\r\n            accountID: props.accountID\r\n        };\r\n\r\n        const opts = {\r\n            method: \"POST\",\r\n            body: JSON.stringify(body),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"        \r\n            }\r\n        }\r\n\r\n        const url = \"https://api.lineleaders.net/contests/enter\";\r\n\r\n        //enter contest\r\n        fetch(url, opts)\r\n        .then(response=> {\r\n            console.log(response.json())\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    //Effect to update countdown \r\n    useEffect(()=>{\r\n        if(contests.length > 0){\r\n            var countdowns = setInterval(()=>{\r\n                contests.forEach((contest, i)=>{\r\n                    updateStartCountdown(contest.start, i);\r\n                })\r\n            },1000)\r\n        }\r\n\r\n        //Cleanup interval on component unmount\r\n        return function cleanup() {\r\n            clearInterval(countdowns);       \r\n        };\r\n    });\r\n\r\n    //Handle open detail\r\n    const handleOpenDetail = async (contest) => {\r\n        await setExpandedContest(contest)\r\n        setShowDetail(true)\r\n    }\r\n\r\n    return (\r\n        <Row>\r\n            <Col>\r\n                <h3>Open Contests</h3>\r\n                <Table responsive>  \r\n                    <thead>\r\n                        <tr>\r\n                            <th>Contest Name</th>\r\n                            <th className=\"hidden-md\">Style</th>\r\n                            <th>Entry Fee</th>\r\n                            <th>Prizepool</th>\r\n                            <th className=\"hidden-md\">Bankroll</th>\r\n                            <th>Start</th>\r\n                            <th></th>\r\n                        </tr>\r\n                    </thead>               \r\n                    <tbody>   \r\n                        {contests.length > 0 ?\r\n                            (\r\n                                contests.map((contest,i)=>{\r\n                                    return(\r\n                                        <tr key={contest.contestID}>\r\n                                            <td>{contest.name}</td>\r\n                                            <td className=\"hidden-md\">{contest.contestType}</td>\r\n                                            <td>${contest.entry}</td>\r\n                                            <td>${contest.prizepool}</td>\r\n                                            <td className=\"hidden-md\">${contest.bankroll}</td>\r\n                                            <td id={\"countdown\"+i}></td>\r\n                                            <td><Button onClick={()=>enterContest(contest.contestID)}>Enter</Button></td>\r\n                                        </tr>\r\n                                    )\r\n                                })\r\n                            )\r\n                                :\r\n                            (\r\n                                <tr>\r\n                                    <td colSpan=\"5\">No Contests Available</td>\r\n                                </tr>\r\n                            )\r\n                        }\r\n                    </tbody>\r\n                </Table>            \r\n            </Col> \r\n            <ContestDetails contest={expandedContest} show={showDetail} onHide={handleClose}/> \r\n        </Row>     \r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        accountID: state.user.ID\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(OpenContests);","import React, {useState, useEffect} from 'react';\r\nimport {Spinner} from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\n//Components \r\nimport UpcomingContests from '../individual/UpcomingContests/UpcomingContests';\r\n\r\nconst Lobby = (props) => {\r\n    const [availContests, setAvailContests] = useState([]);\r\n    const [contestRows, setContestRows] = useState([]);\r\n    const [contests, setContests] = useState([]);\r\n    const [display, setDisplay] = useState(false);\r\n\r\n    //fetch open contests on initial render\r\n    useEffect(()=>{\r\n        const fetchOpenContests = async () => {\r\n            const response = await fetch('https://api.lineleaders.net/contests/open');\r\n            const data = await response.json(); \r\n            //set contest rows state array\r\n            setContestRows(data);\r\n        }\r\n\r\n        fetchOpenContests();\r\n    },[]);\r\n\r\n    //fetch user contests and set redux var\r\n    useEffect(()=>{\r\n        const fetchMyContests = async()=>{\r\n            const response = await fetch('https://api.lineleaders.net/contests/myContests?ID='+props.accountID);\r\n            const data = await response.json(); \r\n            //set user contests redux variable \r\n            props.setMyContests(data);\r\n        }\r\n\r\n        fetchMyContests();\r\n    }, [props.accountID]);\r\n\r\n    //check available contests to display \r\n    useEffect(()=>{\r\n        let tmpAvail = [];\r\n        contests.forEach(cont => {\r\n            let exists = props.myContests.findIndex(myCont => myCont.intContestID == cont.contestID);\r\n            if(exists === -1){\r\n                tmpAvail.push(cont);\r\n            }\r\n        })\r\n\r\n        setAvailContests(tmpAvail);\r\n    },[contests, props.myContests])\r\n\r\n    //Set display to true after 3 seconds\r\n    setTimeout(function() {\r\n        setDisplay(true)\r\n    }, 1000);\r\n\r\n    //Function to check each row returned, check for existing contest - add league, or add new contest object to arr\r\n    const checkRow = (row) => {\r\n        let arr = contests;\r\n        let index = contests.findIndex(contest=> contest.contestID === row.intContestID);\r\n        if(index > -1){\r\n            let league = {\r\n                leagueID: row.intLeagueID, \r\n                leagueName: row.strLeagueName\r\n            }\r\n\r\n            arr[index].contestLeagues = [...arr[index].contestLeagues, league];\r\n        }else{\r\n            arr.push({\r\n                contestID: row.intContestID, \r\n                name: row.strContestName,\r\n                contestType: row.strContestType,\r\n                contestLeagues: [\r\n                    {\r\n                        leagueID: row.intLeagueID, \r\n                        leagueName: row.strLeagueName\r\n                    }   \r\n                ],\r\n                entry: row.decEntryFee, \r\n                bankroll: row.decInitialBankRoll, \r\n                prizepool: row.decPrizePool,\r\n                start: row.dtmStart, \r\n                end: row.dtmEnd, \r\n                minPlayers: '', \r\n                maxPlayers: ''\r\n            })\r\n        }\r\n        return [...arr];\r\n\r\n    }; \r\n    //run when contest rows array changes \r\n    useEffect(()=>{\r\n        let cntsts = [];\r\n        let count = 0;\r\n        if(contestRows.length > 0){\r\n            contestRows.forEach(row=> {\r\n                cntsts = checkRow(row);\r\n                count++;\r\n            })\r\n            if(count == contestRows.length ){\r\n                setContests(cntsts);\r\n            }\r\n        }\r\n    },[contestRows]);\r\n\r\n\r\n\r\n    if(display===true){ \r\n        return (\r\n            <>\r\n                <UpcomingContests contests={availContests}/>\r\n            </>\r\n        )\r\n    }else{\r\n        return(\r\n            <Spinner animation=\"border\"/>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n      myContests: state.user.contests,\r\n      accountID: state.user.ID\r\n    }\r\n  }\r\n  \r\n  const mapDispatchToProps = ( dispatch ) => {\r\n    return{\r\n      setMyContests: contests => { dispatch({type: 'SET_CONTESTS', contests: contests })},      \r\n    }\r\n  }\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Lobby);","const formatCurrency = (num) => {\r\n    let formatted = Number(num).toLocaleString('en-US', { style: 'currency', currency: 'USD' });\r\n    return formatted;\r\n}  \r\n\r\nexport default formatCurrency;","import React from 'react'\r\nimport {Table} from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport formatCurrency from '../../../utils/formatCurrency';\r\nimport '../../../css/global/tables.css'\r\n\r\nconst Leaderboard = (props) => {\r\n    console.log(props)\r\n    return (\r\n        <Table responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th>Place</th>\r\n                    <th>Username</th>\r\n                    <th>Bankroll</th>\r\n                    <th>W/L</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.leaderboards.map((contestant, i) => {\r\n                    let record =\"\";\r\n                    let bankroll = formatCurrency(contestant.bankroll)\r\n                    if(contestant.p > 0){\r\n                        record = contestant.w +\"-\"+ contestant.l +\"-\"+ contestant.p\r\n                    }else{\r\n                        record = contestant.w +\"-\"+ contestant.l\r\n                    }\r\n                    return(\r\n                        <tr key={contestant.id}>\r\n                            <td>{i+1}</td>\r\n                            <td>{contestant.email}</td>\r\n                            <td>{bankroll}</td>\r\n                            <td>{record}</td>\r\n                        </tr>\r\n                    )\r\n                })}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n      leaderboards: state.contest.leaderboards,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Leaderboard);\r\n","import React from 'react'\r\nimport formatTime from '../../../../utils/formatTime';\r\nimport stringifyOddsAndPoints from '../../../../utils/stringifyOddsAndPoints';\r\n\r\nconst Leg = (props) => {\r\n    let leg = props.leg\r\n    let time = formatTime(leg.fixture.time)\r\n\r\n    if(leg.line.type === \"Moneyline\"){\r\n        return (\r\n            <td>\r\n                    <b>{leg.line.team.type === \"Draw\" ? \r\n                        leg.line.team.type\r\n                            :\r\n                        leg.line.team.name\r\n                    }</b>\r\n                    <br/>{leg.fixture.fixture}\r\n                    <br/>{time}\r\n            </td>\r\n        )\r\n    }else if(leg.line.type === \"Spread\"){\r\n        let line;\r\n        if(leg.line.line > 0){\r\n            line = leg.line.line;\r\n        }else{\r\n            line = leg.line.line;\r\n        }\r\n        return (\r\n            <td>\r\n                <b>{leg.line.team.name + \" \" + stringifyOddsAndPoints(leg.line.line)}</b>\r\n                <br/>{leg.fixture.fixture}\r\n                <br/>{time}\r\n            </td>\r\n        )\r\n    }else if(leg.line.type === \"Total\"){\r\n        return (\r\n            <td>\r\n                <b>{leg.line.bet + \" \" + leg.line.line}</b>\r\n                <br/>{leg.fixture.fixture}\r\n                <br/>{time}\r\n            </td>\r\n        )\r\n    }\r\n    return(\r\n        <></>\r\n    )\r\n    \r\n    \r\n}\r\n\r\nexport default Leg","import React from 'react';\r\nimport {Table } from 'react-bootstrap';\r\nimport stringifyOddsAndPoints from '../../../../utils/stringifyOddsAndPoints';\r\nimport Leg from './Leg';\r\nimport '../../../../css/betsTable.css';\r\nimport { connect } from 'react-redux';\r\n\r\nconst SettledBets = (props) => {    \r\n    return (\r\n        <Table responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th>Type</th>\r\n                    <th>Line(s)</th>\r\n                    <th>Odds</th>\r\n                    <th>Risk</th>\r\n                    <th>Win</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.settledBets.map((bet,i)=>{\r\n                    if(bet.type === \"Straight\"){\r\n                        const leg = bet.legs[0];\r\n                        //calc win field\r\n                        let win;\r\n                        if(bet.odds > 0){\r\n                            let dec = bet.odds/100;\r\n                            win = parseFloat(bet.wager * dec).toFixed(2)\r\n                        }else{\r\n                            let dec = Math.abs(bet.odds)/100;\r\n                            win = parseFloat(bet.wager / dec).toFixed(2)\r\n                        }\r\n                        return(\r\n                            <tr className={\"bet\"+bet.result} key={i}>\r\n                                <td>{bet.type}</td>\r\n                                <Leg leg={leg} />\r\n                                <td>{stringifyOddsAndPoints(bet.odds)}</td>\r\n                                <td>{\"$\"+parseFloat(bet.wager).toFixed(2)}</td>\r\n                                {bet.result === \"W\" ? <td>{\"+$\"+win}</td> :<></>}\r\n                                {bet.result === \"L\" ? <td>{\"-$\"+parseFloat(bet.wager).toFixed(2)}</td> :<></>}\r\n                                {bet.result === \"P\" ? <td>{\"-\"}</td> :<></>}\r\n                            </tr>\r\n                        )\r\n                    }else{\r\n                        return <></>;\r\n                    }\r\n                })}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        settledBets: state.contest.settledBets\r\n    }\r\n  }\r\n\r\n  export default connect(mapStateToProps)(SettledBets);\r\n","import React from 'react';\r\nimport {Table } from 'react-bootstrap';\r\nimport stringifyOddsAndPoints from '../../../../utils/stringifyOddsAndPoints';\r\nimport Leg from './Leg';\r\nimport '../../../../css/betsTable.css';\r\nimport { connect } from 'react-redux';\r\n\r\nconst OpenBets = (props) => {    \r\n    return (\r\n        <Table responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th>Type</th>\r\n                    <th>Line(s)</th>\r\n                    <th>Odds</th>\r\n                    <th>Risk</th>\r\n                    <th>Win</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.openBets.map((bet, i)=>{\r\n                    if(bet.type === \"Straight\"){\r\n                        const leg = bet.legs[0];\r\n                        //calc win field\r\n                        let win;\r\n                        if(bet.odds > 0){\r\n                            let dec = bet.odds/100;\r\n                            win = parseFloat(bet.wager * dec).toFixed(2)\r\n                        }else{\r\n                            let dec = Math.abs(bet.odds)/100;\r\n                            win = parseFloat(bet.wager / dec).toFixed(2)\r\n                        }\r\n                        return(\r\n                            <tr className={\"openBet\"} key={i}>\r\n                                <td>{bet.type}</td>\r\n                                <Leg leg={leg} />\r\n                                <td>{stringifyOddsAndPoints(bet.odds)}</td>\r\n                                <td>{\"$\"+parseFloat(bet.wager).toFixed(2)}</td>\r\n                                <td>{\"$\"+win}</td>\r\n                            </tr>\r\n                        )\r\n                    }else{\r\n                        return <></>;\r\n                    }\r\n                })}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        openBets: state.contest.openBets\r\n    }\r\n  }\r\n\r\n  export default connect(mapStateToProps)(OpenBets);\r\n","function organizeBook(fixtures, leagues, sports) {\r\n    let organizedBook = []; \r\n\r\n    //organize fixtures \r\n    fixtures.forEach(fixt =>{\r\n        //find sport and league indexes\r\n        let leagueIndex = leagues.findIndex(leag=>leag.jsonLeague.key === fixt.fixture.sport_key);\r\n        //if league doesn't exist, don't add to book\r\n        if(leagueIndex !== -1){\r\n            let sportIndex = sports.findIndex(sprt => sprt.intSportID === leagues[leagueIndex].intSportID);\r\n            //check for sport in organized book \r\n            let bookSportIndex = organizedBook.findIndex(sprt => sprt.sport_id === sports[sportIndex].intSportID);\r\n    \r\n            //if no existing fixtures in book => add sport, league, and fixture \r\n            if(bookSportIndex === -1){\r\n                let league = {\r\n                    league_key:leagues[leagueIndex].jsonLeague.key,\r\n                    league_name:leagues[leagueIndex].jsonLeague.details,\r\n                    league_short:leagues[leagueIndex].jsonLeague.title,\r\n                    fixtures: [fixt]\r\n                }\r\n                organizedBook.push({\r\n                    sport_name: sports[sportIndex].strSportName,\r\n                    sport_id: sports[sportIndex].intSportID,\r\n                    leagues: [league]\r\n                })\r\n            }\r\n            else{\r\n                //check if sport league exists \r\n                let spIndex = organizedBook[bookSportIndex].leagues.findIndex(leag=> leag.league_key === fixt.fixture.sport_key);\r\n    \r\n                //if league exists add fixture to league fixtures \r\n                if(spIndex != -1){\r\n                    organizedBook[bookSportIndex].leagues[spIndex].fixtures.push(fixt);\r\n                }else{\r\n                    //if league doesn't exist add league and fixt\r\n                    let league = {\r\n                        league_key:leagues[leagueIndex].jsonLeague.key,\r\n                        league_name:leagues[leagueIndex].jsonLeague.details,\r\n                        league_short:leagues[leagueIndex].jsonLeague.title,\r\n                        fixtures: [fixt]\r\n                    }\r\n                    organizedBook[bookSportIndex].leagues.push(league)\r\n                }\r\n            }\r\n        }\r\n        \r\n    })\r\n    return organizedBook;\r\n};\r\nexport default organizeBook;","import React, {useState, useEffect} from 'react';\r\nimport {Col, Form, Table} from 'react-bootstrap';\r\nimport formatTime from '../../../../utils/formatTime';\r\nimport stringifyOddsAndPoints from '../../../../utils/stringifyOddsAndPoints';\r\n\r\nconst Bet = (props) => {\r\n    const [risk, setRisk] = useState(\"\");\r\n    const [win, setWin] = useState(\"\");\r\n    const [showEditBet, setShowEditBet] = useState(false);\r\n\r\n    const bet = props.bet;\r\n    //index of bet in array\r\n    const i = props.i;\r\n\r\n    //Run whenever risk is set, set win variable and setWager on bet in array \r\n    useEffect(()=>{\r\n        if(risk !== \"\"){\r\n            let odds = parseFloat(bet.odds);\r\n            let tmpRisk = parseFloat(risk);\r\n            let tmpWin;\r\n            if(odds > 0){\r\n                tmpWin = parseFloat(tmpRisk*parseFloat(odds)/100).toFixed(2);\r\n            }else{\r\n                odds = Math.abs(odds);\r\n                let denom = odds/100;\r\n                tmpWin = parseFloat(tmpRisk/ denom).toFixed(2);\r\n            }\r\n            setWin(tmpWin);\r\n        }else{\r\n            setWin(\"\")\r\n        }\r\n\r\n        props.addWager(bet.id, risk)\r\n\r\n    },[risk])\r\n\r\n    //Function to toggle bet details \r\n    const toggleDetails = (i) => {\r\n        let detailRows = document.getElementsByClassName(\"betDetails\"+i);\r\n        let arrow = document.getElementById(\"arrow\"+i);\r\n\r\n        for(let i =0; i < detailRows.length; i++){\r\n            if(detailRows[i].style.display === 'none'){\r\n                detailRows[i].style.display = '';\r\n                arrow.classList.remove(\"right\");\r\n                arrow.classList.add(\"down\");\r\n            }else{\r\n                detailRows[i].style.display = 'none';\r\n                arrow.classList.remove(\"down\");\r\n                arrow.classList.add(\"right\");\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Table className=\"bet\">\r\n                <tbody>\r\n                    <tr>\r\n                        {(bet.type === \"Spread\") ? \r\n                            <td onClick={()=>toggleDetails(i)}>\r\n                                <i className=\"arrow down\" id={\"arrow\"+i} ></i> {bet.bet+\" \"+stringifyOddsAndPoints(bet.handicap) + \" (\"+stringifyOddsAndPoints(bet.odds)+\")\"}\r\n                            </td>\r\n                        : \r\n                        (bet.type === \"Total\") ?\r\n                            <td onClick={()=>toggleDetails(i)}>\r\n                                <i className=\"arrow down\" id={\"arrow\"+i} ></i> {bet.bet+\" \"+bet.total + \" (\"+stringifyOddsAndPoints(bet.odds)+\")\"}\r\n                            </td>\r\n                        :\r\n                            <td onClick={()=>toggleDetails(i)}>\r\n                                <i className=\"arrow down\" id={\"arrow\"+i} ></i> {bet.bet + \" (\"+stringifyOddsAndPoints(bet.odds)+\")\"}\r\n                            </td>\r\n                        }\r\n                        <td className=\"odds\">{bet.odds.american} <i onClick={()=>props.removeBets([bet.id])}>&times;</i></td> \r\n                    </tr>\r\n                    <tr>\r\n                        <td colSpan={2}>{bet.type}</td>\r\n                    </tr>\r\n                    <tr className={\"betDetails\"+i}>\r\n                        <td  colSpan={2}>{bet.fixture}</td>\r\n                    </tr>\r\n                    <tr className={\"betDetails\"+i}>\r\n                        <td colSpan={2}>{formatTime(bet.time)}</td>\r\n                    </tr>\r\n                    {props.slipType === \"Straight\" ? \r\n                        <tr>\r\n                            <td colSpan={2}>\r\n                                <Form>\r\n                                    <Form.Row>\r\n                                        <Form.Group as={Col}>\r\n                                            <Form.Control type=\"number\" placeholder=\"Risk\" value={risk} onChange={(e)=>setRisk(e.target.value)}/>\r\n                                        </Form.Group> \r\n                                        <Form.Group as={Col}>\r\n                                            <Form.Control type=\"text\"  tabIndex=\"-1\" placeholder=\"Win\" value={win} readOnly/>\r\n                                        </Form.Group> \r\n                                    </Form.Row>\r\n                                </Form>\r\n                            </td>   \r\n                        </tr>\r\n                        :\r\n                        <></>\r\n                    }    \r\n                </tbody>\r\n            </Table>  \r\n        </>  \r\n    )\r\n}\r\n\r\nexport default Bet","let model = {\r\n    type: String, // Straight-Parlay-Teaser-RoundRobin\r\n    wager: Number, // Wager amount\r\n    odds: Number, // Total odds for bet\r\n    result: String //W-L\r\n}\r\n\r\nlet Leg = {\r\n    fixture: {\r\n        fixtureID: Number, // id of fixture, \r\n        fixture: String, //Fixture\r\n        time: Number // Time in epoch\r\n    },\r\n    line: Object, // ML-Spread-Total-Prop \r\n    odds: Number, //Odds for leg\r\n    result: String\r\n}\r\n\r\nlet ML = {\r\n    type: \"Moneyline\",\r\n    team: {\r\n        type: String, // Home-Away-Draw\r\n        name: String, // team name\r\n    }\r\n}\r\n\r\nlet Spread = {\r\n    type: \"Spread\",\r\n    team: {\r\n        type: String, // Home-Away\r\n        name: String // team name\r\n    },\r\n    line: Number // Point spread,\r\n}\r\n\r\nlet Total = {\r\n    type: \"Total\",\r\n    bet: String, // Over-Under\r\n    line: Number // Score Line\r\n}\r\n\r\nexport{\r\n    model, ML, Spread, Total, Leg\r\n}\r\n","/*function to fetch bets by contest entry id\r\nformats bet into bets object containing open and settled bets\r\nreturns bets object\r\n*/\r\nconst fetchContestBets = async(entryid) => {\r\n    const response = await fetch('https://api.lineleaders.net/bets/byEntry?entryid='+entryid);\r\n    const json = await response.json();\r\n    //separate into open and settled and set redux state\r\n    \r\n    let bets = {\r\n        open : [],\r\n        settled : []\r\n    } \r\n\r\n    json.forEach(bet=>{\r\n        if(bet.result === \"W\"|| bet.result === \"L\" || bet.Result ===\"P\"){\r\n            bets.settled.push(bet);\r\n        }else{\r\n            bets.open.push(bet);\r\n        }\r\n    })\r\n    return bets;\r\n}\r\n\r\nexport default fetchContestBets;","import React from 'react'\r\nimport {Modal, Button} from 'react-bootstrap';\r\n\r\n/* \r\nComponent takes following props\r\nshow - boolean to show or hide modal\r\nclose - function to set parent variable that handles display of modal to false\r\naction - call back funtion to action on clicking button\r\nbuttonText - text to display on button\r\nmessage - title text for modal\r\n*/\r\n\r\nconst ConfirmationModal = (props) => {\r\n    return (\r\n        <Modal show={props.show} onHide={props.close}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>{props.message}</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={props.close}>\r\n                    Close\r\n                </Button>\r\n                <Button variant=\"primary\" onClick={props.action}>\r\n                    {props.buttonText}\r\n                </Button>\r\n                </Modal.Footer>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default ConfirmationModal","import React, { useState } from 'react';\r\nimport {Card, Button, Alert} from 'react-bootstrap';\r\nimport '../../../../css/betslip.css';\r\nimport Bet from './Bet';\r\nimport {model, ML, Spread, Total, Leg} from '../../../../models/bet/bet';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\nimport fetchContestBets from '../../../../api/bets/fetchContestBets';\r\nimport ConfirmationModal from '../../../shared/ConfirmationModal';\r\n\r\nconst BetSlip = (props) => {\r\n    const match = useRouteMatch();\r\n    const [error, setError] = useState();\r\n    const [showConfirm, setShowConfirm] = useState(false);\r\n    let bets = props.bets;\r\n    //State variable to hold slip type (straight, parlay, etc.)\r\n    const [slipType, setSlipType] = useState(\"Straight\")\r\n    const [records, setRecords] = useState([]);\r\n\r\n    //add wager amount to Straight bet \r\n    const addWager = (id, wager) => {\r\n        //find index\r\n        const index = bets.map(bet => bet.id).indexOf(id);\r\n        let tmpBets = bets;\r\n        tmpBets[index].wager = wager;\r\n        bets = tmpBets;\r\n    }\r\n\r\n    //Function to format straight bets in records for db storage\r\n    const formatStraightBet = (bet) =>{\r\n        //create instance of bet model obj and add properties\r\n        let betModel = {...model};\r\n        betModel.type = slipType;\r\n        betModel.wager = bet.wager;\r\n        betModel.odds = bet.odds;\r\n        betModel.result = \"\";\r\n        \r\n        //create instance of leg obj \r\n        let leg = {...Leg};\r\n\r\n        let legType = bet.type;\r\n        if(legType === \"Spread\"){\r\n            //create instance of spread line object \r\n            let spread = {...Spread}; \r\n            spread.team = {...spread.team}\r\n            spread.team.type = bet.team.type;\r\n            spread.team.name = bet.team.name;\r\n            spread.line = bet.handicap;\r\n            leg.fixture = {...leg.fixture}\r\n            leg.fixture.fixtureID = bet.fixtureID; \r\n            leg.fixture.fixture = bet.fixture; \r\n            leg.fixture.time = bet.time; \r\n            leg.line = spread;\r\n            leg.odds = bet.odds.decimal;\r\n            leg.result =\"\";\r\n        }else if(legType === \"Moneyline\"){\r\n            //create instance of ML line object\r\n            let ml = {...ML}; \r\n            ml.team = {...ml.team}\r\n            ml.team.type = bet.team.type;\r\n            ml.team.name = bet.team.name;\r\n            leg.fixture = {...leg.fixture}\r\n            leg.fixture.fixtureID = bet.fixtureID; \r\n            leg.fixture.fixture = bet.fixture; \r\n            leg.fixture.time = bet.time;             \r\n            leg.line = ml;\r\n            leg.odds = bet.odds.decimal; \r\n            leg.result =\"\";       \r\n        }else if(legType === \"Total\"){\r\n            //create instance of Total line object\r\n            let total = {...Total}; \r\n            total.bet = bet.bet;\r\n            total.line = bet.total;\r\n            leg.fixture = {...leg.fixture}\r\n            leg.fixture.fixtureID = bet.fixtureID; \r\n            leg.fixture.fixture = bet.fixture; \r\n            leg.fixture.time = bet.time; \r\n            leg.line = total;\r\n            leg.odds = bet.odds.decimal;\r\n            leg.result =\"\";\r\n        }\r\n\r\n        return {\r\n            contestPlayerID: match.params.entryid,\r\n            jsonBet: betModel,\r\n            leg: leg\r\n        };\r\n    }\r\n\r\n    //function to validate and confirm bets, then confirm placements of bets\r\n    const validateBets = async() => {\r\n        //check to make sure all bets contain valid wagers and combine wagers from all bets\r\n        let totalWagered = 0;\r\n        //object to hold error\r\n        let error = {\r\n            isError: false,\r\n            message: String\r\n        }\r\n\r\n        await bets.forEach(bet=>{\r\n            if(bet.wager > 0){\r\n                totalWagered = totalWagered + parseFloat(bet.wager);\r\n            }else{\r\n                error.isError = true;\r\n                error.message =\"Please enter a valid wager amount for all bets\";\r\n            }\r\n        })\r\n        //check totalWagered and validate that it is not less than available\r\n\r\n        if(totalWagered > props.available){\r\n            error.isError = true;\r\n            error.message = \"Cash Available: $\"+props.available;\r\n        }\r\n\r\n        //check for error and either insert bets or display error message\r\n        if(error.isError === true){\r\n            setError(<Alert variant='danger'>{error.message}</Alert>)\r\n            return;\r\n        }else{\r\n            //clear any error message, display confirmation box\r\n            setError();\r\n            setShowConfirm(true);\r\n\r\n            //determine type of bet(s) - straight,parlay,etc.\r\n            if(slipType === \"Straight\"){\r\n                let tmpRecords = [];\r\n                //format each bet and set records state array\r\n                bets.forEach(bet=>{\r\n                    let tmpModel = formatStraightBet(bet)\r\n                    tmpRecords.push(tmpModel);\r\n                })\r\n                \r\n                setRecords(tmpRecords);\r\n            }\r\n        }   \r\n    }\r\n\r\n    //Function to insert records into the database\r\n    const insertBetRecords = async() => {\r\n        //close modal\r\n        setShowConfirm(false);\r\n\r\n        //api parameters to create bets\r\n        const body = {\r\n            bets: records\r\n        }\r\n        console.log(bets)\r\n\r\n        const url ='https://api.lineleaders.net/bets/createContest';\r\n        const options = {\r\n            method:'POST',\r\n            headers:{\r\n                'Content-Type': 'application/json;charset=UTF-8'\r\n            }, \r\n            body: JSON.stringify(body)\r\n        }\r\n\r\n        //call api and check res code\r\n        let response = await fetch(url, options);\r\n        let json = await response.json();\r\n\r\n        //if resources have been created, clear bets array\r\n        if(json.code === 201){\r\n            let ids = [];\r\n            bets.forEach(bet=>{\r\n                ids.push(bet.id);\r\n            })    \r\n            props.removeBets(ids);\r\n\r\n            let contestBets = await fetchContestBets(match.params.entryid);\r\n            props.setOpenBets(contestBets.open);\r\n            props.setSettledBets(contestBets.settled);\r\n        }\r\n    }\r\n\r\n    //Function to handle cancellation of bet submission\r\n    const handleCancellation = () => {\r\n        setRecords([]);\r\n        setShowConfirm(false);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Card >\r\n                <Card.Header>Bet Slip</Card.Header>\r\n                <Card.Body>\r\n                    {bets.map((bet, i)=>{\r\n                    return(\r\n                            <Bet key={bet.bet+bet.id} bet={bet} i={i} removeBets={props.removeBets} slipType={slipType} addWager={addWager}/>\r\n                        )\r\n                    })}\r\n                </Card.Body>\r\n                <Card.Footer>\r\n                    {error}\r\n                    <Button onClick={()=>validateBets()} variant=\"primary\">Place Bet(s)</Button>\r\n                </Card.Footer>\r\n            </Card>\r\n            <ConfirmationModal close={handleCancellation} show={showConfirm} action={insertBetRecords} buttonText=\"Yes\" message={\"Are you ready to place your bets?\"}/>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        available: state.contest.available,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = ( dispatch ) => {\r\n    return{\r\n        setOpenBets: bets => { dispatch({type: 'SET_OPEN_BETS', bets: bets })},      \r\n        setSettledBets: bets => { dispatch({type: 'SET_SETTLED_BETS', bets: bets })}\r\n    }\r\n  }\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BetSlip);\r\n","//Function to check if handicap is number or string like \"0.0, -0.5\"\r\nlet formatHandicap = (handicap) => {\r\n    if(isNaN(handicap)){\r\n        let nums = handicap.split(\",\");\r\n        let total = (parseFloat(nums[0])+parseFloat(nums[1]));\r\n        let formatted = total / 2;\r\n        return(formatted);\r\n    }else{\r\n        return(handicap);\r\n    }\r\n};\r\n\r\nexport default formatHandicap;","import React, {} from 'react';\r\nimport formatTime from '../../utils/formatTime';\r\nimport isEmpty from '../../utils/isEmpty';\r\nimport formatHandicap from '../../utils/formatHandicap';\r\nimport stringifyOddsAndPoints from '../../utils/stringifyOddsAndPoints';\r\nimport '../../css/global/fixtures.css';\r\n\r\nconst Fixture = (props) => {\r\n    let fixt = props.fixt;\r\n    let formattedTime = formatTime(fixt.fixture.commence_time);\r\n    \r\n    //function to add bet \r\n    const addBet = (fixture, bettype) => {\r\n        let tmp = [...props.bets];\r\n        let bet = {\r\n            id : bettype+\"-\"+fixture.fixture_id,\r\n            time : fixture.fixture.commence_time,\r\n            wager: Number,\r\n            fixture : fixture.fixture.home_team+\" vs \"+fixture.fixture.away_team,\r\n            fixtureID : fixture.fixture_id\r\n        };\r\n\r\n        //Format Bet\r\n        switch (bettype){\r\n            case \"away-spread\" : \r\n                bet.bet = fixture.fixture.away_team;\r\n                bet.odds = fixture.fixture.odds.spreads.away.odds;\r\n                bet.handicap = formatHandicap(fixture.fixture.odds.spreads.away.points);\r\n                bet.type = \"Spread\";\r\n                bet.team = {\r\n                    type: \"Away\",\r\n                    name: fixture.fixture.away_team\r\n                }\r\n            break;\r\n            case \"away-ml\" : \r\n                bet.type = \"Moneyline\";\r\n                bet.bet = fixture.fixture.away_team;\r\n                bet.odds = fixture.fixture.odds.h2h.away;\r\n                bet.team = {\r\n                    type: \"Away\",\r\n                    name: fixture.fixture.away_team\r\n                }\r\n            break;\r\n            case \"home-spread\" : \r\n                bet.bet = fixture.fixture.home_team;\r\n                bet.handicap = formatHandicap(fixture.fixture.odds.spreads.home.points);\r\n                bet.odds = fixture.fixture.odds.spreads.home.odds;\r\n                bet.type = \"Spread\";  \r\n                bet.team = {\r\n                    type: \"Home\",\r\n                    name: fixture.fixture.home_team\r\n                }\r\n            break;\r\n            case \"home-ml\" : \r\n                bet.bet = fixture.fixture.home_team;\r\n                bet.odds = fixture.fixture.odds.h2h.home;\r\n                bet.type = \"Moneyline\";\r\n                bet.team = {\r\n                    type: \"Home\",\r\n                    name: fixture.fixture.home_team\r\n                }\r\n            break;\r\n            case \"over\" : \r\n                bet.odds = fixture.fixture.odds.totals.over;\r\n                bet.type = \"Total\";\r\n                bet.bet = \"Over\";\r\n                bet.total = fixture.fixture.odds.totals.points;\r\n            break;\r\n            case \"under\" : \r\n                bet.odds = fixture.fixture.odds.totals.under;\r\n                bet.type = \"Total\";\r\n                bet.bet = \"Under\";\r\n                bet.total = fixture.fixture.odds.totals.points;\r\n            break;\r\n            default : break; \r\n        }\r\n        tmp.push(bet);\r\n        props.setBets(tmp);\r\n    }\r\n\r\n    //Funtion to either add or remove bet to/from bets array\r\n    const handleBetClick = (fixt, bettype) => {\r\n        let tmpBets = [...props.bets];\r\n        const id = bettype+\"-\"+fixt.fixture_id;\r\n        const element = document.getElementById(id);\r\n        const index = tmpBets.map(bet => bet.id).indexOf(id);\r\n\r\n        if(index > -1){\r\n            props.removeBet(bettype+\"-\"+fixt.fixture_id)\r\n        }else{\r\n            addBet(fixt, bettype);\r\n            element.classList.add(\"selected-bet\");        \r\n        } \r\n    }\r\n\r\n    return (                                \r\n        <>\r\n            <tr>\r\n                <td rowSpan={2} className=\"fixtTime\">{formattedTime}</td>\r\n                <td className=\"fixtCol\">{fixt.fixture.away_team}</td>\r\n                {!isEmpty(fixt.fixture.odds.spreads) ?\r\n                    <td className=\"line\" id={\"away-spread-\"+fixt.fixture_id} onClick={()=>handleBetClick(fixt,\"away-spread\")}>{stringifyOddsAndPoints(fixt.fixture.odds.spreads.away.points) +\" (\"+stringifyOddsAndPoints(fixt.fixture.odds.spreads.away.odds)+\")\"}</td>      \r\n                        :\r\n                    <td className=\"line\"></td>\r\n                }\r\n                {!isEmpty(fixt.fixture.odds.h2h) ?\r\n                    <td  className=\"line\" id={\"away-ml-\"+fixt.fixture_id} onClick={()=>handleBetClick(fixt,\"away-ml\")} >{stringifyOddsAndPoints(fixt.fixture.odds.h2h.away)}</td>        \r\n                        :\r\n                    <td className=\"line\"></td>\r\n                }\r\n                {!isEmpty(fixt.fixture.odds.totals) ?\r\n                    <td className=\"line\" id={\"over-\"+fixt.fixture_id} onClick={()=>handleBetClick(fixt,\"over\")} >{\"O\"+fixt.fixture.odds.totals.points +\" (\"+stringifyOddsAndPoints(fixt.fixture.odds.totals.over)+\")\"}</td>       \r\n                        :\r\n                    <td className=\"line\"></td>\r\n                }\r\n            </tr> \r\n            <tr className=\"bottomFixtRow\">\r\n                <td className=\"fixtCol\">{fixt.fixture.home_team}</td>\r\n                {!isEmpty(fixt.fixture.odds.spreads) ?\r\n                    <td className=\"line\" id={\"home-spread-\"+fixt.fixture_id} onClick={()=>handleBetClick(fixt,\"home-spread\")}>{stringifyOddsAndPoints(fixt.fixture.odds.spreads.home.points) +\" (\"+stringifyOddsAndPoints(fixt.fixture.odds.spreads.home.odds)+\")\"}</td>      \r\n                        :\r\n                    <td className=\"line\"></td>\r\n                }\r\n                {!isEmpty(fixt.fixture.odds.h2h) ?\r\n                    <td className=\"line\" id={\"home-ml-\"+fixt.fixture_id} onClick={()=>handleBetClick(fixt,\"home-ml\")}>{stringifyOddsAndPoints(fixt.fixture.odds.h2h.home)}</td>        \r\n                        :\r\n                    <td className=\"line\"></td>\r\n                }\r\n                {!isEmpty(fixt.fixture.odds.totals) ?\r\n                    <td className=\"line\" id={\"under-\"+fixt.fixture_id} onClick={()=>handleBetClick(fixt,\"under\")}>{\"U\"+fixt.fixture.odds.totals.points +\" (\"+stringifyOddsAndPoints(fixt.fixture.odds.totals.under)+\")\"}</td>       \r\n                        :\r\n                    <td className=\"line\"></td>\r\n                }\r\n            </tr> \r\n            <tr className=\"spacer\"></tr>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Fixture","import React, { useState } from 'react';\r\nimport { Fragment } from 'react';\r\nimport {Table, Button}from 'react-bootstrap';\r\nimport Fixture from './Fixture';\r\n\r\nconst SportPrev = (props) => {\r\n    return (\r\n        <>  \r\n            <h2>{props.sport.sport_name}</h2>\r\n            {props.sport.leagues.map(league => {\r\n                return (\r\n                    <Fragment key={league.league_key}>  \r\n                        <h5>{league.league_short}</h5>\r\n                        <Table className=\"fixtureTable\" responsive>\r\n                            <thead className=\"fixtHeader\">\r\n                                <tr>\r\n                                    <th className=\"timeHeader\"></th>\r\n                                    <th className=\"fixtCol\">Fixture</th>\r\n                                    <th className=\"lineCol\">Spread</th>\r\n                                    <th className=\"lineCol\">Win</th>\r\n                                    <th className=\"lineCol\">Total</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {league.fixtures.map(fixt=>{\r\n                                    return <Fixture key={fixt.fixture_id} fixt={fixt} bets={props.bets} setBets={props.setBets} removeBet={props.removeBet}/>\r\n                                })}\r\n                            </tbody>  \r\n                        </Table>\r\n                    </Fragment>\r\n                )\r\n            })}\r\n\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default SportPrev;","import React, {useEffect, useState} from 'react'\r\nimport organizeBook from '../../../../utils/organizeBook';\r\nimport '../../../../css/global/fixtures.css';\r\nimport {Row, Col, Navbar, Nav} from 'react-bootstrap';\r\nimport BetSlip from '../BetSlip/BetSlip';\r\nimport SportPrev from '../../../../social/Book/SportPrev';\r\n\r\nconst Book = (props) => {\r\n    const [fixts, setfixts] = useState([]);\r\n    const [bets, setBets] = useState([]);\r\n    const [sports, setSports] = useState([]);\r\n    const [leagues, setLeagues] = useState([]);\r\n\r\n    //function to remove a single bet\r\n    const removeBet = (id) => {\r\n        console.log(id)\r\n        //get temp array\r\n        let tmpBets = [...bets];\r\n        //get index \r\n        const index = tmpBets.map(bet => bet.id).indexOf(id);\r\n        //get element by id\r\n        const element = document.getElementById(id);\r\n        //remove class\r\n        element.classList.remove(\"selected-bet\");     \r\n        //remove bet from array   \r\n        tmpBets.splice(index, 1);\r\n        console.log(tmpBets)\r\n        //set bets array\r\n        setBets(tmpBets);\r\n    }\r\n\r\n    //function to remove bets after submission, takes array of ids\r\n    const removeBets = (ids) => {\r\n        //get temp array\r\n        let tmpBets = [...bets];\r\n        ids.forEach(id=> {\r\n            //get index \r\n            const index = tmpBets.map(bet => bet.id).indexOf(id);\r\n            //get element by id\r\n            const element = document.getElementById(id);\r\n            //remove class\r\n            element.classList.remove(\"selected-bet\");     \r\n            //remove bet from array   \r\n            tmpBets.splice(index, 1);\r\n            console.log(tmpBets)\r\n            //set bets array\r\n        })\r\n        setBets(tmpBets);\r\n    }\r\n\r\n    return (\r\n        <>  \r\n            {/* <Navbar bg=\"dark\">\r\n                <Nav className=\"mr-auto\">\r\n                    <Nav.Link href=\"#home\">Basketball</Nav.Link>\r\n                    <Nav.Link href=\"#features\">Football</Nav.Link>\r\n                    <Nav.Link href=\"#pricing\">Soccer</Nav.Link>\r\n                    <Nav.Link href=\"#pricing\">Baseball</Nav.Link>\r\n                </Nav>\r\n            </Navbar> */}\r\n            <Row>\r\n                <Col md={8} sm={12}> \r\n                    {props.book.map(sport=>{\r\n                        return(<SportPrev key={sport.sport_id} sport={sport} bets={bets} setBets={setBets} removeBet={removeBet}/>) \r\n                    })}\r\n                </Col>\r\n                <Col md={4} sm={12}>\r\n                    <BetSlip bets={bets} removeBets={removeBets} />\r\n                </Col>\r\n            </Row>   \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Book","import React, { useState, useEffect } from 'react';\r\nimport {Tabs, Tab, Spinner, Form, Col} from 'react-bootstrap';\r\nimport Leaderboard from '../individual/ActiveContest/Leaderboard';\r\nimport SettledBets from '../individual/ActiveContest/bets/SettledBets';\r\nimport OpenBets from '../individual/ActiveContest/bets/OpenBets';\r\nimport Book from '../individual/ActiveContest/Book/ContestBook';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\nimport isEmpty from '../../utils/isEmpty';\r\nimport formatCurrency from '../../utils/formatCurrency';\r\nimport organizeBook from '../../utils/organizeBook';\r\nconst LiveContest = (props) => {\r\n    const match = useRouteMatch();\r\n    const [display, setDisplay] = useState(false);\r\n    const [activeTab, setActiveTab] = useState('book');\r\n    const [tmp, setTmp] = useState([]);\r\n    //Function to run on render and fetch contest + contestLeagues + contestBets\r\n    useEffect(()=>{\r\n        const fetchContest = async () => {\r\n            const response = await fetch('https://api.lineleaders.net/contests/byID?id='+match.params.contestid);\r\n            const data = await response.json();\r\n            props.setContest(data)\r\n            fetchBets();\r\n        }\r\n        const fetchLeagues = async () =>{\r\n            const response = await fetch('https://api.lineleaders.net/contests/contestLeagues/byID?id='+match.params.contestid);\r\n            const data = await response.json();\r\n            props.setLeagues(data)\r\n        }\r\n        \r\n        const fetchBets = async ()=> {\r\n            const response = await fetch('https://api.lineleaders.net/bets/byEntry?entryid='+match.params.entryid);\r\n            const bets = await response.json();\r\n            //separate into open and settled and set redux state\r\n            let open = [];\r\n            let settled = [];\r\n\r\n            bets.forEach(bet=>{\r\n                if(bet.result === \"W\"|| bet.result === \"L\" || bet.Result ===\"P\"){\r\n                    settled.push(bet);\r\n                }else{\r\n                    open.push(bet);\r\n                }\r\n            })\r\n            props.setOpenBets(open);\r\n            props.setSettledBets(settled);\r\n        }\r\n\r\n\r\n        \r\n        fetchContest();\r\n        fetchLeagues();\r\n        fetch_leaderboards();\r\n    },[])\r\n    \r\n    //Function to fetch leaderboards\r\n    const fetch_leaderboards = async() => {\r\n        const response = await fetch('https://api.lineleaders.net/contests/leaderboards/?id='+match.params.contestid);\r\n        let leaderboards = await response.json();\r\n        if(leaderboards.length > 0){\r\n            props.setLeaderboards(leaderboards)\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        const fetchFixtures = async() => {\r\n            let leagueIds = props.leagues.map(league=>{\r\n                return league.intLeagueID\r\n            });\r\n\r\n            if(leagueIds.length > 0 & props.sports.length > 0){  \r\n                //api parameters to get fixtures\r\n                let body = {\r\n                    leagueIDs: leagueIds,\r\n                    start:props.contest.dtmStart,\r\n                    end: props.contest.dtmEnd\r\n                }\r\n                const url ='https://api.lineleaders.net/fixtures/byLeagues/withTimeFrame'\r\n                const options = {\r\n                    method:'POST',\r\n                    headers:{\r\n                        'Content-Type': 'application/json;charset=UTF-8'\r\n                    }, \r\n                    body: JSON.stringify(body)\r\n                }\r\n                //call api\r\n                const response = await fetch(url, options);\r\n                const fixts = await response.json();\r\n                //organize fixtures and set upcoming + inplay\r\n                let book = organizeBook(fixts, props.leagues, props.sports);\r\n                props.setBook(book);\r\n                setDisplay(true);\r\n            }\r\n        }\r\n\r\n        if(!isEmpty(props.contest)){\r\n            fetchFixtures();        \r\n        }\r\n    },[props.leagues, props.contest, props.sports])\r\n\r\n\r\n    //Run on settled bets change, calculate bankroll and update store\r\n    useEffect(()=>{\r\n        //calculate bankroll\r\n        let bankroll = 0;\r\n        props.settledBets.forEach(bet=>{\r\n            //update bankroll\r\n            if(bet.result === \"W\" ){\r\n                let win;\r\n                if(bet.odds > 0){\r\n                    let dec = bet.odds/100;\r\n                    win = parseFloat(bet.wager * dec).toFixed(2)\r\n                }else{\r\n                    let dec = Math.abs(bet.odds)/100;\r\n                    win = parseFloat(bet.wager / dec).toFixed(2)\r\n                };\r\n                bankroll = bankroll +  win;\r\n            }else if(bet.result === \"L\" ){\r\n                bankroll = bankroll - parseFloat(bet.wager);\r\n            }else if(bet.result === \"P\" ) return;\r\n        })\r\n        props.setBankroll(parseFloat(bankroll).toFixed(2));\r\n    },[props.settledBets])\r\n\r\n    //Run on open bets or bankroll change, calculate available \r\n    useEffect(()=>{\r\n        if(!isNaN(props.bankroll)){\r\n            let available = parseFloat(props.bankroll) + parseFloat(props.contest.decInitialBankRoll);\r\n            props.openBets.forEach(bet=>{\r\n                available = available - parseFloat(bet.wager)    \r\n            })\r\n            props.setAvailable(available)\r\n        }\r\n    },[props.openBets, props.bankroll])\r\n\r\n    if(Object.getOwnPropertyNames(props.contest).length > 0 && display===true){ \r\n        return (\r\n            <>\r\n                <h3>{props.contest.strContestName}</h3>\r\n                <br/><b>Available:</b> {formatCurrency(props.available)}\r\n                <b> Bankroll:</b> {formatCurrency(props.bankroll)}\r\n                {/* Display when screens are md or smaller */}\r\n                <Form className=\"hidden-lg\">\r\n                    <Form.Row>                    \r\n                            <Col>\r\n                                <Form.Control as=\"select\" onChange={(e)=>setActiveTab(e.target.value)}>\r\n                                    <option key=\"book\" value=\"book\">Book</option>\r\n                                    <option key=\"open\" value=\"open\">{\"Open (\"+props.openBets.length+\")\"}</option>\r\n                                    <option key=\"settled\" value=\"settled\">Settled</option>\r\n                                    <option key=\"leaderboard\" value=\"leaderboard\">Leaderboard</option>\r\n                                </Form.Control>\r\n                            </Col>\r\n                        </Form.Row>\r\n                </Form>\r\n                {/* Display when screens are large */}\r\n                <Tabs fill activeKey={activeTab} onSelect={(k)=>setActiveTab(k)} id=\"contestsTab\" className=\"hidden-md\">\r\n                    <Tab eventKey=\"book\" title=\"BOOK\">\r\n                        <Book book={props.book} /> \r\n                    </Tab>\r\n                    <Tab eventKey=\"open\" title={\"OPEN (\"+props.openBets.length+\")\"}>\r\n                        <OpenBets />\r\n                    </Tab>\r\n                    <Tab eventKey=\"settled\" title=\"SETTLED\">\r\n                        <SettledBets />\r\n                    </Tab>\r\n                    <Tab eventKey=\"leaderboard\" title=\"LEADERBOARD\">\r\n                        <Leaderboard />\r\n                    </Tab>\r\n                </Tabs>\r\n                \r\n            </>\r\n        )\r\n    }else return (\r\n        <>\r\n            <Spinner animation=\"border\"/>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n      contest: state.contest.contest,\r\n      leaderboards: state.contest.leaderboards,\r\n      entryID: state.contest.entryID,\r\n      bankroll: state.contest.bankroll,\r\n      available: state.contest.available,\r\n      openBets: state.contest.openBets, \r\n      settledBets: state.contest.settledBets,\r\n      leagues: state.contest.leagues,\r\n      book: state.contest.book,\r\n      sports: state.application.sports\r\n    }\r\n  }\r\n  \r\n  const mapDispatchToProps = ( dispatch ) => {\r\n    return{\r\n      setContest: contest => { dispatch({type: 'SET_CONTEST', contest: contest })},\r\n      setEntryID: id => { dispatch({type: 'SET_ENTRY_ID', ID: id })},      \r\n      setAvailable: avaialable => { dispatch({type: 'SET_AVAILABLE', available: avaialable })},\r\n      setBankroll: bankroll => { dispatch({type: 'SET_BANKROLL', bankroll: bankroll })},\r\n      setOpenBets: bets => { dispatch({type: 'SET_OPEN_BETS', bets: bets })},      \r\n      setSettledBets: bets => { dispatch({type: 'SET_SETTLED_BETS', bets: bets })},\r\n      setLeagues: leagues => { dispatch({type: 'SET_CONTEST_LEAGUES', leagues:leagues})},\r\n      setUpcoming: upcoming => {dispatch({type: 'SET_UPCOMING', upcoming:upcoming})},\r\n      setInplay: inplay => {dispatch({type: 'SET_INPLAY', inplay:inplay})},\r\n      setLeaderboards: leaderboards => {dispatch({type: 'SET_LEADERBOARDS', leaderboards:leaderboards})},\r\n      setBook: book => {dispatch({type: 'SET_BOOK', book:book})}\r\n    }\r\n  }\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LiveContest);\r\n","import React, {useState, useEffect} from 'react';\r\nimport {Modal, Button, Row, Col, Form} from 'react-bootstrap';\r\nimport stringifyOddsAndPoints from '../../../utils/stringifyOddsAndPoints';\r\nimport formatTime from '../../../utils/formatTime';\r\nconst EditBetModal = (props) => {\r\n    const [bet, setBet] = useState({});\r\n    const [odds, setOdds] = useState();\r\n    const [points, setPoints] = useState();\r\n\r\n    //set bet var \r\n    useEffect(()=>{\r\n        setBet(props.bet)\r\n    },[props.bet])\r\n\r\n    //run when odds are changed (update bet)\r\n    useEffect(()=>{\r\n        //if it is a number update bet\r\n        if(!isNaN(odds)){\r\n            let tmp = bet;\r\n            tmp.odds = odds; \r\n            setBet(tmp);\r\n        }\r\n    },[odds])\r\n\r\n    //run when points are changed (update bet)\r\n    useEffect(()=>{\r\n        //if it is a number update bet\r\n        if(!isNaN(points)){\r\n            if(bet.type === \"Spread\"){\r\n                let tmp = bet;\r\n                tmp.handicap = points; \r\n                setBet(tmp);\r\n            }else if(bet.type === \"Total\"){\r\n                let tmp = bet;\r\n                tmp.total = points; \r\n                setBet(tmp);\r\n            }\r\n\r\n        }\r\n    },[points])\r\n\r\n    //save changes and close modal\r\n    const submitChanges = () =>{\r\n        props.editBet(bet.id, bet)\r\n        props.close();\r\n    }\r\n\r\n    return (\r\n        <Modal show={props.show} onHide={props.close}>\r\n            <Modal.Body>\r\n                <p>{bet.bet}</p>\r\n                <p>{bet.type}</p>   \r\n                <p>{bet.fixture}</p>                \r\n                <p>{formatTime(bet.time)}</p>\r\n                <Form>\r\n                    {(bet.type === \"Spread\") ? \r\n                        <Form.Row>\r\n                            <Form.Group as={Col} >\r\n                                <Form.Label>Odds</Form.Label>\r\n                                <Form.Control type=\"number\" defaultValue={bet.odds} onChange={(e)=>setOdds(e.target.value)}/>\r\n                            </Form.Group>\r\n                            <Form.Group as={Col} >\r\n                                <Form.Label>Points</Form.Label>\r\n                                <Form.Control type=\"number\" defaultValue={bet.handicap} onChange={(e)=>setPoints(e.target.value)}/>\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                            : \r\n                    (bet.type === \"Total\") ?\r\n                        <Form.Row>\r\n                            <Form.Group as={Col} >\r\n                                <Form.Label>Odds</Form.Label>\r\n                                <Form.Control type=\"number\" defaultValue={bet.odds} onChange={(e)=>setOdds(e.target.value)}/>\r\n                            </Form.Group>\r\n                            <Form.Group as={Col} >\r\n                                <Form.Label>Points</Form.Label>\r\n                                <Form.Control type=\"number\" defaultValue={bet.total} onChange={(e)=>setPoints(e.target.value)}/>\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                            :\r\n                        <Form.Group as={Col} >\r\n                            <Form.Label>Odds</Form.Label>\r\n                            <Form.Control type=\"number\" defaultValue={bet.odds} onChange={(e)=>setOdds(e.target.value)}/>\r\n                        </Form.Group>                     \r\n                    }\r\n                    <Button onClick={()=>submitChanges()}>Save Changes</Button>\r\n                </Form>\r\n\r\n\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default EditBetModal","import React, {useState, useEffect} from 'react';\r\nimport {Col, Form, Table} from 'react-bootstrap';\r\nimport formatTime from '../../../utils/formatTime';\r\nimport stringifyOddsAndPoints from '../../../utils/stringifyOddsAndPoints';\r\nimport editIcon from '../../../images/icons/editIcon.png';\r\nimport EditBetModal from './EditBetModal';\r\n\r\nconst Bet = (props) => {\r\n    const [risk, setRisk] = useState(\"\");\r\n    const [win, setWin] = useState(\"\");\r\n    const [showEditBet, setShowEditBet] = useState(false);\r\n\r\n    const bet = props.bet;\r\n    //index of bet in array\r\n    const i = props.i;\r\n\r\n    //Run whenever risk is set, set win variable and setWager on bet in array \r\n    useEffect(()=>{\r\n        if(risk !== \"\"){\r\n            let odds = parseFloat(bet.odds);\r\n            let tmpRisk = parseFloat(risk);\r\n            let tmpWin;\r\n            if(odds > 0){\r\n                tmpWin = parseFloat(tmpRisk*parseFloat(odds)/100).toFixed(2);\r\n            }else{\r\n                odds = Math.abs(odds);\r\n                let denom = odds/100;\r\n                tmpWin = parseFloat(tmpRisk/ denom).toFixed(2);\r\n            }\r\n            setWin(tmpWin);\r\n        }else{\r\n            setWin(\"\")\r\n        }\r\n\r\n        props.addWager(bet.id, risk)\r\n\r\n    },[risk])\r\n\r\n    //Function to toggle bet details \r\n    const toggleDetails = (i) => {\r\n        let detailRows = document.getElementsByClassName(\"betDetails\"+i);\r\n        let arrow = document.getElementById(\"arrow\"+i);\r\n\r\n        for(let i =0; i < detailRows.length; i++){\r\n            if(detailRows[i].style.display === 'none'){\r\n                detailRows[i].style.display = '';\r\n                arrow.classList.remove(\"right\");\r\n                arrow.classList.add(\"down\");\r\n            }else{\r\n                detailRows[i].style.display = 'none';\r\n                arrow.classList.remove(\"down\");\r\n                arrow.classList.add(\"right\");\r\n            }\r\n        }\r\n    }\r\n\r\n    //Function to handle close of edit modal\r\n    const closeEdit = () => {\r\n        setShowEditBet(false);\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <Table className=\"bet\">\r\n                <tbody>\r\n                    <tr>\r\n                        {(bet.type === \"Spread\") ? \r\n                            <td onClick={()=>toggleDetails(i)}>\r\n                                <i className=\"arrow down\" id={\"arrow\"+i} ></i> {bet.bet+\" \"+stringifyOddsAndPoints(bet.handicap) + \" (\"+stringifyOddsAndPoints(bet.odds)+\")\"}\r\n                                <input type=\"image\" src={editIcon} onClick={()=>setShowEditBet(true)} />\r\n                            </td>\r\n                        : \r\n                        (bet.type === \"Total\") ?\r\n                            <td onClick={()=>toggleDetails(i)}>\r\n                                <i className=\"arrow down\" id={\"arrow\"+i} ></i> {bet.bet+\" \"+bet.total + \" (\"+stringifyOddsAndPoints(bet.odds)+\")\"}\r\n                                <input type=\"image\" src={editIcon} onClick={()=>setShowEditBet(true)} />\r\n                            </td>\r\n                        :\r\n                            <td onClick={()=>toggleDetails(i)}>\r\n                                <i className=\"arrow down\" id={\"arrow\"+i} ></i> {bet.bet + \" (\"+stringifyOddsAndPoints(bet.odds)+\")\"}\r\n                                <input type=\"image\" src={editIcon} onClick={()=>setShowEditBet(true)} />\r\n                            </td>\r\n                        }\r\n                        <td className=\"odds\">{bet.odds.american} <i onClick={()=>props.removeBets([bet.id])}>&times;</i></td> \r\n                    </tr>\r\n                    <tr>\r\n                        <td colSpan={2}>{bet.type}</td>\r\n                    </tr>\r\n                    <tr className={\"betDetails\"+i}>\r\n                        <td  colSpan={2}>{bet.fixture}</td>\r\n                    </tr>\r\n                    <tr className={\"betDetails\"+i}>\r\n                        <td colSpan={2}>{formatTime(bet.time)}</td>\r\n                    </tr>\r\n                    {props.slipType === \"Straight\" ? \r\n                        <tr>\r\n                            <td colSpan={2}>\r\n                                <Form>\r\n                                    <Form.Row>\r\n                                        <Form.Group as={Col}>\r\n                                            <Form.Control type=\"number\" placeholder=\"Risk\" value={risk} onChange={(e)=>setRisk(e.target.value)}/>\r\n                                        </Form.Group> \r\n                                        <Form.Group as={Col}>\r\n                                            <Form.Control type=\"text\"  tabIndex=\"-1\" placeholder=\"Win\" value={win} readOnly/>\r\n                                        </Form.Group> \r\n                                    </Form.Row>\r\n                                </Form>\r\n                            </td>   \r\n                        </tr>\r\n                        :\r\n                        <></>\r\n                    }    \r\n                </tbody>\r\n            </Table>  \r\n            <EditBetModal  close={closeEdit} show={showEditBet} bet={bet} editBet={props.editBet}/>\r\n        </>  \r\n    )\r\n}\r\n\r\nexport default Bet","import React from 'react'\r\nimport {Modal, Button} from 'react-bootstrap';\r\n\r\n/* \r\nComponent takes following props\r\nshow - boolean to show or hide modal\r\nclose - function to set parent variable that handles display of modal to false\r\naction - call back funtion to action on clicking button\r\nbuttonText - text to display on button\r\nmessage - title text for modal\r\n*/\r\n\r\nconst ConfirmationModal = (props) => {\r\n    return (\r\n        <Modal show={props.show} onHide={props.close}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>{props.message}</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={props.close}>\r\n                    Close\r\n                </Button>\r\n                <Button variant=\"primary\" onClick={props.action}>\r\n                    {props.buttonText}\r\n                </Button>\r\n                </Modal.Footer>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default ConfirmationModal","import React, { useState } from 'react';\r\nimport {Card, Button, Alert} from 'react-bootstrap';\r\nimport '../../../css/betslip.css'\r\nimport Bet from './Bet';\r\nimport {model, ML, Spread, Total, Leg} from '../../../models/bet/bet';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\nimport ConfirmationModal from '../../shared/ConfirmationModal';\r\n\r\nconst BetSlip = (props) => {\r\n    const match = useRouteMatch();\r\n    const [error, setError] = useState();\r\n    const [showConfirm, setShowConfirm] = useState(false);\r\n    let bets = props.bets;\r\n    //State variable to hold slip type (straight, parlay, etc.)\r\n    const [slipType, setSlipType] = useState(\"Straight\")\r\n    const [records, setRecords] = useState([]);\r\n\r\n    //add wager amount to Straight bet \r\n    const addWager = (id, wager) => {\r\n        //find index\r\n        const index = bets.map(bet => bet.id).indexOf(id);\r\n        let tmpBets = bets;\r\n        tmpBets[index].wager = wager;\r\n        bets = tmpBets;\r\n    }\r\n\r\n    //edit bet\r\n    const editBet = (id, bet) => {\r\n        //find index\r\n        const index = bets.map(bet => bet.id).indexOf(id);\r\n        let tmpBets = bets;\r\n        tmpBets[index] = bet;\r\n        bets = tmpBets;\r\n    }\r\n\r\n    //Function to format straight bets in records for db storage\r\n    const formatStraightBet = (bet) =>{\r\n        //create instance of bet model obj and add properties\r\n        let betModel = {...model};\r\n        betModel.type = slipType;\r\n        betModel.wager = bet.wager;\r\n        betModel.odds = bet.odds;\r\n        betModel.result = \"\";\r\n        \r\n        //create instance of leg obj \r\n        let leg = {...Leg};\r\n\r\n        let legType = bet.type;\r\n        if(legType === \"Spread\"){\r\n            //create instance of spread line object \r\n            let spread = {...Spread}; \r\n            spread.team = {...spread.team}\r\n            spread.team.type = bet.team.type;\r\n            spread.team.name = bet.team.name;\r\n            spread.line = bet.handicap;\r\n            leg.fixture = {...leg.fixture}\r\n            leg.fixture.fixtureID = bet.fixtureID; \r\n            leg.fixture.fixture = bet.fixture; \r\n            leg.fixture.time = bet.time; \r\n            leg.line = spread;\r\n            leg.odds = bet.odds;\r\n            leg.result =\"\";\r\n        }else if(legType === \"Moneyline\"){\r\n            //create instance of ML line object\r\n            let ml = {...ML}; \r\n            ml.team = {...ml.team}\r\n            ml.team.type = bet.team.type;\r\n            ml.team.name = bet.team.name;\r\n            leg.fixture = {...leg.fixture}\r\n            leg.fixture.fixtureID = bet.fixtureID; \r\n            leg.fixture.fixture = bet.fixture; \r\n            leg.fixture.time = bet.time;             \r\n            leg.line = ml;\r\n            leg.odds = bet.odds; \r\n            leg.result =\"\";       \r\n        }else if(legType === \"Total\"){\r\n            //create instance of Total line object\r\n            let total = {...Total}; \r\n            total.bet = bet.bet;\r\n            total.line = bet.total;\r\n            leg.fixture = {...leg.fixture}\r\n            leg.fixture.fixtureID = bet.fixtureID; \r\n            leg.fixture.fixture = bet.fixture; \r\n            leg.fixture.time = bet.time; \r\n            leg.line = total;\r\n            leg.odds = bet.odds;\r\n            leg.result =\"\";\r\n        }\r\n\r\n        return {\r\n            account_id: props.user_id,\r\n            jsonBet: betModel,\r\n            leg: leg\r\n        };\r\n    }\r\n\r\n    //function to validate and confirm bets, then confirm placements of bets\r\n    const validateBets = async() => {\r\n        //check to make sure all bets contain valid wagers and combine wagers from all bets\r\n        let totalWagered = 0;\r\n        //object to hold error\r\n        let error = {\r\n            isError: false,\r\n            message: String\r\n        }\r\n\r\n        await bets.forEach(bet=>{\r\n            if(bet.wager > 0){\r\n                totalWagered = totalWagered + parseFloat(bet.wager);\r\n            }else{\r\n                error.isError = true;\r\n                error.message =\"Please enter a valid wager amount for all bets\";\r\n            }\r\n        })\r\n\r\n        //check for error and either insert bets or display error message\r\n        if(error.isError === true){\r\n            setError(<Alert variant='danger'>{error.message}</Alert>)\r\n            return;\r\n        }else{\r\n            //clear any error message, display confirmation box\r\n            setError();\r\n            setShowConfirm(true);\r\n\r\n            //determine type of bet(s) - straight,parlay,etc.\r\n            if(slipType === \"Straight\"){\r\n                let tmpRecords = [];\r\n                //format each bet and set records state array\r\n                bets.forEach(bet=>{\r\n                    let tmpModel = formatStraightBet(bet)\r\n                    tmpRecords.push(tmpModel);\r\n                })\r\n                \r\n                setRecords(tmpRecords);\r\n            }\r\n        }   \r\n    }\r\n\r\n    //Function to insert records into the database\r\n    const insertBetRecords = async() => {\r\n        //close modal\r\n        setShowConfirm(false);\r\n\r\n        //api parameters to create bets\r\n        const body = {\r\n            bets: records\r\n        }\r\n\r\n        const url ='https://api.lineleaders.net/bets/createPersonal';\r\n        const options = {\r\n            method:'POST',\r\n            headers:{\r\n                'Content-Type': 'application/json;charset=UTF-8'\r\n            }, \r\n            body: JSON.stringify(body)\r\n        }\r\n\r\n        //call api and check res code\r\n        let response = await fetch(url, options);\r\n        let json = await response.json();\r\n\r\n        //if resources have been created, clear bets array\r\n        if(json.code === 201){\r\n            let ids = [];\r\n            bets.forEach(bet=>{\r\n                ids.push(bet.id);\r\n            })    \r\n            props.removeBets(ids);\r\n        }\r\n    }\r\n\r\n    //Function to handle cancellation of bet submission\r\n    const handleCancellation = () => {\r\n        setRecords([]);\r\n        setShowConfirm(false);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Card >\r\n                <Card.Header>Bet Slip</Card.Header>\r\n                <Card.Body>\r\n                    {bets.map((bet, i)=>{\r\n                    return(\r\n                            <Bet key={bet.bet+bet.id} bet={bet} i={i} removeBets={props.removeBets} slipType={slipType} addWager={addWager} editBet={editBet}/>\r\n                        )\r\n                    })}\r\n                </Card.Body>\r\n                <Card.Footer>\r\n                    {error}\r\n                    <Button onClick={()=>validateBets()} variant=\"primary\">Place Bet(s)</Button>\r\n                </Card.Footer>\r\n            </Card>\r\n            <ConfirmationModal close={handleCancellation} show={showConfirm} action={insertBetRecords} buttonText=\"Yes\" message={\"Are you ready to place your bets?\"}/>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user_id: state.user.ID,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(BetSlip);","import React, {useEffect, useState} from 'react'\r\nimport organizeBook from '../../utils/organizeBook';\r\nimport '../../css/global/fixtures.css';\r\n\r\nimport {Row, Col, Navbar, Nav} from 'react-bootstrap';\r\nimport BetSlip from './BetSlip/BetSlip';\r\nimport SportPrev from './SportPrev';\r\n\r\nconst Book = () => {\r\n    const [fixts, setfixts] = useState([]);\r\n    const [bets, setBets] = useState([]);\r\n    const [sports, setSports] = useState([]);\r\n    const [leagues, setLeagues] = useState([]);\r\n    const [book, setBook] = useState([]);\r\n\r\n    useEffect(()=>{\r\n        const fetchfixts = async() =>{\r\n            const response = await fetch('https://api.lineleaders.net/fixtures/getBook');\r\n            const data = await response.json();\r\n            setfixts(data);\r\n        }\r\n        const fetchSports = async () => {\r\n            const response = await fetch('https://api.lineleaders.net/sports/');\r\n            const data = await response.json();\r\n            setSports(data)\r\n        }\r\n        const fetchLeagues = async () => {\r\n            const response = await fetch('https://api.lineleaders.net/leagues/');\r\n            const data = await response.json();\r\n            setLeagues(data);\r\n        }\r\n\r\n        fetchLeagues();\r\n        fetchSports();\r\n        fetchfixts();\r\n    },[])\r\n\r\n    //organize book\r\n    useEffect(()=>{\r\n        if(fixts.length > 0 && leagues.length > 0 && sports.length > 0){\r\n            let orgBook = organizeBook(fixts, leagues, sports);\r\n            setBook(orgBook)\r\n        }\r\n    },[sports,leagues,fixts])\r\n\r\n    //function to remove a single bet\r\n    const removeBet = (id) => {\r\n        console.log(id)\r\n        //get temp array\r\n        let tmpBets = [...bets];\r\n        //get index \r\n        const index = tmpBets.map(bet => bet.id).indexOf(id);\r\n        //get element by id\r\n        const element = document.getElementById(id);\r\n        //remove class\r\n        element.classList.remove(\"selected-bet\");     \r\n        //remove bet from array   \r\n        tmpBets.splice(index, 1);\r\n        console.log(tmpBets)\r\n        //set bets array\r\n        setBets(tmpBets);\r\n    }\r\n\r\n    //function to remove bets after submission, takes array of ids\r\n    const removeBets = (ids) => {\r\n        //get temp array\r\n        let tmpBets = [...bets];\r\n        ids.forEach(id=> {\r\n            //get index \r\n            const index = tmpBets.map(bet => bet.id).indexOf(id);\r\n            //get element by id\r\n            const element = document.getElementById(id);\r\n            //remove class\r\n            element.classList.remove(\"selected-bet\");     \r\n            //remove bet from array   \r\n            tmpBets.splice(index, 1);\r\n            console.log(tmpBets)\r\n            //set bets array\r\n        })\r\n        setBets(tmpBets);\r\n    }\r\n\r\n    return (\r\n        <>  \r\n            {/* <Navbar bg=\"dark\">\r\n                <Nav className=\"mr-auto\">\r\n                    <Nav.Link href=\"#home\">Basketball</Nav.Link>\r\n                    <Nav.Link href=\"#features\">Football</Nav.Link>\r\n                    <Nav.Link href=\"#pricing\">Soccer</Nav.Link>\r\n                    <Nav.Link href=\"#pricing\">Baseball</Nav.Link>\r\n                </Nav>\r\n            </Navbar> */}\r\n            <Row>\r\n                <Col md={8} sm={12}> \r\n                    {book.map(sport=>{\r\n                        return(<SportPrev key={sport.sport_id} sport={sport} bets={bets} setBets={setBets} removeBet={removeBet}/>) \r\n                    })}\r\n                </Col>\r\n                <Col md={4} sm={12}>\r\n                    <BetSlip bets={bets} removeBets={removeBets} />\r\n                </Col>\r\n            </Row>   \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Book","import React, {useEffect} from 'react';\nimport { useAuth0 } from \"./react-auth0-spa\";\nimport { Router, Route, Switch } from \"react-router-dom\";\nimport history from \"./utils/history\";\nimport { connect } from 'react-redux';\nimport fetchSports from './api/fetchSports';\nimport fetchLeagues from './api/fetchLeagues';\n\n//CSS\nimport './css/global/media.css'\nimport './css/global/global.css'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'react-widgets/dist/css/react-widgets.css';\nimport './App.css';\n\n//Components\nimport NavBar from './components/individual/NavBar'; \nimport Profile from './components/pages/Profile';\nimport PrivateRoute from './components/individual/PrivateRoute';\nimport AdminPage from './components/pages/Admin';\nimport ContestsPage from './components/pages/ContestsPage';\nimport Lobby from './components/pages/LobbyPage';\nimport LiveContest from './components/pages/LiveContest';\nimport Book from './social/Book/Book';\nimport {Container, Row} from 'react-bootstrap';\n\nfunction App(props) {\n  const { loading } = useAuth0();\n\n  //run on initial render, pull application data for redux store\n  useEffect(()=> { \n    const asyncFunc = async() => {\n      let sports = await fetchSports();\n      let leagues = await fetchLeagues();;\n\n      props.setSports(sports);\n      props.setLeagues(leagues);\n    }\n\n    asyncFunc();\n  },[])\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n  return (\n    <Container className=\"App\">\n      <Router history={history}>\n        <Row>\n          <NavBar />\n        </Row>\n          <Switch>\n            <Route exact path=\"/\"/>\n            <Route path=\"/book\" component={Book} />\n            <PrivateRoute path=\"/profile\" component={Profile} />\n            <PrivateRoute path=\"/admin\" component={AdminPage} /> \n            <PrivateRoute path=\"/lobby\" component={Lobby} />\n            <PrivateRoute path=\"/contests\" component={ContestsPage} />\n            <PrivateRoute path=\"/live-contest/:contestid/entry/:entryid\" component={LiveContest} /> \n          </Switch>\n      </Router>\n    </Container>\n  );\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n  }\n}\n\nconst mapDispatchToProps = ( dispatch ) => {\n  return{\n    setSports: sports => { dispatch({type: 'SET_SPORTS', sports: sports })},   \n    setLeagues: leagues => { dispatch({type: 'SET_LEAGUES', leagues: leagues })},      \n   \n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const initValues  = {\r\n    ID: null, \r\n    username: '',\r\n    balance: null,\r\n    permissions:  [],\r\n    openBets: [],    \r\n    settledBets: [],\r\n    contests: []\r\n}\r\n\r\nconst userReducer = (state = initValues, action) =>{\r\n    switch(action.type){\r\n        case 'SET_USER_ID': {\r\n            state = {...state, ID: action.ID};\r\n            break;\r\n        }\r\n        case 'SET_PERMISSIONS': {\r\n            state =  {...state, permissions: action.permissions};\r\n            break;\r\n        }\r\n        case 'SET_USER_USERNAME': {\r\n            state = {...state, username: action.username}\r\n            break;\r\n        }\r\n        case 'SET_USER_BALANCE': {\r\n            state = {...state, balance: action.balance}\r\n            break;\r\n        }\r\n        case 'SET_OPEN_BETS': {\r\n            state =  {...state, openBets: action.bets};\r\n            break;\r\n        }\r\n        case 'SET_SETTLED_BETS': {\r\n            state =  {...state, settledBets: action.bets};\r\n            break;\r\n        }        \r\n        case 'SET_CONTESTS': {\r\n            state =  {...state, contests: action.contests};\r\n            break;\r\n        }\r\n        default : break;\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default userReducer;","const initValues  = {\r\n    contest: {}, \r\n    leaderboards:[],\r\n    openBets: [],    \r\n    settledBets: [],\r\n    entryID: null,\r\n    bankroll: null,\r\n    available: null,\r\n    leagues: [],\r\n    book:[]\r\n}\r\n\r\nconst contestReducer = (state = initValues, action) =>{\r\n    switch(action.type){\r\n        case 'SET_CONTEST': {\r\n            state = {...state, contest: action.contest};\r\n            break;\r\n        }\r\n        case 'SET_OPEN_BETS': {\r\n            state =  {...state, openBets: action.bets};\r\n            break;\r\n        }\r\n        case 'SET_SETTLED_BETS': {\r\n            state =  {...state, settledBets: action.bets};\r\n            break;\r\n        }\r\n        case 'SET_ENTRY_ID': {\r\n            state =  {...state, entryID: action.bets};\r\n            break;\r\n        }\r\n        case 'SET_BANKROLL': {\r\n            state =  {...state, bankroll: action.bankroll};\r\n            break;\r\n        }\r\n        case 'SET_AVAILABLE': {\r\n            state =  {...state, available: action.available};\r\n            break;\r\n        }\r\n        case 'SET_CONTEST_LEAGUES': {\r\n            state = {...state, leagues: action.leagues}\r\n        }\r\n        case 'SET_BOOK': {\r\n            state = {...state, book: action.book}\r\n        }\r\n        case 'SET_LEADERBOARDS': {\r\n            if(typeof action.leaderboards !== \"undefined\"){\r\n                state = {...state, leaderboards: action.leaderboards}\r\n            }\r\n        }\r\n\r\n        default : break; \r\n    }\r\n    return state;\r\n}\r\n\r\nexport default contestReducer;","const initValues  = {\r\n    sports: [],\r\n    leagues:[]\r\n}\r\n\r\nconst applicationReducer = (state = initValues, action) =>{\r\n    switch(action.type){\r\n        case 'SET_SPORTS': {\r\n            state = {...state, sports: action.sports};\r\n            break;\r\n        }\r\n        case 'SET_LEAGUES': {\r\n            state = {...state, leagues: action.leagues};\r\n            break;\r\n        }\r\n        default : break; \r\n    }\r\n    return state;\r\n}\r\n\r\nexport default applicationReducer;","import {combineReducers} from \"redux\";\r\nimport userReducer  from './userReducer';\r\nimport contestReducer from './contestReducer';\r\nimport applicationReducer from './applicationReducer';\r\n\r\nconst reducers = combineReducers({\r\n    user: userReducer,\r\n    contest: contestReducer,\r\n    application: applicationReducer\r\n})\r\n\r\nexport default reducers;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Auth0Provider } from \"./react-auth0-spa\";\nimport config from \"./auth_config.json\";\nimport history from \"./utils/history\";\nimport {createStore} from \"redux\";\nimport reducer from './redux/reducer';\nimport {Provider} from \"react-redux\";\n//create Redux store\nconst store = createStore(reducer);\n\n// A function that routes the user to the right place\n// after login\nconst onRedirectCallback = appState => {\n  history.push(\n    appState && appState.targetUrl\n      ? appState.targetUrl\n      : window.location.pathname\n  );\n};\n\nReactDOM.render(\n  <Auth0Provider\n    domain={config.domain}\n    client_id={config.clientId}\n    redirect_uri={window.location.origin}\n    audience={config.audience} \n    onRedirectCallback={onRedirectCallback}\n    useRefreshTokens={true}\n    cacheLocation=\"localstorage\"\n  >\n    <Provider store={store}>\n        <App />\n    </Provider>\n  </Auth0Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABa0lEQVRYR+2X4U3DMBSEv04AG8AIbFDYgA1gBDaATgAjsAFsAGwAEwATUCYAfZItpSFOGvJM+gNLVVK19p3v3b04C2Yei5nx2WkC58AlcDhRpTdgBdx2rdOngBNPgeeJBI6A+9JG+gh8QViJimv9E6ipwD5wBxwnD50Aj20/1SIg+APwnowsCY3odcPUNQhk8E/ABGRQE3XTTkM0gQz+AthH/AgqCWP90U5WJIE2eC53JvEKPAEXTR9EESiBZyzNpwKS2RgRBIbAbcFnpaY2lUAfuL9dJ+AqBIbAjWE2Y5VWbJ7XjUaTa9tFLJyA+TZegnnNj9qSKuEEBFUBu5sO97v3Tdmbbg8nYKRUwRK4a0nspZz/iBoQSkDgq9TjvdfhtlmbTBe4SoQSUO5l2rn93vorv6qURiiBXPch0KoeGHtMDFVgLHi4B/6MwOzHciNl3A5+s+XGHI9lrjP6xWQi7nbTd/rdcLstTPzXN98ybiGYn4riAAAAAElFTkSuQmCC\""],"sourceRoot":""}