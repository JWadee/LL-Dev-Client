{"version":3,"sources":["images/logo.PNG","react-auth0-spa.js","utils/history.js","components/individual/AccessControl.js","components/individual/NavBar.js","utils/formatTime.js","utils/stringifyOddsAndPoints.js","social/bets/Leg.js","social/bets/OpenBets.js","social/bets/SettledBets.js","components/pages/Profile.js","components/individual/PrivateRoute.js","components/admin/fixtureResults/FixturesTable.js","utils/isEmpty.js","components/admin/fixtureResults/EnterResult.js","components/admin/fixtureResults/NeedResultsPage.js","components/pages/Admin.js","components/individual/MyContests/MyLiveContests.js","utils/startCountdown.js","components/individual/MyContests/MyUpcomingContests.js","components/individual/MyContests/MyHistoryContests.js","components/individual/UpcomingContests/ContestDetails.js","components/pages/ContestsPage.js","utils/formatCurrency.js","components/individual/UpcomingContests/UpcomingContests.js","components/individual/ActiveContest/Leaderboard.js","utils/convertOdds.js","components/individual/ActiveContest/bets/Leg.js","components/individual/ActiveContest/bets/SettledBets.js","components/individual/ActiveContest/bets/OpenBets.js","components/individual/ActiveContest/BetSlip/Bet.js","models/bet/bet.js","api/bets/fetchContestBets.js","components/shared/ConfirmationModal.js","components/individual/ActiveContest/BetSlip/BetSlip.js","utils/formatHandicap.js","components/individual/ActiveContest/Book/Fixtures/FootballFixts.js","components/individual/ActiveContest/Book/Book.js","social/Book/Fixture.js","components/pages/LiveContest.js","social/Book/BetSlip/Bet.js","social/shared/ConfirmationModal.js","social/Book/BetSlip/BetSlip.js","social/Book/Book.js","App.js","serviceWorker.js","redux/userReducer.js","redux/contestReducer.js","redux/reducer.js","index.js"],"names":["module","exports","DEFAULT_REDIRECT_CALLBACK","window","history","replaceState","document","title","location","pathname","Auth0Context","React","createContext","useAuth0","useContext","Auth0Provider","children","onRedirectCallback","initOptions","useState","isAuthenticated","setIsAuthenticated","user","setUser","auth0Client","setAuth0","loading","setLoading","popupOpen","setPopupOpen","useEffect","a","createAuth0Client","auth0FromHook","search","includes","handleRedirectCallback","appState","getUser","initAuth0","loginWithPopup","params","console","error","Provider","value","getIdTokenClaims","loginWithRedirect","getTokenSilently","getTokenWithPopup","logout","createBrowserHistory","AccessControl","props","permitted","setPermitted","perm","i","permissions","length","allowedPermissions","protectedResource","connect","state","ID","username","balance","dispatch","setPermissions","type","setUserID","setUsername","setBalance","fetchPermissions","token","fetch","headers","Authorization","response","json","fetchDetails","data","intAccountID","Navbar","className","expand","sticky","Brand","Image","src","logo","rounded","width","height","Toggle","Collapse","Nav","to","Link","NavDropdown","Item","disabled","Divider","onClick","formatTime","time","Date","toLocaleString","dateStyle","timeStyle","stringifyOddsAndPoints","num","parseFloat","Leg","leg","fixture","line","team","name","bet","openBets","contest","Table","responsive","map","win","legs","odds","dec","wager","toFixed","Math","abs","settledBets","result","user_id","setOpenBets","bets","setSettledBets","activeTab","setActiveTab","open","settled","forEach","Result","push","fetchBets","Form","Row","Col","Control","as","onChange","e","target","key","Tabs","fill","activeKey","onSelect","k","id","Tab","eventKey","PrivateRoute","Component","component","path","rest","targetUrl","fn","render","FixturesTable","colSpan","fixts","fixt","fixture_id","setSelected","commence_time","home_team","away_team","isEmpty","obj","Object","keys","EnterResult","homeScore","setHomeScore","awayScore","setAwayScore","setError","updateFixture","body","fixt_id","results","home_score","away_score","options","method","JSON","stringify","then","removeFixt","catch","err","log","Card","Header","Body","Label","column","Button","isNaN","Alert","variant","NeedResultsPage","needResults","setNeedResults","selectedFixt","setSelectedFixt","fetch_needsResults","md","index","findIndex","tmp","splice","AdminPage","MyLiveContests","contests","intContestID","strContestName","strContestType","decEntry","intContestPlayerID","updateStartCountdown","date","newdate","now","getTime","timeleft","day","getDay","hour","getHours","ampm","days","floor","hours","minutes","seconds","countdown","getMonth","getDate","elementID","getElementById","innerHTML","MyUpcomingContests","countdowns","setInterval","dtmStart","clearInterval","decEntryFee","decPrizePool","MyHistoryContests","ContestDetails","accountID","setContests","liveContests","setLiveContests","upcomingContests","setUpcomingContests","historyContests","setHistoryContests","display","setDisplay","setTimeout","fetchMyContests","active","upcoming","count","intContestStatusID","defaultActiveKey","Spinner","animation","Modal","show","onHide","closeButton","Title","contestType","contestID","formatCurrency","expandedContest","setExpandedContest","showDetail","setShowDetail","enterContest","opts","start","handleOpenDetail","entry","prizepool","bankroll","Number","style","currency","leaderboards","contestant","record","p","w","l","email","convertOdds","parsedOdds","americanOdds","round","Bet","risk","setRisk","setWin","tmpWin","american","tmpRisk","addWager","toggleDetails","detailRows","getElementsByClassName","arrow","classList","remove","add","handicap","total","removeBets","slipType","Group","placeholder","tabIndex","readOnly","model","String","fixtureID","ML","Spread","Total","fetchContestBets","entryid","ConfirmationModal","close","message","Footer","action","buttonText","available","match","useRouteMatch","showConfirm","setShowConfirm","records","setRecords","indexOf","tmpBets","formatStraightBet","betModel","decimal","legType","spread","ml","contestPlayerID","jsonBet","validateBets","totalWagered","isError","tmpRecords","tmpModel","insertBetRecords","code","ids","contestBets","formatHandicap","nums","split","FootballFixts","handleBetClick","bettype","element","removeBet","away","home","main","sp","game_lines","over","under","setBets","addBet","fixtures","league","leagueID","formattedTime","Book","setLeaguesDisp","sm","leagues","intLeagueID","strLeagueName","leagueobj","parseInt","sport_id","Fixture","entryID","upcomingFixts","inplayFixts","setContest","setEntryID","setAvailable","avaialable","setBankroll","setLeagues","setUpcoming","setInplay","inplay","setLeaderboards","fetchContest","contestid","fetchLeagues","fetch_leaderboards","organizeFixtures","leagueFixts","time_status","upcIndex","lf","inpIndex","leagueIds","leagueIDs","end","dtmEnd","fetchFixtures","decInitialBankRoll","getOwnPropertyNames","spreads","points","h2h","totals","rowSpan","account_id","book","setBook","fetchBook","App","Container","exact","Profile","Boolean","hostname","initValues","userReducer","contestReducer","reducers","combineReducers","store","createStore","reducer","ReactDOM","domain","config","client_id","clientId","redirect_uri","origin","audience","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.4481a630.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.47646def.PNG\";","import React, { useState, useEffect, useContext } from \"react\";\r\nimport createAuth0Client from \"@auth0/auth0-spa-js\";\r\n\r\nconst DEFAULT_REDIRECT_CALLBACK = () =>\r\n  window.history.replaceState({}, document.title, window.location.pathname);\r\n\r\nexport const Auth0Context = React.createContext();\r\nexport const useAuth0 = () => useContext(Auth0Context);\r\nexport const Auth0Provider = ({\r\n  children,\r\n  onRedirectCallback = DEFAULT_REDIRECT_CALLBACK,\r\n  ...initOptions\r\n}) => {\r\n  const [isAuthenticated, setIsAuthenticated] = useState();\r\n  const [user, setUser] = useState();\r\n  const [auth0Client, setAuth0] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n  const [popupOpen, setPopupOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const initAuth0 = async () => {\r\n      const auth0FromHook = await createAuth0Client(initOptions);\r\n      setAuth0(auth0FromHook);\r\n\r\n      if (window.location.search.includes(\"code=\") &&\r\n          window.location.search.includes(\"state=\")) {\r\n        const { appState } = await auth0FromHook.handleRedirectCallback();\r\n        onRedirectCallback(appState);\r\n      }\r\n\r\n      const isAuthenticated = await auth0FromHook.isAuthenticated();\r\n\r\n      setIsAuthenticated(isAuthenticated);\r\n\r\n      if (isAuthenticated) {\r\n        const user = await auth0FromHook.getUser();\r\n        setUser(user);\r\n      }\r\n\r\n      setLoading(false);\r\n    };\r\n    initAuth0();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const loginWithPopup = async (params = {}) => {\r\n    setPopupOpen(true);\r\n    try {\r\n      await auth0Client.loginWithPopup(params);\r\n    } catch (error) {\r\n      console.error(error);\r\n    } finally {\r\n      setPopupOpen(false);\r\n    }\r\n    const user = await auth0Client.getUser();\r\n    setUser(user);\r\n    setIsAuthenticated(true);\r\n  };\r\n\r\n  const handleRedirectCallback = async () => {\r\n    setLoading(true);\r\n    await auth0Client.handleRedirectCallback();\r\n    const user = await auth0Client.getUser();\r\n    setLoading(false);\r\n    setIsAuthenticated(true);\r\n    setUser(user);\r\n  };\r\n  return (\r\n    <Auth0Context.Provider\r\n      value={{\r\n        isAuthenticated,\r\n        user,\r\n        loading,\r\n        popupOpen,\r\n        loginWithPopup,\r\n        handleRedirectCallback,\r\n        getIdTokenClaims: (...p) => auth0Client.getIdTokenClaims(...p),\r\n        loginWithRedirect: (...p) => auth0Client.loginWithRedirect(...p),\r\n        getTokenSilently: (...p) => auth0Client.getTokenSilently(...p),\r\n        getTokenWithPopup: (...p) => auth0Client.getTokenWithPopup(...p),\r\n        logout: (...p) => auth0Client.logout(...p)\r\n      }}\r\n    >\r\n      {children}\r\n    </Auth0Context.Provider>\r\n  );\r\n};","import { createBrowserHistory } from \"history\";\r\nexport default createBrowserHistory();","// src/components/NavBar.js\r\n\r\nimport React, {useState, useEffect} from \"react\";\r\n\r\nconst AccessControl = (props) => {\r\n    const [permitted, setPermitted]  = useState(false);\r\n\r\n    /*Runs only on initial render\r\n      Will send token to API and fetch user permissions  \r\n      userPermissions will be updated\r\n    */\r\n    useEffect(() => {\r\n      let perm = false;\r\n      for(let i = 0; i < props.permissions.length; i++){\r\n          if(props.allowedPermissions.includes(props.permissions[i])){\r\n             perm = true;\r\n          };\r\n      }\r\n      setPermitted(perm)\r\n    },[])\r\n    \r\n    return (\r\n        <span>\r\n            {permitted && props.protectedResource}\r\n            {!permitted && null}\r\n        </span>\r\n    );\r\n};\r\n\r\nexport default AccessControl;","import React, {useEffect} from \"react\";\r\nimport { useAuth0 } from \"../../react-auth0-spa\";\r\nimport {Navbar, Nav, NavDropdown, Image } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport logo from '../../images/logo.PNG';\r\n\r\n//components \r\nimport AccessControl from './AccessControl';\r\n\r\nconst NavBar = (props) => {\r\n  const { isAuthenticated, loginWithRedirect, logout, getTokenSilently } = useAuth0();\r\n\r\n  /* Runs on initial mount\r\n  *  Calls fetchPermissions + fetchDetails then updates redux store  \r\n  */\r\n  useEffect( () => {\r\n      if(isAuthenticated){\r\n      let permissions =[];\r\n\r\n      async function fetchPermissions(){\r\n          try {\r\n          const token = await getTokenSilently();\r\n          const response = await fetch(\"https://api.lineleaders.net/accounts/permissions\", {\r\n          headers: {\r\n              Authorization: `Bearer ${token}`\r\n          }\r\n          });\r\n          \r\n          permissions = await response.json();\r\n          props.setPermissions(permissions);\r\n          } catch (error) {\r\n          console.error(error);\r\n          }\r\n      }\r\n\r\n      async function fetchDetails(){\r\n          try {\r\n            const token = await getTokenSilently();\r\n            const response = await fetch(\"https://api.lineleaders.net/accounts/details\", {\r\n            headers: {\r\n                Authorization: `Bearer ${token}`\r\n            }\r\n            });\r\n          \r\n            let data = await response.json();\r\n            props.setUserID(data.intAccountID);\r\n          } catch (error) {\r\n            console.error(error);\r\n          }\r\n      }\r\n      fetchPermissions();\r\n      fetchDetails();\r\n      }\r\n  },[])\r\n  \r\n  return (\r\n    <Navbar className=\"main-nav\" expand=\"md\" sticky=\"top\">\r\n      <Navbar.Brand>\r\n        <Image  src={logo} rounded width=\"100%\" height=\"auto\"/>\r\n      </Navbar.Brand> \r\n      <Navbar.Toggle />\r\n      <Navbar.Collapse>\r\n        <Nav className=\"mr-auto\">\r\n          {/* Show regardless of login state */}\r\n\r\n          {/* Show when logged in */}\r\n          {isAuthenticated && (\r\n            <>\r\n              <LinkContainer to=\"/book\">\r\n                <Nav.Link>Book</Nav.Link>\r\n              </LinkContainer>\r\n              <NavDropdown title=\"My Account\">\r\n                <NavDropdown.Item disabled>Balance: ${props.balance}</NavDropdown.Item>\r\n                <LinkContainer to=\"/profile\">\r\n                  <NavDropdown.Item>Profile</NavDropdown.Item>\r\n                </LinkContainer>\r\n                <AccessControl permissions={props.permissions} allowedPermissions={[\"create:contest\"]} protectedResource={\r\n                  <LinkContainer to=\"/admin\">\r\n                    <NavDropdown.Item>Admin</NavDropdown.Item>\r\n                  </LinkContainer>\r\n                } />\r\n                <NavDropdown.Divider />\r\n                <NavDropdown.Item onClick={() => logout()}>Log out</NavDropdown.Item>\r\n              </NavDropdown>\r\n            </>\r\n          )}\r\n  \r\n          {/* Show if not logged in */}\r\n          {!isAuthenticated && (\r\n            <Nav.Link onClick={() => loginWithRedirect({})}>Log in</Nav.Link>\r\n          )}\r\n        </Nav>\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n      permissions: state.user.permissions,\r\n      ID: state.user.ID,\r\n      username: state.user.username,\r\n      balance: state.user.balance\r\n    }\r\n  }\r\n  \r\n  const mapDispatchToProps = ( dispatch ) => {\r\n    return{\r\n      setPermissions: (permissions) => { dispatch({type: 'SET_PERMISSIONS', permissions: permissions}) },\r\n      setUserID: (ID) => { dispatch({type: 'SET_USER_ID', ID: ID})},\r\n      setUsername: (username) => { dispatch({type: 'SET_USER_USERNAME', username: username})},\r\n      setBalance: (balance) => { dispatch({type: 'SET_USER_BALANCE', balance: balance})}\r\n    }\r\n  }\r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(NavBar);","//function to format from epoch time\r\nconst formatTime = (time) => {\r\n    let adjusted = new Date(time *1000);\r\n    let formattedTime = adjusted.toLocaleString([], {dateStyle: 'short', timeStyle:'short'});  \r\n    return(formattedTime);  \r\n}\r\n\r\nexport default formatTime;","let stringifyOddsAndPoints = (a) => {\r\n    let num = parseFloat(a);\r\n    let string;\r\n    if(num > 0){\r\n        string = \"+\"+num;\r\n    }else string = num; \r\n\r\n    return string;\r\n} \r\n\r\nexport default stringifyOddsAndPoints;","import React from 'react'\r\nimport formatTime from '../../utils/formatTime';\r\nimport stringifyOddsAndPoints from '../../utils/stringifyOddsAndPoints';\r\n\r\nconst Leg = (props) => {\r\n    let leg = props.leg\r\n    let time = formatTime(leg.fixture.time)\r\n\r\n    if(leg.line.type === \"Moneyline\"){\r\n        return (\r\n            <td>\r\n                    <b>{leg.line.team.type === \"Draw\" ? \r\n                        leg.line.team.type\r\n                            :\r\n                        leg.line.team.name\r\n                    }</b>\r\n                    <br/>{leg.fixture.fixture}\r\n                    <br/>{time}\r\n            </td>\r\n        )\r\n    }else if(leg.line.type === \"Spread\"){\r\n        return (\r\n            <td>\r\n                <b>{leg.line.team.name + \" \" + stringifyOddsAndPoints(leg.line.line)}</b>\r\n                <br/>{leg.fixture.fixture}\r\n                <br/>{time}\r\n            </td>\r\n        )\r\n    }else if(leg.line.type === \"Total\"){\r\n        return (\r\n            <td>\r\n                <b>{leg.line.bet + \" \" + leg.line.line}</b>\r\n                <br/>{leg.fixture.fixture}\r\n                <br/>{time}\r\n            </td>\r\n        )\r\n    }\r\n    return(\r\n        <></>\r\n    )\r\n}\r\n\r\nexport default Leg","import React from 'react';\r\nimport {Table } from 'react-bootstrap';\r\nimport Leg from './Leg';\r\nimport '../../css/betsTable.css';\r\nimport { connect } from 'react-redux';\r\nimport stringifyOddsAndPoints from '../../utils/stringifyOddsAndPoints';\r\n\r\nconst OpenBets = (props) => {    \r\n    return (\r\n        <Table responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th>Type</th>\r\n                    <th>Line(s)</th>\r\n                    <th>Odds</th>\r\n                    <th>Risk</th>\r\n                    <th>Win</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.openBets.map(bet=>{\r\n                    if(bet.type === \"Straight\"){\r\n                        const leg = bet.legs[0];\r\n                        //calc win field\r\n                        let win;\r\n                        if(bet.odds > 0){\r\n                            let dec = bet.odds/100;\r\n                            win = parseFloat(bet.wager * dec).toFixed(2)\r\n                        }else{\r\n                            let dec = Math.abs(bet.odds)/100;\r\n                            win = parseFloat(bet.wager / dec).toFixed(2)\r\n                        }\r\n                        \r\n                        return(\r\n                            <tr className={\"openBet\"}>\r\n                                <td>{bet.type}</td>\r\n                                <Leg leg={leg} />\r\n                                <td>{stringifyOddsAndPoints(bet.odds)}</td>\r\n                                <td>{\"$\"+parseFloat(bet.wager).toFixed(2)}</td>\r\n                                <td>{\"$\"+win}</td>\r\n                            </tr>\r\n                        )\r\n                    }else{\r\n                        return <></>;\r\n                    }\r\n                })}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        openBets: state.contest.openBets\r\n    }\r\n  }\r\n\r\n  export default connect(mapStateToProps)(OpenBets);\r\n","import React from 'react';\r\nimport {Table } from 'react-bootstrap';\r\nimport Leg from './Leg';\r\nimport '../../css/betsTable.css';\r\nimport { connect } from 'react-redux';\r\nimport stringifyOddsAndPoints from '../../utils/stringifyOddsAndPoints';\r\n\r\nconst SettledBets = (props) => {    \r\n    return (\r\n        <Table responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th>Type</th>\r\n                    <th>Line(s)</th>\r\n                    <th>Odds</th>\r\n                    <th>Risk</th>\r\n                    <th>Win</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.settledBets.map(bet=>{\r\n                    if(bet.type === \"Straight\"){\r\n                        const leg = bet.legs[0];\r\n                        //calc win field\r\n                        let win;\r\n                        if(bet.odds > 0){\r\n                            let dec = bet.odds/100;\r\n                            win = parseFloat(bet.wager * dec).toFixed(2)\r\n                        }else{\r\n                            let dec = Math.abs(bet.odds)/100;\r\n                            win = parseFloat(bet.wager / dec).toFixed(2)\r\n                        }\r\n\r\n                        return(\r\n                            <tr className={\"bet\"+bet.result}>\r\n                                <td>{bet.type}</td>\r\n                                <Leg leg={leg} />\r\n                                <td>{stringifyOddsAndPoints(bet.odds)}</td>\r\n                                <td>{\"$\"+parseFloat(bet.wager).toFixed(2)}</td>\r\n                                {bet.result === \"W\" ? <td>{\"+$\"+win}</td> :<></>}\r\n                                {bet.result === \"L\" ? <td>{\"-$\"+parseFloat(bet.wager).toFixed(2)}</td> :<></>}\r\n                                {bet.result === \"P\" ? <td>{\"-\"}</td> :<></>}\r\n                            </tr>\r\n                        )\r\n                    }else{\r\n                        return <></>;\r\n                    }\r\n                })}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        settledBets: state.contest.settledBets\r\n    }\r\n  }\r\n\r\n  export default connect(mapStateToProps)(SettledBets);\r\n","import React, {useState, useEffect} from \"react\";\r\nimport { useAuth0 } from \"../../react-auth0-spa\";\r\nimport {Col, Form, Tabs, Tab} from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport OpenBets from '../../social/bets/OpenBets';\r\nimport SettledBets from '../../social/bets/SettledBets';\r\n\r\nconst Profile = (props) => {\r\n  const { loading, user } = useAuth0();\r\n  const [showCreateBet, setShowCreateBet] = useState(false);\r\n\r\n  const [display, setDisplay] = useState(false);\r\n  const [activeTab, setActiveTab] = useState('book');\r\n\r\n  //Function to run when user_id is set and fetch bets\r\n  useEffect(()=>{  \r\n    const fetchBets = async ()=> {\r\n      const response = await fetch('https://api.lineleaders.net/bets/personal?id='+props.user_id);\r\n      const bets = await response.json();\r\n      //separate into open and settled and set redux state\r\n      let open = [];\r\n      let settled = [];\r\n\r\n      bets.forEach(bet=>{\r\n          if(bet.result === \"W\"|| bet.result === \"L\" || bet.Result ===\"P\"){\r\n              settled.push(bet);\r\n          }else{\r\n              open.push(bet);\r\n          }\r\n      })\r\n      props.setOpenBets(open);\r\n      props.setSettledBets(settled);\r\n    }\r\n\r\n    fetchBets();\r\n  },[props.user_id])\r\n\r\n  return (\r\n    <>\r\n      <Form className=\"hidden-lg\">\r\n        <Form.Row>                    \r\n          <Col>\r\n              <Form.Control as=\"select\" onChange={(e)=>setActiveTab(e.target.value)}>\r\n                <option key=\"posts\" value=\"posts\">Posts</option>\r\n                <option key=\"open\" value=\"open\">{\"Open (\"+props.openBets.length+\")\"}</option>\r\n                <option key=\"settled\" value=\"settled\">Settled</option>\r\n              </Form.Control>\r\n          </Col>\r\n        </Form.Row>\r\n      </Form>\r\n      {/* Display when screens are large */}\r\n      <Tabs fill activeKey={activeTab} onSelect={(k)=>setActiveTab(k)} id=\"contestsTab\" className=\"hidden-md\">\r\n          <Tab eventKey=\"posts\" title=\"Posts\">\r\n             \r\n          </Tab>\r\n          <Tab eventKey=\"open\" title={\"Open (\"+props.openBets.length+\")\"}>\r\n              <OpenBets />\r\n          </Tab>\r\n          <Tab eventKey=\"settled\" title=\"Settled\">\r\n              <SettledBets />\r\n          </Tab>\r\n      </Tabs>   \r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user_id: state.user.ID,\r\n    openBets: state.user.openBets,\r\n    settledBets: state.user.settledBets\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = ( dispatch ) => {\r\n  return{\r\n    setOpenBets: bets => { dispatch({type: 'SET_OPEN_BETS', bets: bets })},      \r\n    setSettledBets: bets => { dispatch({type: 'SET_SETTLED_BETS', bets: bets })},\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);","import React, { useEffect } from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport { useAuth0 } from \"../../react-auth0-spa\";\r\n\r\nconst PrivateRoute = ({ component: Component, path, ...rest }) => {\r\n  const { loading, isAuthenticated, loginWithRedirect } = useAuth0();\r\n\r\n  useEffect(() => {\r\n    if (loading || isAuthenticated) {\r\n      return;\r\n    }\r\n    const fn = async () => {\r\n      await loginWithRedirect({\r\n        appState: {targetUrl: window.location.pathname}\r\n      });\r\n    };\r\n    fn();\r\n  }, [loading, isAuthenticated, loginWithRedirect, path]);\r\n\r\n  const render = props =>\r\n    isAuthenticated === true ? <Component {...props} /> : null;\r\n\r\n  return <Route path={path} render={render} {...rest} />;\r\n};\r\n\r\nexport default PrivateRoute;","import React from 'react'\r\nimport {Table} from 'react-bootstrap'\r\nimport formatTime from '../../../utils/formatTime';\r\n\r\nconst FixturesTable  = (props) => {\r\n    return (\r\n        <Table>\r\n            <thead>\r\n                <tr>\r\n                    <th colSpan=\"2\">Fixtures Needing Results</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.fixts.length > 0 ?\r\n                    props.fixts.map(fixt=>{\r\n                        return(\r\n                            <tr key={fixt.fixture_id} onClick={()=>props.setSelected(fixt)}> \r\n                                <td>\r\n                                    {formatTime(fixt.fixture.commence_time)}\r\n                                </td>\r\n                                <td>\r\n                                    {fixt.fixture.home_team +\" vs. \"+fixt.fixture.away_team}\r\n                                </td>\r\n                            </tr>\r\n                        )\r\n                    })\r\n                        :\r\n                    <></>\r\n                }\r\n             \r\n            </tbody>\r\n        </Table>\r\n    )\r\n\r\n}\r\n\r\nexport default FixturesTable","function isEmpty(obj) {\r\n    return Object.keys(obj).length === 0;\r\n};\r\nexport default isEmpty;","\r\n\r\nimport React, {useState} from 'react';\r\nimport { Form, Card, Col, Button, Alert} from 'react-bootstrap';\r\nimport isEmpty from '../../../utils/isEmpty';\r\n\r\nconst EnterResult = (props) => {\r\n    const [homeScore, setHomeScore] = useState();\r\n    const [awayScore, setAwayScore] = useState();\r\n    const [error, setError] = useState();\r\n    \r\n    //Update fixture results  in database\r\n    const updateFixture = async () => {\r\n        //api parameters to update results\r\n        let body = {\r\n            fixt_id : props.fixt.fixture_id,\r\n            results :  {     \r\n                home_score : homeScore, \r\n                away_score : awayScore\r\n            }\r\n        };\r\n        const url ='https://api.lineleaders.net/fixtures/updateResults'\r\n        const options = {\r\n            method:'POST',\r\n            headers:{\r\n                'Content-Type': 'application/json;charset=UTF-8'\r\n            }, \r\n            body: JSON.stringify(body)\r\n        }\r\n\r\n        //call api\r\n        fetch(url, options)\r\n            .then(response=> {\r\n                props.removeFixt(props.fixt.fixture_id);\r\n            })\r\n            .catch(err=>{\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    //function to add results to fixture and update database \r\n    const checkResults = () => {\r\n        //make sure scores are valid \r\n        if(isNaN(homeScore) || isNaN(awayScore) || awayScore < 0 || homeScore < 0){\r\n            setError(<Alert variant='danger'>Enter a valid score in order to save</Alert>)\r\n        }else{\r\n            setError()\r\n            //add to database\r\n            updateFixture();\r\n        } \r\n    }\r\n\r\n    return (    \r\n        <Card>\r\n            <Card.Header>\r\n                Enter Results\r\n            </Card.Header>\r\n            <Card.Body>\r\n                {!isEmpty(props.fixt) ? \r\n                    <Form> \r\n                        <Form.Row> \r\n                            <Col> \r\n                                <Form.Control type=\"number\" onChange={(e)=>setAwayScore(e.target.value)}></Form.Control>\r\n                            </Col>\r\n                            <Form.Label column>{props.fixt.fixture.away_team}</Form.Label>\r\n                        </Form.Row>\r\n                        <Form.Row> \r\n                            <Col> \r\n                                <Form.Control type=\"number\"  onChange={(e)=>setHomeScore(e.target.value)}></Form.Control>\r\n                            </Col>\r\n                            <Form.Label column>{props.fixt.fixture.home_team}</Form.Label>\r\n                        </Form.Row>\r\n                        <Form.Row> \r\n                            {error}\r\n                            <Button onClick={()=>checkResults()}>Save Results</Button>\r\n                        </Form.Row>\r\n                        \r\n                    </Form>\r\n                        :\r\n                    <></>\r\n                }\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n\r\n}\r\n\r\nexport default EnterResult\r\n\r\n","import React, {useEffect, useState} from 'react'\r\nimport {Row, Col} from 'react-bootstrap';\r\n\r\nimport FixturesTable from './FixturesTable';\r\nimport EnterResult from './EnterResult';\r\n\r\nconst NeedResultsPage = () => {\r\n    const [needResults, setNeedResults] = useState([]);\r\n    const [selectedFixt, setSelectedFixt] = useState({});\r\n    \r\n    //Run on render\r\n    useEffect(()=>{\r\n        const fetch_needsResults = async()=>{\r\n            const response = await fetch('https://api.lineleaders.net/fixtures/needResults');\r\n            const fixts = await response.json();\r\n            setNeedResults(fixts);\r\n        }\r\n\r\n        fetch_needsResults()\r\n    },[])\r\n\r\n    const removeFixt = (id) => { \r\n        setSelectedFixt({});\r\n        let index = needResults.findIndex(fixt => fixt.fixture_id === id)\r\n        let tmp = [...needResults];\r\n        tmp.splice(index, 1);\r\n        setNeedResults(tmp);\r\n    }\r\n\r\n    return (\r\n        <Row>\r\n            <Col md={8}>\r\n                <FixturesTable fixts={needResults} setSelected={setSelectedFixt}/>\r\n            </Col>\r\n            <Col md={4}> \r\n                <EnterResult fixt={selectedFixt} removeFixt={removeFixt}/>\r\n            </Col>\r\n        </Row>   \r\n    )\r\n\r\n}\r\n\r\nexport default NeedResultsPage\r\n\r\n","import React, {useState} from 'react'\r\nimport {Row} from 'react-bootstrap';\r\n\r\n//Components\r\nimport CreateContest from '../forms/createContest/CreateContest';\r\nimport AdminSideBar from '../navs/AdminSideBar';\r\nimport NeedResultsPage from '../admin/fixtureResults/NeedResultsPage';\r\nconst AdminPage = () => {\r\n    const [component, setComponent] = useState(<></>)\r\n\r\n    const close = () => {\r\n        setComponent(<></>)\r\n    }\r\n\r\n    return (\r\n        <Row>   \r\n            <NeedResultsPage />\r\n        </Row>\r\n    )\r\n\r\n}\r\n\r\nexport default AdminPage","import React from 'react';\r\nimport {Table, Button} from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\n\r\nconst MyLiveContests = (props) => {\r\n\r\n    return (\r\n        <Table responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th>Contest Name</th>\r\n                    <th>Style</th>\r\n                    <th></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.contests.map(contest=>(\r\n                    <tr key={contest.intContestID}>\r\n                        <td>{contest.strContestName}</td>\r\n                        <td>{contest.strContestType}</td>\r\n                        <th>{contest.decEntry}</th>\r\n                        <td>\r\n                            <LinkContainer to={\"/live-contest/\"+contest.intContestID+\"/entry/\"+contest.intContestPlayerID}>\r\n                                <Button>\r\n                                    Open\r\n                                </Button>\r\n                            </LinkContainer>    \r\n                        </td>\r\n                    </tr>\r\n                ))}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n\r\n}\r\n\r\nexport default MyLiveContests","// Run calcTime every second\r\nlet updateStartCountdown = (date, i) => {\r\n    const weekday =[\"Mon\",\"Tue\",\"Wed\",\"Thur\",\"Fri\",\"Sat\",\"Sun\"];\r\n    let newdate = new Date(date);\r\n    let now = new Date().getTime();\r\n    let start = new Date(date).getTime();\r\n    let timeleft = start - now;\r\n    let day = new Date(date).getDay();\r\n    let hour = new Date(date).getHours();\r\n    let ampm = hour >= 12 ? 'pm' : 'am';\r\n    if(hour > 12){\r\n        hour -= 12\r\n    }\r\n    \r\n    // Calculating the days, hours, minutes and seconds left\r\n    let days = Math.floor(timeleft / (1000 * 60 * 60 * 24));\r\n    let hours = Math.floor((timeleft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n    let minutes = Math.floor((timeleft % (1000 * 60 * 60)) / (1000 * 60));\r\n    let seconds = Math.floor((timeleft % (1000 * 60)) / 1000);\r\n    \r\n    let countdown=\"\";\r\n    // Display the message when countdown is over\r\n    if (timeleft < 0) {\r\n        countdown = \"TIME UP!!\";\r\n    }else{\r\n        if(days < 1){\r\n            countdown = hours+\":\"+ minutes+\":\"+ seconds;\r\n        }else if(days <= 6){\r\n            countdown = weekday[day-1]+\" \"+hour+ampm;\r\n        }else{\r\n            countdown = newdate.getMonth()+1+\"/\"+newdate.getDate()+\" \"+hour+ampm;\r\n\r\n\r\n        }\r\n    }; \r\n\r\n    let elementID=\"countdown\"+i;\r\n    document.getElementById(elementID).innerHTML = countdown;    \r\n};\r\n\r\nexport default updateStartCountdown;","import React, { useEffect} from 'react'\r\nimport {Table} from 'react-bootstrap';\r\nimport updateStartCountdown from '../../../utils/startCountdown';\r\n\r\nconst MyUpcomingContests = (props) => {\r\n    let contests = props.contests;\r\n\r\n    //Effect to update countdown \r\n    useEffect(()=>{\r\n        if(contests.length > 0){\r\n            var countdowns = setInterval(()=>{\r\n                contests.forEach((contest, i)=>{\r\n                    updateStartCountdown(contest.dtmStart, i);\r\n                })\r\n            },1000)\r\n        }\r\n\r\n        //Cleanup interval on component unmount\r\n        return function cleanup() {\r\n            clearInterval(countdowns);       \r\n        };\r\n    });\r\n\r\n    return (\r\n        <Table responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th>Contest Name</th>\r\n                    <th>Live In</th>\r\n                    <th>Game Style</th>\r\n                    <th>Entry Fee</th>\r\n                    <th>Prizes</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.contests.map((contest, i)=>(\r\n                    <tr key={contest.intContestID+i}>\r\n                        <td>{contest.strContestName}</td>\r\n                        <td id={\"countdown\"+i}></td>\r\n                        <td>{contest.strContestType}</td>\r\n                        <td>${contest.decEntryFee}</td>\r\n                        <td>${contest.decPrizePool}</td>\r\n                    </tr>\r\n                ))}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n}\r\n\r\nexport default MyUpcomingContests","import React from 'react'\r\nimport {Table} from 'react-bootstrap';\r\n\r\nconst MyHistoryContests = (props) => {\r\n\r\n    return (\r\n        <Table responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th>Contest Name</th>\r\n                    <th>Style</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.contests.map(contest=>(\r\n                    <tr key={contest.intContestID}>\r\n                        <td>{contest.strContestName}</td>\r\n                        <td>{contest.strContestType}</td>\r\n                    </tr>\r\n                ))}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n\r\n}\r\n\r\nexport default MyHistoryContests","import React from 'react';\r\nimport {Modal} from 'react-bootstrap';\r\n\r\nconst ContestDetails = (props) => {\r\n    let contest = props.contest;\r\n\r\n    return (\r\n        <Modal show={props.show} onHide={props.onHide}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Contest Details</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <p>Type: {contest.contestType}</p>\r\n                <p>ID: {contest.contestID}</p>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n\r\n}\r\n\r\nexport default ContestDetails","import React, { useState, useEffect } from 'react';\r\nimport {Tabs, Tab, Spinner} from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\n\r\n//Components \r\nimport MyLiveContests from '../individual/MyContests/MyLiveContests';\r\nimport MyUpcomingContests from '../individual/MyContests/MyUpcomingContests';\r\nimport MyHistoryContests from '../individual/MyContests/MyHistoryContests';\r\n\r\nconst ContestsPage = (props) => {\r\n    const [contests, setContests] = useState([]);\r\n    const [liveContests, setLiveContests] = useState([]);\r\n    const [upcomingContests, setUpcomingContests] = useState([]);\r\n    const [historyContests, setHistoryContests] = useState([]);\r\n    const [display, setDisplay] = useState(false);\r\n\r\n    //Set display to true after 3 seconds\r\n    setTimeout(function() {\r\n        setDisplay(true)\r\n    }, 1000);\r\n\r\n    useEffect(()=>{\r\n        const fetchMyContests = async ()=> {\r\n            const response = await fetch('https://api.lineleaders.net/contests/myContests?ID='+props.accountID);\r\n            const contests = await response.json();\r\n            setContests(contests);\r\n        }\r\n\r\n        fetchMyContests();\r\n    },[props])\r\n\r\n\r\n    useEffect(()=>{\r\n        if(contests.length > 0){\r\n            let active = [];\r\n            let upcoming = [];\r\n            let history = [];\r\n            let count = 0;\r\n\r\n            contests.forEach(contest => {\r\n                //upcoming (Or open in DB)\r\n                if(contest.intContestStatusID == 1){\r\n                    upcoming.push(contest)\r\n                }\r\n                // active\r\n                else if(contest.intContestStatusID == 2){\r\n                    active.push(contest)\r\n                }\r\n                // history (complete)\r\n                else if(contest.intContestStatusID == 3){\r\n                    history.push(contest)\r\n                }\r\n                count++;\r\n            })\r\n            if(count == contests.length ){\r\n                setLiveContests(active);\r\n                setUpcomingContests(upcoming);\r\n                setHistoryContests(history);            \r\n            }\r\n        }\r\n    },[contests])\r\n\r\n    if(contests.length > 0 && display===true){ \r\n\r\n        return (\r\n            <>\r\n                <h3>MY CONTESTS</h3>\r\n                <Tabs fill defaultActiveKey=\"live\" id=\"contestsTab\">\r\n                    <Tab eventKey=\"live\" title=\"LIVE\">\r\n                        <MyLiveContests contests={liveContests} />\r\n                    </Tab>  \r\n                    <Tab eventKey=\"upcoming\" title=\"UPCOMING\">\r\n                        <MyUpcomingContests contests={upcomingContests} />\r\n                    </Tab>\r\n                    <Tab eventKey=\"history\" title=\"HISTORY\">\r\n                        <MyHistoryContests contests={historyContests} />\r\n                    </Tab>\r\n                </Tabs>\r\n            </>\r\n        )\r\n    }else return (\r\n        <>\r\n            <Spinner animation=\"border\"/>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        accountID: state.user.ID\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(ContestsPage);","const formatCurrency = (num) => {\r\n    let formatted = Number(num).toLocaleString('en-US', { style: 'currency', currency: 'USD' });\r\n    return formatted;\r\n}  \r\n\r\nexport default formatCurrency;","import React, {useState, useEffect} from 'react';\r\nimport {Row, Col, Table, Button} from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport ContestDetails from './ContestDetails';\r\nimport updateStartCountdown from '../../../utils/startCountdown';\r\n\r\n/*  Contest Object Structure\r\n        {\r\n            contestID: Number, \r\n            contestLeagues: [\r\n                {\r\n                    leagueID: Number, \r\n                    leagueName: String\r\n                }   \r\n            ],\r\n            entry: Number, \r\n            bankroll: Number, \r\n            prizepool: Number,\r\n            start: Date, \r\n            end: Date, \r\n            minPlayers: Number, \r\n            maxPlayers: Number\r\n        }\r\n*/\r\n\r\n/*    NOTES \r\n\r\n        - min + max players are hardcoded currently \r\n        - Start time needs to be countdown within 24 hrs or day + time if > 24 hrs away\r\n        - Make sure time is being translated to the right timezone\r\n*/\r\n\r\nconst OpenContests = (props) => {\r\n    const contests = props.contests;\r\n    const [expandedContest, setExpandedContest] = useState({});\r\n    const [showDetail, setShowDetail] = useState(false);\r\n    const handleClose = () => setShowDetail(false);\r\n    const handleShow = () => setShowDetail(true);\r\n\r\n    //Enter contest \r\n    const enterContest = async (contestID) => {\r\n        const body = {\r\n            contestID: contestID,\r\n            accountID: props.accountID\r\n        };\r\n\r\n        const opts = {\r\n            method: \"POST\",\r\n            body: JSON.stringify(body),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"        \r\n            }\r\n        }\r\n\r\n        const url = \"https://api.lineleaders.net/contests/enter\";\r\n\r\n        //enter contest\r\n        fetch(url, opts)\r\n        .then(response=> {\r\n            console.log(response.json())\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    //Effect to update countdown \r\n    useEffect(()=>{\r\n        if(contests.length > 0){\r\n            var countdowns = setInterval(()=>{\r\n                contests.forEach((contest, i)=>{\r\n                    updateStartCountdown(contest.start, i);\r\n                })\r\n            },1000)\r\n        }\r\n\r\n        //Cleanup interval on component unmount\r\n        return function cleanup() {\r\n            clearInterval(countdowns);       \r\n        };\r\n    });\r\n\r\n    //Handle open detail\r\n    const handleOpenDetail = async (contest) => {\r\n        await setExpandedContest(contest)\r\n        setShowDetail(true)\r\n    }\r\n\r\n    return (\r\n        <Row>\r\n            <Col>\r\n                <h3>Open Contests</h3>\r\n                <Table responsive>  \r\n                    <thead>\r\n                        <tr>\r\n                            <th>Contest Name</th>\r\n                            <th className=\"hidden-md\">Style</th>\r\n                            <th>Entry Fee</th>\r\n                            <th>Prizepool</th>\r\n                            <th className=\"hidden-md\">Entries</th>\r\n                            <th className=\"hidden-md\">Bankroll</th>\r\n                            <th>Start</th>\r\n                            <th className=\"hidden-md\"></th>\r\n                            <th></th>\r\n                        </tr>\r\n                    </thead>               \r\n                    <tbody>   \r\n                        {contests.map((contest,i)=>{\r\n                            return(\r\n                                <tr key={contest.contestID}>\r\n                                    <td>{contest.name}</td>\r\n                                    <td className=\"hidden-md\">{contest.contestType}</td>\r\n                                    <td>${contest.entry}</td>\r\n                                    <td>${contest.prizepool}</td>\r\n                                    <td className=\"hidden-md\">Entries(need calculated)</td>\r\n                                    <td className=\"hidden-md\">${contest.bankroll}</td>\r\n                                    <td id={\"countdown\"+i}></td>\r\n                                    <td className=\"hidden-md\"><Button onClick={()=>handleOpenDetail(contest)}>Details</Button></td>\r\n                                    <td><Button onClick={()=>enterContest(contest.contestID)}>Enter</Button></td>\r\n                                </tr>\r\n                            )\r\n                        })}\r\n                    </tbody>\r\n                </Table>            \r\n            </Col> \r\n            <ContestDetails contest={expandedContest} show={showDetail} onHide={handleClose}/> \r\n        </Row>     \r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        accountID: state.user.ID\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(OpenContests);","import React from 'react'\r\nimport {Table} from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport formatCurrency from '../../../utils/formatCurrency';\r\nimport '../../../css/global/tables.css'\r\n\r\nconst Leaderboard = (props) => {\r\n    console.log(props)\r\n    return (\r\n        <Table responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th>Place</th>\r\n                    <th>Username</th>\r\n                    <th>Bankroll</th>\r\n                    <th>W/L</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.leaderboards.map((contestant, i) => {\r\n                    let record =\"\";\r\n                    let bankroll = formatCurrency(contestant.bankroll)\r\n                    if(contestant.p > 0){\r\n                        record = contestant.w +\"-\"+ contestant.l +\"-\"+ contestant.p\r\n                    }else{\r\n                        record = contestant.w +\"-\"+ contestant.l\r\n                    }\r\n                    return(\r\n                        <tr key={contestant.id}>\r\n                            <td>{i+1}</td>\r\n                            <td>{contestant.email}</td>\r\n                            <td>{bankroll}</td>\r\n                            <td>{record}</td>\r\n                        </tr>\r\n                    )\r\n                })}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n      leaderboards: state.contest.leaderboards,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Leaderboard);\r\n","//function to convert odds to american\r\nconst convertOdds = (odds) => {\r\n    let parsedOdds = parseFloat(odds);\r\n    let americanOdds =\"\";\r\n    if(parsedOdds === 2){\r\n        americanOdds = 'EVEN'\r\n    }else if(parsedOdds < 2){\r\n        americanOdds = Math.round(-100/(parsedOdds-1))\r\n    }else if(parsedOdds > 2){\r\n        americanOdds = \"+\"+Math.round((parsedOdds-1)*100)\r\n    }\r\n    return americanOdds;\r\n}\r\n\r\nexport default convertOdds;","import React from 'react'\r\nimport convertOdds from '../../../../utils/convertOdds';\r\nimport formatTime from '../../../../utils/formatTime';\r\n\r\nconst Leg = (props) => {\r\n    let leg = props.leg\r\n    let time = formatTime(leg.fixture.time)\r\n\r\n    if(leg.line.type === \"Moneyline\"){\r\n        return (\r\n            <td>\r\n                    <b>{leg.line.team.type === \"Draw\" ? \r\n                        leg.line.team.type\r\n                            :\r\n                        leg.line.team.name\r\n                    }</b>\r\n                    <br/>{leg.fixture.fixture}\r\n                    <br/>{time}\r\n            </td>\r\n        )\r\n    }else if(leg.line.type === \"Spread\"){\r\n        let line;\r\n        if(leg.line.line > 0){\r\n            line = leg.line.line;\r\n        }else{\r\n            line = leg.line.line;\r\n        }\r\n        return (\r\n            <td>\r\n                <b>{leg.line.team.name + \" \" + line}</b>\r\n                <br/>{leg.fixture.fixture}\r\n                <br/>{time}\r\n            </td>\r\n        )\r\n    }else if(leg.line.type === \"Total\"){\r\n        return (\r\n            <td>\r\n                <b>{leg.line.bet + \" \" + leg.line.line}</b>\r\n                <br/>{leg.fixture.fixture}\r\n                <br/>{time}\r\n            </td>\r\n        )\r\n    }\r\n    return(\r\n        <></>\r\n    )\r\n}\r\n\r\nexport default Leg","import React from 'react';\r\nimport {Table } from 'react-bootstrap';\r\nimport convertOdds from '../../../../utils/convertOdds';\r\nimport Leg from './Leg';\r\nimport '../../../../css/betsTable.css';\r\nimport { connect } from 'react-redux';\r\n\r\nconst SettledBets = (props) => {    \r\n    return (\r\n        <Table responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th>Type</th>\r\n                    <th>Line(s)</th>\r\n                    <th>Odds</th>\r\n                    <th>Risk</th>\r\n                    <th>Win</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.settledBets.map(bet=>{\r\n                    if(bet.type === \"Straight\"){\r\n                        const leg = bet.legs[0];\r\n                        //calc win field\r\n                        let win = bet.odds - 1;\r\n                        win = (win * bet.wager).toFixed(2)\r\n                        return(\r\n                            <tr className={\"bet\"+bet.result}>\r\n                                <td>{bet.type}</td>\r\n                                <Leg leg={leg} />\r\n                                <td>{convertOdds(bet.odds)}</td>\r\n                                <td>{\"$\"+parseFloat(bet.wager).toFixed(2)}</td>\r\n                                {bet.result === \"W\" ? <td>{\"+$\"+win}</td> :<></>}\r\n                                {bet.result === \"L\" ? <td>{\"-$\"+parseFloat(bet.wager).toFixed(2)}</td> :<></>}\r\n                                {bet.result === \"P\" ? <td>{\"-\"}</td> :<></>}\r\n                            </tr>\r\n                        )\r\n                    }else{\r\n                        return <></>;\r\n                    }\r\n                })}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        settledBets: state.contest.settledBets\r\n    }\r\n  }\r\n\r\n  export default connect(mapStateToProps)(SettledBets);\r\n","import React from 'react';\r\nimport {Table } from 'react-bootstrap';\r\nimport convertOdds from '../../../../utils/convertOdds';\r\nimport Leg from './Leg';\r\nimport '../../../../css/betsTable.css';\r\nimport { connect } from 'react-redux';\r\n\r\nconst OpenBets = (props) => {    \r\n    return (\r\n        <Table responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th>Type</th>\r\n                    <th>Line(s)</th>\r\n                    <th>Odds</th>\r\n                    <th>Risk</th>\r\n                    <th>Win</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.openBets.map(bet=>{\r\n                    if(bet.type === \"Straight\"){\r\n                        const leg = bet.legs[0];\r\n                        //calc win field\r\n                        let win = bet.odds - 1;\r\n                        win = (win * bet.wager).toFixed(2)\r\n                        return(\r\n                            <tr className={\"openBet\"}>\r\n                                <td>{bet.type}</td>\r\n                                <Leg leg={leg} />\r\n                                <td>{convertOdds(bet.odds)}</td>\r\n                                <td>{\"$\"+parseFloat(bet.wager).toFixed(2)}</td>\r\n                                <td>{\"$\"+win}</td>\r\n                            </tr>\r\n                        )\r\n                    }else{\r\n                        return <></>;\r\n                    }\r\n                })}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        openBets: state.contest.openBets\r\n    }\r\n  }\r\n\r\n  export default connect(mapStateToProps)(OpenBets);\r\n","import React, {useState, useEffect} from 'react';\r\nimport {Col, Form, Table} from 'react-bootstrap';\r\nimport formatTime from '../../../../utils/formatTime';\r\n\r\nconst Bet = (props) => {\r\n    const [risk, setRisk] = useState(\"\");\r\n    const [win, setWin] = useState(\"\");\r\n    const bet = props.bet;\r\n    //index of bet in array\r\n    const i = props.i;\r\n\r\n    //Run whenever risk is set, set win variable and setWager on bet in array \r\n    useEffect(()=>{\r\n        if(risk !== \"\"){\r\n            let odds = parseFloat(bet.odds.american);\r\n            let tmpRisk = parseFloat(risk);\r\n            let tmpWin;\r\n            if(odds > 0){\r\n                tmpWin = parseFloat(tmpRisk*parseFloat(odds)/100).toFixed(2);\r\n            }else{\r\n                odds = Math.abs(odds);\r\n                let denom = odds/100;\r\n                tmpWin = parseFloat(tmpRisk/ denom).toFixed(2);\r\n            }\r\n            setWin(tmpWin);\r\n        }else{\r\n            setWin(\"\")\r\n        }\r\n\r\n        props.addWager(bet.id, risk)\r\n\r\n    },[risk])\r\n\r\n    //Function to toggle bet details \r\n    const toggleDetails = (i) => {\r\n        let detailRows = document.getElementsByClassName(\"betDetails\"+i);\r\n        let arrow = document.getElementById(\"arrow\"+i);\r\n\r\n        for(let i =0; i < detailRows.length; i++){\r\n            if(detailRows[i].style.display === 'none'){\r\n                detailRows[i].style.display = '';\r\n                arrow.classList.remove(\"right\");\r\n                arrow.classList.add(\"down\");\r\n            }else{\r\n                detailRows[i].style.display = 'none';\r\n                arrow.classList.remove(\"down\");\r\n                arrow.classList.add(\"right\");\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Table className=\"bet\">\r\n            <tbody>\r\n                <tr>\r\n                    {(bet.type === \"Spread\") ? \r\n                        <td onClick={()=>toggleDetails(i)}><i className=\"arrow right\" id={\"arrow\"+i} ></i> {bet.bet+\" \"+bet.handicap}</td>\r\n                    : \r\n                    (bet.type === \"Total\") ?\r\n                        <td onClick={()=>toggleDetails(i)}><i className=\"arrow right\" id={\"arrow\"+i} ></i> {bet.bet+\" \"+bet.total} </td>\r\n                    :\r\n                        <td onClick={()=>toggleDetails(i)}><i className=\"arrow right\" id={\"arrow\"+i} ></i> {bet.bet}</td>\r\n                    }\r\n                    <td className=\"odds\">{bet.odds.american} <i onClick={()=>props.removeBets([bet.id])}>&times;</i></td> \r\n                </tr>\r\n                <tr>\r\n                    <td colSpan={2}>{bet.type}</td>\r\n                </tr>\r\n                <tr style={{display:'none'}} className={\"betDetails\"+i}>\r\n                    <td  colSpan={2}>{bet.fixture}</td>\r\n                </tr>\r\n                <tr style={{display:'none'}} className={\"betDetails\"+i}>\r\n                    <td colSpan={2}>{formatTime(bet.time)}</td>\r\n                </tr>\r\n                {props.slipType === \"Straight\" ? \r\n                    <tr>\r\n                        <td colSpan={2}>\r\n                            <Form>\r\n                                <Form.Row>\r\n                                    <Form.Group as={Col}>\r\n                                        <Form.Control type=\"number\" placeholder=\"Risk\" value={risk} onChange={(e)=>setRisk(e.target.value)}/>\r\n                                    </Form.Group> \r\n                                    <Form.Group as={Col}>\r\n                                        <Form.Control type=\"text\"  tabIndex=\"-1\" placeholder=\"Win\" value={win} readOnly/>\r\n                                    </Form.Group> \r\n                                </Form.Row>\r\n                            </Form>\r\n                        </td>   \r\n                    </tr>\r\n                    :\r\n                    <></>\r\n                }    \r\n            </tbody>\r\n        </Table>    \r\n    )\r\n}\r\n\r\nexport default Bet","let model = {\r\n    type: String, // Straight-Parlay-Teaser-RoundRobin\r\n    wager: Number, // Wager amount\r\n    odds: Number, // Total odds for bet\r\n    result: String //W-L\r\n}\r\n\r\nlet Leg = {\r\n    fixture: {\r\n        fixtureID: Number, // id of fixture, \r\n        fixture: String, //Fixture\r\n        time: Number // Time in epoch\r\n    },\r\n    line: Object, // ML-Spread-Total-Prop \r\n    odds: Number, //Odds for leg\r\n    result: String\r\n}\r\n\r\nlet ML = {\r\n    type: \"Moneyline\",\r\n    team: {\r\n        type: String, // Home-Away-Draw\r\n        name: String, // team name\r\n    }\r\n}\r\n\r\nlet Spread = {\r\n    type: \"Spread\",\r\n    team: {\r\n        type: String, // Home-Away\r\n        name: String // team name\r\n    },\r\n    line: Number // Point spread,\r\n}\r\n\r\nlet Total = {\r\n    type: \"Total\",\r\n    bet: String, // Over-Under\r\n    line: Number // Score Line\r\n}\r\n\r\nexport{\r\n    model, ML, Spread, Total, Leg\r\n}\r\n","/*function to fetch bets by contest entry id\r\nformats bet into bets object containing open and settled bets\r\nreturns bets object\r\n*/\r\nconst fetchContestBets = async(entryid) => {\r\n    const response = await fetch('https://api.lineleaders.net/bets/byEntry?entryid='+entryid);\r\n    const json = await response.json();\r\n    //separate into open and settled and set redux state\r\n    \r\n    let bets = {\r\n        open : [],\r\n        settled : []\r\n    } \r\n\r\n    json.forEach(bet=>{\r\n        if(bet.result === \"W\"|| bet.result === \"L\" || bet.Result ===\"P\"){\r\n            bets.settled.push(bet);\r\n        }else{\r\n            bets.open.push(bet);\r\n        }\r\n    })\r\n    return bets;\r\n}\r\n\r\nexport default fetchContestBets;","import React from 'react'\r\nimport {Modal, Button} from 'react-bootstrap';\r\n\r\n/* \r\nComponent takes following props\r\nshow - boolean to show or hide modal\r\nclose - function to set parent variable that handles display of modal to false\r\naction - call back funtion to action on clicking button\r\nbuttonText - text to display on button\r\nmessage - title text for modal\r\n*/\r\n\r\nconst ConfirmationModal = (props) => {\r\n    return (\r\n        <Modal show={props.show} onHide={props.close}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>{props.message}</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={props.close}>\r\n                    Close\r\n                </Button>\r\n                <Button variant=\"primary\" onClick={props.action}>\r\n                    {props.buttonText}\r\n                </Button>\r\n                </Modal.Footer>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default ConfirmationModal","import React, { useState } from 'react';\r\nimport {Card, Button, Alert} from 'react-bootstrap';\r\nimport '../../../../css/betslip.css';\r\nimport Bet from './Bet';\r\nimport {model, ML, Spread, Total, Leg} from '../../../../models/bet/bet';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\nimport fetchContestBets from '../../../../api/bets/fetchContestBets';\r\nimport ConfirmationModal from '../../../shared/ConfirmationModal';\r\n\r\nconst BetSlip = (props) => {\r\n    const match = useRouteMatch();\r\n    const [error, setError] = useState();\r\n    const [showConfirm, setShowConfirm] = useState(false);\r\n    let bets = props.bets;\r\n    //State variable to hold slip type (straight, parlay, etc.)\r\n    const [slipType, setSlipType] = useState(\"Straight\")\r\n    const [records, setRecords] = useState([]);\r\n\r\n    //add wager amount to Straight bet \r\n    const addWager = (id, wager) => {\r\n        //find index\r\n        const index = bets.map(bet => bet.id).indexOf(id);\r\n        let tmpBets = bets;\r\n        tmpBets[index].wager = wager;\r\n        bets = tmpBets;\r\n    }\r\n\r\n    //Function to format straight bets in records for db storage\r\n    const formatStraightBet = (bet) =>{\r\n        //create instance of bet model obj and add properties\r\n        let betModel = {...model};\r\n        betModel.type = slipType;\r\n        betModel.wager = bet.wager;\r\n        betModel.odds = bet.odds.decimal;\r\n        betModel.result = \"\";\r\n        \r\n        //create instance of leg obj \r\n        let leg = {...Leg};\r\n\r\n        let legType = bet.type;\r\n        if(legType === \"Spread\"){\r\n            //create instance of spread line object \r\n            let spread = {...Spread}; \r\n            spread.team = {...spread.team}\r\n            spread.team.type = bet.team.type;\r\n            spread.team.name = bet.team.name;\r\n            spread.line = bet.handicap;\r\n            leg.fixture = {...leg.fixture}\r\n            leg.fixture.fixtureID = bet.fixtureID; \r\n            leg.fixture.fixture = bet.fixture; \r\n            leg.fixture.time = bet.time; \r\n            leg.line = spread;\r\n            leg.odds = bet.odds.decimal;\r\n            leg.result =\"\";\r\n        }else if(legType === \"3-Way Moneyline\"){\r\n            //create instance of ML line object\r\n            let ml = {...ML}; \r\n            ml.team = {...ml.team}\r\n            ml.team.type = bet.team.type;\r\n            ml.team.name = bet.team.name;\r\n            leg.fixture = {...leg.fixture}\r\n            leg.fixture.fixtureID = bet.fixtureID; \r\n            leg.fixture.fixture = bet.fixture; \r\n            leg.fixture.time = bet.time;             \r\n            leg.line = ml;\r\n            leg.odds = bet.odds.decimal; \r\n            leg.result =\"\";       \r\n        }else if(legType === \"Total\"){\r\n            //create instance of Total line object\r\n            let total = {...Total}; \r\n            total.bet = bet.bet;\r\n            total.line = bet.total;\r\n            leg.fixture = {...leg.fixture}\r\n            leg.fixture.fixtureID = bet.fixtureID; \r\n            leg.fixture.fixture = bet.fixture; \r\n            leg.fixture.time = bet.time; \r\n            leg.line = total;\r\n            leg.odds = bet.odds.decimal;\r\n            leg.result =\"\";\r\n        }\r\n\r\n        return {\r\n            contestPlayerID: match.params.entryid,\r\n            jsonBet: betModel,\r\n            leg: leg\r\n        };\r\n    }\r\n\r\n    //function to validate and confirm bets, then confirm placements of bets\r\n    const validateBets = async() => {\r\n        //check to make sure all bets contain valid wagers and combine wagers from all bets\r\n        let totalWagered = 0;\r\n        //object to hold error\r\n        let error = {\r\n            isError: false,\r\n            message: String\r\n        }\r\n\r\n        await bets.forEach(bet=>{\r\n            if(bet.wager > 0){\r\n                totalWagered = totalWagered + parseFloat(bet.wager);\r\n            }else{\r\n                error.isError = true;\r\n                error.message =\"Please enter a valid wager amount for all bets\";\r\n            }\r\n        })\r\n        //check totalWagered and validate that it is not less than available\r\n\r\n        if(totalWagered > props.available){\r\n            error.isError = true;\r\n            error.message = \"Cash Available: $\"+props.available;\r\n        }\r\n\r\n        //check for error and either insert bets or display error message\r\n        if(error.isError === true){\r\n            setError(<Alert variant='danger'>{error.message}</Alert>)\r\n            return;\r\n        }else{\r\n            //clear any error message, display confirmation box\r\n            setError();\r\n            setShowConfirm(true);\r\n\r\n            //determine type of bet(s) - straight,parlay,etc.\r\n            if(slipType === \"Straight\"){\r\n                let tmpRecords = [];\r\n                //format each bet and set records state array\r\n                bets.forEach(bet=>{\r\n                    let tmpModel = formatStraightBet(bet)\r\n                    tmpRecords.push(tmpModel);\r\n                })\r\n                \r\n                setRecords(tmpRecords);\r\n            }\r\n        }   \r\n    }\r\n\r\n    //Function to insert records into the database\r\n    const insertBetRecords = async() => {\r\n        //close modal\r\n        setShowConfirm(false);\r\n\r\n        //api parameters to create bets\r\n        const body = {\r\n            bets: records\r\n        }\r\n\r\n        const url ='https://api.lineleaders.net/bets/create';\r\n        const options = {\r\n            method:'POST',\r\n            headers:{\r\n                'Content-Type': 'application/json;charset=UTF-8'\r\n            }, \r\n            body: JSON.stringify(body)\r\n        }\r\n\r\n        //call api and check res code\r\n        let response = await fetch(url, options);\r\n        let json = await response.json();\r\n\r\n        //if resources have been created, clear bets array\r\n        if(json.code === 201){\r\n            let ids = [];\r\n            bets.forEach(bet=>{\r\n                ids.push(bet.id);\r\n            })    \r\n            props.removeBets(ids);\r\n\r\n            let contestBets = await fetchContestBets(match.params.entryid);\r\n            props.setOpenBets(contestBets.open);\r\n            props.setSettledBets(contestBets.settled);\r\n        }\r\n    }\r\n\r\n    //Function to handle cancellation of bet submission\r\n    const handleCancellation = () => {\r\n        setRecords([]);\r\n        setShowConfirm(false);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Card >\r\n                <Card.Header>Bet Slip</Card.Header>\r\n                <Card.Body>\r\n                    {bets.map((bet, i)=>{\r\n                    return(\r\n                            <Bet key={i} bet={bet} i={i} removeBets={props.removeBets} slipType={slipType} addWager={addWager}/>\r\n                        )\r\n                    })}\r\n                </Card.Body>\r\n                <Card.Footer>\r\n                    {error}\r\n                    <Button onClick={()=>validateBets()} variant=\"primary\">Place Bet(s)</Button>\r\n                </Card.Footer>\r\n            </Card>\r\n            <ConfirmationModal close={handleCancellation} show={showConfirm} action={insertBetRecords} buttonText=\"Yes\" message={\"Are you ready to place your bets?\"}/>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        available: state.contest.available,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = ( dispatch ) => {\r\n    return{\r\n        setOpenBets: bets => { dispatch({type: 'SET_OPEN_BETS', bets: bets })},      \r\n        setSettledBets: bets => { dispatch({type: 'SET_SETTLED_BETS', bets: bets })}\r\n    }\r\n  }\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BetSlip);\r\n","//Function to check if handicap is number or string like \"0.0, -0.5\"\r\nlet formatHandicap = (handicap) => {\r\n    if(isNaN(handicap)){\r\n        let nums = handicap.split(\",\");\r\n        let total = (parseFloat(nums[0])+parseFloat(nums[1]));\r\n        let formatted = total / 2;\r\n        return(formatted);\r\n    }else{\r\n        return(handicap);\r\n    }\r\n};\r\n\r\nexport default formatHandicap;","import React from 'react';\r\nimport {Table, Row, Form, Col} from 'react-bootstrap';\r\nimport '../../../../../css/fixture.css';\r\nimport '../../../../../css/dropdownArrow.css'\r\nimport '../../../../../css/global/fixtures.css';\r\nimport convertOdds from '../../../../../utils/convertOdds';\r\nimport formatHandicap from '../../../../../utils/formatHandicap';\r\nimport isEmpty from '../../../../../utils/isEmpty';\r\n\r\nconst FootballFixts = (props) => {\r\n\r\n    //function to add bet \r\n    const addBet = (fixture, bettype) => {\r\n        let tmp = [...props.bets];\r\n        let bet = {\r\n            id : bettype+\"-\"+fixture.id,\r\n            time : fixture.time,\r\n            wager: Number,\r\n            fixture : fixture.away.name+\" vs \"+fixture.home.name,\r\n            fixtureID : fixture.id\r\n        };\r\n        //Format Bet\r\n        switch (bettype){\r\n            case \"away-spread\" : \r\n                 bet.bet = fixture.away.name;\r\n                 bet.odds = {\r\n                    american:convertOdds(fixture.odds.main.sp.game_lines.odds[3].odds),\r\n                    decimal:fixture.odds.main.sp.game_lines.odds[3].odds\r\n                }\r\n                 bet.handicap = formatHandicap(fixture.odds.main.sp.game_lines.odds[3].handicap);\r\n                 bet.type = \"Spread\";\r\n                 bet.team = {\r\n                     type: \"Away\",\r\n                     name: fixture.away.name\r\n                 }\r\n                break;\r\n            case \"away-ml\" : \r\n                bet.type = \"3-Way Moneyline\";\r\n                bet.bet = fixture.away.name;\r\n                bet.odds = {\r\n                    american:convertOdds(fixture.odds.main.sp.game_lines.odds[5].odds),\r\n                    decimal:fixture.odds.main.sp.game_lines.odds[5].odds\r\n                }\r\n                bet.team = {\r\n                    type: \"Away\",\r\n                    name: fixture.away.name\r\n                }\r\n            break;\r\n            case \"home-spread\" : \r\n                bet.bet = fixture.home.name;\r\n                bet.handicap = formatHandicap(fixture.odds.main.sp.game_lines.odds[0].handicap);\r\n                bet.odds = {\r\n                    american:convertOdds(fixture.odds.main.sp.game_lines.odds[0].odds),\r\n                    decimal:fixture.odds.main.sp.game_lines.odds[0].odds\r\n                }\r\n                bet.type = \"Spread\";  \r\n                bet.team = {\r\n                    type: \"Home\",\r\n                    name: fixture.home.name\r\n                }\r\n            break;\r\n            case \"home-ml\" : \r\n                bet.bet = fixture.home.name;\r\n                bet.odds = {\r\n                    american:convertOdds(fixture.odds.main.sp.game_lines.odds[2].odds),\r\n                    decimal:fixture.odds.main.sp.game_lines.odds[2].odds\r\n                }\r\n                bet.type = \"3-Way Moneyline\";\r\n                bet.team = {\r\n                    type: \"Home\",\r\n                    name: fixture.home.name\r\n                }\r\n                break;\r\n            case \"over\" : \r\n                let over = fixture.odds.main.sp.game_lines.odds[1].handicap.match(/[+-]?\\d+(\\.\\d+)?/g);\r\n                bet.odds = {\r\n                    american:convertOdds(fixture.odds.main.sp.game_lines.odds[1].odds),\r\n                    decimal:fixture.odds.main.sp.game_lines.odds[1].odds  \r\n                };\r\n                bet.type = \"Total\";\r\n                bet.bet = \"Over\";\r\n                bet.total = over;\r\n            break;\r\n            case \"under\" : \r\n                let under = fixture.odds.main.sp.game_lines.odds[4].handicap.match(/[+-]?\\d+(\\.\\d+)?/g);\r\n\r\n                bet.odds = {\r\n                    american:convertOdds(fixture.odds.main.sp.game_lines.odds[4].odds),\r\n                    decimal:fixture.odds.main.sp.game_lines.odds[4].odds  \r\n                }\r\n                bet.type = \"Total\";\r\n                bet.bet = \"Under\";\r\n                bet.total = under\r\n            break;\r\n            default : break; \r\n        }\r\n        tmp.push(bet);\r\n        props.setBets(tmp);\r\n    }\r\n    \r\n    //Funtion to either add or remove bet to/from bets array\r\n    const handleBetClick = (fixture, bettype) => {\r\n        let tmpBets = [...props.bets];\r\n        const id = bettype+\"-\"+fixture.id;\r\n        const element = document.getElementById(id);\r\n        const index = tmpBets.map(bet => bet.id).indexOf(id);\r\n\r\n        if(index > -1){\r\n            props.removeBet(bettype+\"-\"+fixture.id)\r\n        }else{\r\n            addBet(fixture, bettype);\r\n            element.classList.add(\"selected-bet\");        \r\n        } \r\n    }\r\n\r\nreturn (\r\n    <Row>\r\n        <Col md={12}>\r\n            <Table key={props.fixtures[0].league.leagueID} responsive>\r\n                <tbody>\r\n                    <tr>\r\n                        <th>{props.league.name}</th>\r\n                    </tr>\r\n                    {props.fixtures.map(fixture=>{\r\n                        let formattedTime = props.formatTime(fixture.time);\r\n                        if(!isEmpty(fixture.odds.main.sp)){\r\n                            return (\r\n                                <tr key={fixture.id} className=\"fixtRow\">\r\n                                    <td className=\"fixtTime\">{formattedTime}</td>\r\n                                    <td className=\"nestedFixt\">\r\n                                        <Table>\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th>Fixture</th>\r\n                                                    <th>Spread</th>\r\n                                                    <th>Win</th>\r\n                                                    <th>Total</th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                                <tbody>\r\n                                                    <tr>\r\n                                                        <td>{fixture.away.name}</td>\r\n                                                        {typeof fixture.odds.main.sp.game_lines.odds[3] == 'object'  ?\r\n                                                            <td className=\"line\" id={\"away-spread-\"+fixture.id} onClick={()=>handleBetClick(fixture,\"away-spread\")}>\r\n                                                                {formatHandicap(fixture.odds.main.sp.game_lines.odds[3].handicap)+\" (\"+convertOdds(fixture.odds.main.sp.game_lines.odds[3].odds)+\")\"}\r\n                                                            </td>\r\n                                                            :\r\n                                                            <td>-</td>\r\n                                                        }\r\n                                                        {typeof fixture.odds.main.sp.game_lines.odds[5] == 'object'  ?\r\n                                                            <td className=\"line\" id={\"away-ml-\"+fixture.id} onClick={()=>handleBetClick(fixture,\"away-ml\")}>\r\n                                                                {convertOdds(fixture.odds.main.sp.game_lines.odds[5].odds)}\r\n                                                            </td>\r\n                                                            :\r\n                                                            <td>-</td>\r\n                                                        }\r\n                                                        {typeof fixture.odds.main.sp.game_lines.odds[1] == 'object'  ?\r\n                                                            <td className=\"line\" id={\"over-\"+fixture.id} onClick={()=>handleBetClick(fixture,\"over\")}>\r\n                                                                {fixture.odds.main.sp.game_lines.odds[1].handicap+\" (\"+convertOdds(fixture.odds.main.sp.game_lines.odds[1].odds)+\")\"}\r\n                                                            </td>\r\n                                                            :\r\n                                                            <td>-</td>\r\n                                                        }\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>{fixture.home.name}</td>                      \r\n                                                        {typeof fixture.odds.main.sp.game_lines.odds[0] == 'object'  ?\r\n                                                            <td className=\"line\" id={\"home-spread-\"+fixture.id} onClick={()=>handleBetClick(fixture,\"home-spread\")}>\r\n                                                                {formatHandicap(fixture.odds.main.sp.game_lines.odds[0].handicap)+\" (\"+convertOdds(fixture.odds.main.sp.game_lines.odds[0].odds)+\")\"}\r\n                                                            </td>\r\n                                                            :\r\n                                                            <td>-</td>\r\n                                                        }\r\n                                                        {typeof fixture.odds.main.sp.game_lines.odds[2] == 'object'  ?\r\n                                                            <td className=\"line\" id={\"home-ml-\"+fixture.id} onClick={()=>handleBetClick(fixture,\"home-ml\")}>\r\n                                                                {convertOdds(fixture.odds.main.sp.game_lines.odds[2].odds)}\r\n                                                            </td>\r\n                                                            :\r\n                                                            <td>-</td>\r\n                                                        }\r\n                                                        {typeof fixture.odds.main.sp.game_lines.odds[4] == 'object'  ?\r\n                                                            <td className=\"line\" id={\"under-\"+fixture.id} onClick={()=>handleBetClick(fixture,\"under\")}>\r\n                                                                {fixture.odds.main.sp.game_lines.odds[4].handicap+\" (\"+convertOdds(fixture.odds.main.sp.game_lines.odds[4].odds)+\")\"}\r\n                                                            </td> \r\n                                                            :\r\n                                                            <td>-</td>\r\n                                                        }\r\n                                                    </tr> \r\n                                                </tbody>\r\n                                        </Table>\r\n                                    </td>     \r\n                                </tr>\r\n                            )\r\n                        }else{\r\n                            return(\r\n                                <></>\r\n                            )\r\n                        }\r\n                    })}\r\n                </tbody>\r\n            </Table>\r\n        </Col>\r\n    </ Row>\r\n)\r\n}\r\n\r\nexport default FootballFixts","import React, {useState} from 'react';\r\nimport {Row, Form, Col} from 'react-bootstrap';\r\nimport '../../../../css/fixture.css';\r\nimport '../../../../css/dropdownArrow.css'\r\nimport BetSlip from '../BetSlip/BetSlip';\r\nimport formatTime from '../../../../utils/formatTime';\r\nimport FootballFixts from './Fixtures/FootballFixts';\r\n\r\nconst Book = (props) => {\r\n    // const [leagueFixtures, setLeagueFixtures] = useState([]);\r\n    const [leagueDisp, setLeaguesDisp] = useState([]);\r\n    const [bets, setBets] = useState([]);\r\n\r\n    //function to remove bet\r\n    const removeBet = (id) => {\r\n        console.log(id)\r\n        //get temp array\r\n        let tmpBets = [...bets];\r\n        //get index \r\n        const index = tmpBets.map(bet => bet.id).indexOf(id);\r\n        //get element by id\r\n        const element = document.getElementById(id);\r\n        //remove class\r\n        element.classList.remove(\"selected-bet\");     \r\n        //remove bet from array   \r\n        tmpBets.splice(index, 1);\r\n        console.log(tmpBets)\r\n        //set bets array\r\n        setBets(tmpBets);\r\n    }\r\n    //function to remove bets after submission, takes array of ids\r\n    const removeBets = (ids) => {\r\n        //get temp array\r\n        let tmpBets = [...bets];\r\n        ids.forEach(id=> {\r\n            //get index \r\n            const index = tmpBets.map(bet => bet.id).indexOf(id);\r\n            //get element by id\r\n            const element = document.getElementById(id);\r\n            //remove class\r\n            element.classList.remove(\"selected-bet\");     \r\n            //remove bet from array   \r\n            tmpBets.splice(index, 1);\r\n            console.log(tmpBets)\r\n            //set bets array\r\n        })\r\n        setBets(tmpBets);\r\n\r\n    }\r\n\r\n    return (\r\n        <Row>\r\n            <Col md={8} sm={12}>\r\n                <Form>\r\n                    <Form.Row>                    \r\n                            <Col>\r\n                                <Form.Control as=\"select\" onChange={(e)=>setLeaguesDisp(e.target.value)}>\r\n                                    <option>All Leagues</option>\r\n                                    {props.leagues.map(league=>{\r\n                                        return (\r\n                                            <option key={league.intLeagueID} value={league.intLeagueID}>{league.strLeagueName}</option>\r\n                                        )\r\n                                    })}\r\n                                </Form.Control>\r\n                            </Col>\r\n                        </Form.Row>\r\n                </Form>\r\n                {props.upcoming.map(league=>{\r\n                    let leagueobj = league.fixtures[0].league\r\n                    return(\r\n                        //Football\r\n                        parseInt(league.fixtures[0].sport_id) === 12 ?\r\n                            <FootballFixts fixtures={league.fixtures} bets={bets} removeBet={removeBet} setBets={setBets} league={leagueobj} formatTime={formatTime}/>\r\n                                :\r\n                            <></>\r\n                    )\r\n                })}\r\n            </Col>\r\n            <Col md={4} sm={12}>\r\n                <BetSlip bets={bets} removeBets={removeBets}/>\r\n            </Col>\r\n        </ Row>\r\n    )\r\n}\r\n\r\nexport default Book","import React, {} from 'react';\r\nimport formatTime from '../../utils/formatTime';\r\nimport isEmpty from '../../utils/isEmpty';\r\nimport formatHandicap from '../../utils/formatHandicap';\r\nimport stringifyOddsAndPoints from '../../utils/stringifyOddsAndPoints';\r\nimport '../../css/global/fixtures.css';\r\n\r\nconst Fixture = (props) => {\r\n    let fixt = props.fixt;\r\n    let formattedTime = formatTime(fixt.fixture.commence_time);\r\n    \r\n    //function to add bet \r\n    const addBet = (fixture, bettype) => {\r\n        let tmp = [...props.bets];\r\n        let bet = {\r\n            id : bettype+\"-\"+fixture.fixture_id,\r\n            time : fixture.fixture.commence_time,\r\n            wager: Number,\r\n            fixture : fixture.fixture.home_team+\" vs \"+fixture.fixture.away_team,\r\n            fixtureID : fixture.fixture_id\r\n        };\r\n\r\n        //Format Bet\r\n        switch (bettype){\r\n            case \"away-spread\" : \r\n                bet.bet = fixture.fixture.away_team;\r\n                bet.odds = fixture.fixture.odds.spreads.away.odds;\r\n                bet.handicap = formatHandicap(fixture.fixture.odds.spreads.away.points);\r\n                bet.type = \"Spread\";\r\n                bet.team = {\r\n                    type: \"Away\",\r\n                    name: fixture.fixture.away_team\r\n                }\r\n            break;\r\n            case \"away-ml\" : \r\n                bet.type = \"Moneyline\";\r\n                bet.bet = fixture.fixture.away_team;\r\n                bet.odds = fixture.fixture.odds.h2h.away;\r\n                bet.team = {\r\n                    type: \"Away\",\r\n                    name: fixture.fixture.away_team\r\n                }\r\n            break;\r\n            case \"home-spread\" : \r\n                bet.bet = fixture.fixture.home_team;\r\n                bet.handicap = formatHandicap(fixture.fixture.odds.spreads.home.points);\r\n                bet.odds = fixture.fixture.odds.spreads.home.odds;\r\n                bet.type = \"Spread\";  \r\n                bet.team = {\r\n                    type: \"Home\",\r\n                    name: fixture.fixture.home_team\r\n                }\r\n            break;\r\n            case \"home-ml\" : \r\n                bet.bet = fixture.fixture.home_team;\r\n                bet.odds = fixture.fixture.odds.h2h.home;\r\n                bet.type = \"Moneyline\";\r\n                bet.team = {\r\n                    type: \"Home\",\r\n                    name: fixture.fixture.home_team\r\n                }\r\n            break;\r\n            case \"over\" : \r\n                bet.odds = fixture.fixture.odds.totals.over;\r\n                bet.type = \"Total\";\r\n                bet.bet = \"Over\";\r\n                bet.total = fixture.fixture.odds.totals.points;\r\n            break;\r\n            case \"under\" : \r\n                bet.odds = fixture.fixture.odds.totals.under;\r\n                bet.type = \"Total\";\r\n                bet.bet = \"Under\";\r\n                bet.total = fixture.fixture.odds.totals.points;\r\n            break;\r\n            default : break; \r\n        }\r\n        tmp.push(bet);\r\n        props.setBets(tmp);\r\n    }\r\n\r\n    //Funtion to either add or remove bet to/from bets array\r\n    const handleBetClick = (fixt, bettype) => {\r\n        let tmpBets = [...props.bets];\r\n        const id = bettype+\"-\"+fixt.fixture_id;\r\n        const element = document.getElementById(id);\r\n        const index = tmpBets.map(bet => bet.id).indexOf(id);\r\n\r\n        if(index > -1){\r\n            props.removeBet(bettype+\"-\"+fixt.fixture_id)\r\n        }else{\r\n            addBet(fixt, bettype);\r\n            element.classList.add(\"selected-bet\");        \r\n        } \r\n    }\r\n\r\n    return (                                \r\n        <>\r\n            <tr>\r\n                <td rowSpan={2} className=\"fixtTime\">{formattedTime}</td>\r\n                <td className=\"fixtCol\">{fixt.fixture.away_team}</td>\r\n                {!isEmpty(fixt.fixture.odds.spreads) ?\r\n                    <td className=\"line\" id={\"away-spread-\"+fixt.fixture_id} onClick={()=>handleBetClick(fixt,\"away-spread\")}>{stringifyOddsAndPoints(fixt.fixture.odds.spreads.away.points) +\" (\"+stringifyOddsAndPoints(fixt.fixture.odds.spreads.away.odds)+\")\"}</td>      \r\n                        :\r\n                    <td className=\"line\"></td>\r\n                }\r\n                {!isEmpty(fixt.fixture.odds.h2h) ?\r\n                    <td  className=\"line\" id={\"away-ml-\"+fixt.fixture_id} onClick={()=>handleBetClick(fixt,\"away-ml\")} >{stringifyOddsAndPoints(fixt.fixture.odds.h2h.away)}</td>        \r\n                        :\r\n                    <td className=\"line\"></td>\r\n                }\r\n                {!isEmpty(fixt.fixture.odds.totals) ?\r\n                    <td className=\"line\" id={\"over-\"+fixt.fixture_id} onClick={()=>handleBetClick(fixt,\"over\")} >{\"O\"+fixt.fixture.odds.totals.points +\" (\"+stringifyOddsAndPoints(fixt.fixture.odds.totals.over)+\")\"}</td>       \r\n                        :\r\n                    <td className=\"line\"></td>\r\n                }\r\n            </tr> \r\n            <tr className=\"bottomFixtRow\">\r\n                <td className=\"fixtCol\">{fixt.fixture.home_team}</td>\r\n                {!isEmpty(fixt.fixture.odds.spreads) ?\r\n                    <td className=\"line\" id={\"home-spread-\"+fixt.fixture_id} onClick={()=>handleBetClick(fixt,\"home-spread\")}>{stringifyOddsAndPoints(fixt.fixture.odds.spreads.home.points) +\" (\"+stringifyOddsAndPoints(fixt.fixture.odds.spreads.home.odds)+\")\"}</td>      \r\n                        :\r\n                    <td className=\"line\"></td>\r\n                }\r\n                {!isEmpty(fixt.fixture.odds.h2h) ?\r\n                    <td className=\"line\" id={\"home-ml-\"+fixt.fixture_id} onClick={()=>handleBetClick(fixt,\"home-ml\")}>{stringifyOddsAndPoints(fixt.fixture.odds.h2h.home)}</td>        \r\n                        :\r\n                    <td className=\"line\"></td>\r\n                }\r\n                {!isEmpty(fixt.fixture.odds.totals) ?\r\n                    <td className=\"line\" id={\"under-\"+fixt.fixture_id} onClick={()=>handleBetClick(fixt,\"under\")}>{\"U\"+fixt.fixture.odds.totals.points +\" (\"+stringifyOddsAndPoints(fixt.fixture.odds.totals.under)+\")\"}</td>       \r\n                        :\r\n                    <td className=\"line\"></td>\r\n                }\r\n            </tr> \r\n            <tr className=\"spacer\"></tr>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Fixture","import React, { useState, useEffect } from 'react';\r\nimport {Tabs, Tab, Spinner, Form, Col} from 'react-bootstrap';\r\nimport Leaderboard from '../individual/ActiveContest/Leaderboard';\r\nimport SettledBets from '../individual/ActiveContest/bets/SettledBets';\r\nimport OpenBets from '../individual/ActiveContest/bets/OpenBets';\r\nimport Book from '../individual/ActiveContest/Book/Book';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\nimport isEmpty from '../../utils/isEmpty';\r\nimport formatCurrency from '../../utils/formatCurrency';\r\n\r\nconst LiveContest = (props) => {\r\n    const match = useRouteMatch();\r\n    const [display, setDisplay] = useState(false);\r\n    const [activeTab, setActiveTab] = useState('book');\r\n\r\n    //Function to run on render and fetch contest + contestLeagues + contestBets\r\n    useEffect(()=>{\r\n        const fetchContest = async () => {\r\n            const response = await fetch('https://api.lineleaders.net/contests/byID?id='+match.params.contestid);\r\n            const data = await response.json();\r\n            props.setContest(data)\r\n            fetchBets();\r\n        }\r\n        const fetchLeagues = async () =>{\r\n            const response = await fetch('https://api.lineleaders.net/contests/contestLeagues/byID?id='+match.params.contestid);\r\n            const data = await response.json();\r\n            props.setLeagues(data)\r\n        }\r\n        \r\n        const fetchBets = async ()=> {\r\n            const response = await fetch('https://api.lineleaders.net/bets/byEntry?entryid='+match.params.entryid);\r\n            const bets = await response.json();\r\n            //separate into open and settled and set redux state\r\n            let open = [];\r\n            let settled = [];\r\n\r\n            bets.forEach(bet=>{\r\n                if(bet.result === \"W\"|| bet.result === \"L\" || bet.Result ===\"P\"){\r\n                    settled.push(bet);\r\n                }else{\r\n                    open.push(bet);\r\n                }\r\n            })\r\n            props.setOpenBets(open);\r\n            props.setSettledBets(settled);\r\n        }\r\n\r\n\r\n        \r\n        fetchContest();\r\n        fetchLeagues();\r\n        fetch_leaderboards();\r\n    },[])\r\n    \r\n    //Function to fetch leaderboards\r\n    const fetch_leaderboards = async() => {\r\n        const response = await fetch('https://api.lineleaders.net/contests/leaderboards/?id='+match.params.contestid);\r\n        let leaderboards = await response.json();\r\n        if(leaderboards.length > 0){\r\n            props.setLeaderboards(leaderboards)\r\n        }\r\n    }\r\n\r\n    //funciton to separate into upcoming and inplay fixtures by leagues\r\n    const organizeFixtures = (leagueFixts) => {\r\n        let upcoming = [];\r\n        let inplay = [];\r\n\r\n        leagueFixts.forEach(league=>{\r\n            //add new league fixts objects to upcoming and inplay arrays\r\n            upcoming.push({\r\n                leagueID: league.leagueID,\r\n                fixtures: []\r\n            });\r\n\r\n            inplay.push({\r\n                leagueID: league.leagueID,\r\n                fixtures: []\r\n            })\r\n\r\n            //sort league fixtures into upcoming and inplay\r\n            league.fixtures.forEach(fixt=>{\r\n                //upcoming\r\n                if(fixt.time_status == 0){\r\n                    let upcIndex = upcoming.findIndex(lf=> parseInt(lf.leagueID) === parseInt(league.leagueID));\r\n                    upcoming[upcIndex].fixtures.push(fixt)\r\n                //inplay\r\n                }else{\r\n                    let inpIndex = inplay.findIndex(lf=> parseInt(lf.leagueID) === parseInt(league.leagueID));\r\n                    inplay[inpIndex].fixtures.push(fixt)\r\n                } \r\n            })\r\n        })\r\n        //set upcoming and inplay\r\n        props.setUpcoming(upcoming);\r\n        props.setInplay(inplay);\r\n        setDisplay(true);\r\n    }\r\n\r\n    //run whenever leagues or contest is set, if contest is not empty fetch fixtures by league w/ time frame\r\n    useEffect(()=>{\r\n        if(!isEmpty(props.contest)){\r\n            const fetchFixtures = async() => {\r\n                let leagueIds = props.leagues.map(league=>{\r\n                    return league.intLeagueID\r\n                });\r\n\r\n                if(leagueIds.length > 0){  \r\n                    //api parameters to get fixtures\r\n                    let body = {\r\n                        leagueIDs: [leagueIds],\r\n                        start:props.contest.dtmStart,\r\n                        end: props.contest.dtmEnd\r\n                    }\r\n                    const url ='https://api.lineleaders.net/fixtures/byLeagues/withTimeFrame'\r\n                    const options = {\r\n                        method:'POST',\r\n                        headers:{\r\n                            'Content-Type': 'application/json;charset=UTF-8'\r\n                        }, \r\n                        body: JSON.stringify(body)\r\n                    }\r\n                    //call api\r\n                    const response = await fetch(url, options);\r\n                    const leagueFixts = await response.json();\r\n                    //organize fixtures and set upcoming + inplay\r\n                    organizeFixtures(leagueFixts);\r\n                }\r\n            }\r\n            fetchFixtures();        \r\n        }\r\n    },[props.leagues, props.contest])\r\n\r\n\r\n    //Run on settled bets change, calculate bankroll and update store\r\n    useEffect(()=>{\r\n        //calculate bankroll\r\n        let bankroll = 0;\r\n        props.settledBets.forEach(bet=>{\r\n            //update bankroll\r\n            if(bet.result === \"W\" ){\r\n                let win = parseFloat(bet.odds - 1);\r\n                win = (win * parseFloat(bet.wager));\r\n                bankroll = bankroll +  win;\r\n            }else if(bet.result === \"L\" ){\r\n                bankroll = bankroll - parseFloat(bet.wager);\r\n            }else if(bet.result === \"P\" ) return;\r\n        })\r\n        props.setBankroll(parseFloat(bankroll).toFixed(2));\r\n    },[props.settledBets])\r\n\r\n    //Run on open bets or bankroll change, calculate available \r\n    useEffect(()=>{\r\n        if(!isNaN(props.bankroll)){\r\n            let available = parseFloat(props.bankroll) + parseFloat(props.contest.decInitialBankRoll);\r\n            props.openBets.forEach(bet=>{\r\n                available = available - parseFloat(bet.wager)    \r\n            })\r\n            props.setAvailable(available)\r\n        }\r\n    },[props.openBets, props.bankroll])\r\n\r\n    if(Object.getOwnPropertyNames(props.contest).length > 0 && display===true){ \r\n        return (\r\n            <>\r\n                <h3>{props.contest.strContestName}</h3>\r\n                <br/><b>Available:</b> {formatCurrency(props.available)}\r\n                <b> Bankroll:</b> {formatCurrency(props.bankroll)}\r\n                {/* Display when screens are md or smaller */}\r\n                <Form className=\"hidden-lg\">\r\n                    <Form.Row>                    \r\n                            <Col>\r\n                                <Form.Control as=\"select\" onChange={(e)=>setActiveTab(e.target.value)}>\r\n                                    <option key=\"book\" value=\"book\">Book</option>\r\n                                    <option key=\"open\" value=\"open\">{\"Open (\"+props.openBets.length+\")\"}</option>\r\n                                    <option key=\"settled\" value=\"settled\">Settled</option>\r\n                                    <option key=\"leaderboard\" value=\"leaderboard\">Leaderboard</option>\r\n                                </Form.Control>\r\n                            </Col>\r\n                        </Form.Row>\r\n                </Form>\r\n                {/* Display when screens are large */}\r\n                <Tabs fill activeKey={activeTab} onSelect={(k)=>setActiveTab(k)} id=\"contestsTab\" className=\"hidden-md\">\r\n                    <Tab eventKey=\"book\" title=\"BOOK\">\r\n                        <Book leagues={props.leagues} inplay={props.inplayFixts} upcoming={props.upcomingFixts} /> \r\n                    </Tab>\r\n                    <Tab eventKey=\"open\" title={\"OPEN (\"+props.openBets.length+\")\"}>\r\n                        <OpenBets />\r\n                    </Tab>\r\n                    <Tab eventKey=\"settled\" title=\"SETTLED\">\r\n                        <SettledBets />\r\n                    </Tab>\r\n                    <Tab eventKey=\"leaderboard\" title=\"LEADERBOARD\">\r\n                        <Leaderboard />\r\n                    </Tab>\r\n                </Tabs>\r\n                \r\n            </>\r\n        )\r\n    }else return (\r\n        <>\r\n            <Spinner animation=\"border\"/>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n      contest: state.contest.contest,\r\n      leaderboards: state.contest.leaderboards,\r\n      entryID: state.contest.entryID,\r\n      bankroll: state.contest.bankroll,\r\n      available: state.contest.available,\r\n      openBets: state.contest.openBets, \r\n      settledBets: state.contest.settledBets,\r\n      leagues: state.contest.leagues,\r\n      upcomingFixts: state.contest.upcomingFixts,\r\n      inplayFixts: state.contest.inplayFixts\r\n    }\r\n  }\r\n  \r\n  const mapDispatchToProps = ( dispatch ) => {\r\n    return{\r\n      setContest: contest => { dispatch({type: 'SET_CONTEST', contest: contest })},\r\n      setEntryID: id => { dispatch({type: 'SET_ENTRY_ID', ID: id })},      \r\n      setAvailable: avaialable => { dispatch({type: 'SET_AVAILABLE', available: avaialable })},\r\n      setBankroll: bankroll => { dispatch({type: 'SET_BANKROLL', bankroll: bankroll })},\r\n      setOpenBets: bets => { dispatch({type: 'SET_OPEN_BETS', bets: bets })},      \r\n      setSettledBets: bets => { dispatch({type: 'SET_SETTLED_BETS', bets: bets })},\r\n      setLeagues: leagues => { dispatch({type: 'SET_LEAGUES', leagues:leagues})},\r\n      setUpcoming: upcoming => {dispatch({type: 'SET_UPCOMING', upcoming:upcoming})},\r\n      setInplay: inplay => {dispatch({type: 'SET_INPLAY', inplay:inplay})},\r\n      setLeaderboards: leaderboards => {dispatch({type: 'SET_LEADERBOARDS', leaderboards:leaderboards})}\r\n    }\r\n  }\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LiveContest);\r\n","import React, {useState, useEffect} from 'react';\r\nimport {Col, Form, Table} from 'react-bootstrap';\r\nimport formatTime from '../../../utils/formatTime';\r\nimport stringifyOddsAndPoints from '../../../utils/stringifyOddsAndPoints';\r\n\r\nconst Bet = (props) => {\r\n    const [risk, setRisk] = useState(\"\");\r\n    const [win, setWin] = useState(\"\");\r\n    const bet = props.bet;\r\n    //index of bet in array\r\n    const i = props.i;\r\n\r\n    //Run whenever risk is set, set win variable and setWager on bet in array \r\n    useEffect(()=>{\r\n        if(risk !== \"\"){\r\n            let odds = parseFloat(bet.odds);\r\n            let tmpRisk = parseFloat(risk);\r\n            let tmpWin;\r\n            if(odds > 0){\r\n                tmpWin = parseFloat(tmpRisk*parseFloat(odds)/100).toFixed(2);\r\n            }else{\r\n                odds = Math.abs(odds);\r\n                let denom = odds/100;\r\n                tmpWin = parseFloat(tmpRisk/ denom).toFixed(2);\r\n            }\r\n            setWin(tmpWin);\r\n        }else{\r\n            setWin(\"\")\r\n        }\r\n\r\n        props.addWager(bet.id, risk)\r\n\r\n    },[risk])\r\n\r\n    //Function to toggle bet details \r\n    const toggleDetails = (i) => {\r\n        let detailRows = document.getElementsByClassName(\"betDetails\"+i);\r\n        let arrow = document.getElementById(\"arrow\"+i);\r\n\r\n        for(let i =0; i < detailRows.length; i++){\r\n            if(detailRows[i].style.display === 'none'){\r\n                detailRows[i].style.display = '';\r\n                arrow.classList.remove(\"right\");\r\n                arrow.classList.add(\"down\");\r\n            }else{\r\n                detailRows[i].style.display = 'none';\r\n                arrow.classList.remove(\"down\");\r\n                arrow.classList.add(\"right\");\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Table className=\"bet\">\r\n            <tbody>\r\n                <tr>\r\n                    {(bet.type === \"Spread\") ? \r\n                        <td onClick={()=>toggleDetails(i)}><i className=\"arrow down\" id={\"arrow\"+i} ></i> {bet.bet+\" \"+stringifyOddsAndPoints(bet.handicap) + \" (\"+stringifyOddsAndPoints(bet.odds)+\")\"}</td>\r\n                    : \r\n                    (bet.type === \"Total\") ?\r\n                        <td onClick={()=>toggleDetails(i)}><i className=\"arrow down\" id={\"arrow\"+i} ></i> {bet.bet+\" \"+bet.total + \" (\"+stringifyOddsAndPoints(bet.odds)+\")\"} </td>\r\n                    :\r\n                        <td onClick={()=>toggleDetails(i)}><i className=\"arrow down\" id={\"arrow\"+i} ></i> {bet.bet + \" (\"+stringifyOddsAndPoints(bet.odds)+\")\"}</td>\r\n                    }\r\n                    <td className=\"odds\">{bet.odds.american} <i onClick={()=>props.removeBets([bet.id])}>&times;</i></td> \r\n                </tr>\r\n                <tr>\r\n                    <td colSpan={2}>{bet.type}</td>\r\n                </tr>\r\n                <tr className={\"betDetails\"+i}>\r\n                    <td  colSpan={2}>{bet.fixture}</td>\r\n                </tr>\r\n                <tr className={\"betDetails\"+i}>\r\n                    <td colSpan={2}>{formatTime(bet.time)}</td>\r\n                </tr>\r\n                {props.slipType === \"Straight\" ? \r\n                    <tr>\r\n                        <td colSpan={2}>\r\n                            <Form>\r\n                                <Form.Row>\r\n                                    <Form.Group as={Col}>\r\n                                        <Form.Control type=\"number\" placeholder=\"Risk\" value={risk} onChange={(e)=>setRisk(e.target.value)}/>\r\n                                    </Form.Group> \r\n                                    <Form.Group as={Col}>\r\n                                        <Form.Control type=\"text\"  tabIndex=\"-1\" placeholder=\"Win\" value={win} readOnly/>\r\n                                    </Form.Group> \r\n                                </Form.Row>\r\n                            </Form>\r\n                        </td>   \r\n                    </tr>\r\n                    :\r\n                    <></>\r\n                }    \r\n            </tbody>\r\n        </Table>    \r\n    )\r\n}\r\n\r\nexport default Bet","import React from 'react'\r\nimport {Modal, Button} from 'react-bootstrap';\r\n\r\n/* \r\nComponent takes following props\r\nshow - boolean to show or hide modal\r\nclose - function to set parent variable that handles display of modal to false\r\naction - call back funtion to action on clicking button\r\nbuttonText - text to display on button\r\nmessage - title text for modal\r\n*/\r\n\r\nconst ConfirmationModal = (props) => {\r\n    return (\r\n        <Modal show={props.show} onHide={props.close}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>{props.message}</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={props.close}>\r\n                    Close\r\n                </Button>\r\n                <Button variant=\"primary\" onClick={props.action}>\r\n                    {props.buttonText}\r\n                </Button>\r\n                </Modal.Footer>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default ConfirmationModal","import React, { useState } from 'react';\r\nimport {Card, Button, Alert} from 'react-bootstrap';\r\nimport '../../../css/betslip.css'\r\nimport Bet from './Bet';\r\nimport {model, ML, Spread, Total, Leg} from '../../../models/bet/bet';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\nimport ConfirmationModal from '../../shared/ConfirmationModal';\r\n\r\nconst BetSlip = (props) => {\r\n    const match = useRouteMatch();\r\n    const [error, setError] = useState();\r\n    const [showConfirm, setShowConfirm] = useState(false);\r\n    let bets = props.bets;\r\n    //State variable to hold slip type (straight, parlay, etc.)\r\n    const [slipType, setSlipType] = useState(\"Straight\")\r\n    const [records, setRecords] = useState([]);\r\n\r\n    //add wager amount to Straight bet \r\n    const addWager = (id, wager) => {\r\n        //find index\r\n        const index = bets.map(bet => bet.id).indexOf(id);\r\n        let tmpBets = bets;\r\n        tmpBets[index].wager = wager;\r\n        bets = tmpBets;\r\n    }\r\n\r\n    //Function to format straight bets in records for db storage\r\n    const formatStraightBet = (bet) =>{\r\n        //create instance of bet model obj and add properties\r\n        let betModel = {...model};\r\n        betModel.type = slipType;\r\n        betModel.wager = bet.wager;\r\n        betModel.odds = bet.odds;\r\n        betModel.result = \"\";\r\n        \r\n        //create instance of leg obj \r\n        let leg = {...Leg};\r\n\r\n        let legType = bet.type;\r\n        if(legType === \"Spread\"){\r\n            //create instance of spread line object \r\n            let spread = {...Spread}; \r\n            spread.team = {...spread.team}\r\n            spread.team.type = bet.team.type;\r\n            spread.team.name = bet.team.name;\r\n            spread.line = bet.handicap;\r\n            leg.fixture = {...leg.fixture}\r\n            leg.fixture.fixtureID = bet.fixtureID; \r\n            leg.fixture.fixture = bet.fixture; \r\n            leg.fixture.time = bet.time; \r\n            leg.line = spread;\r\n            leg.odds = bet.odds;\r\n            leg.result =\"\";\r\n        }else if(legType === \"Moneyline\"){\r\n            //create instance of ML line object\r\n            let ml = {...ML}; \r\n            ml.team = {...ml.team}\r\n            ml.team.type = bet.team.type;\r\n            ml.team.name = bet.team.name;\r\n            leg.fixture = {...leg.fixture}\r\n            leg.fixture.fixtureID = bet.fixtureID; \r\n            leg.fixture.fixture = bet.fixture; \r\n            leg.fixture.time = bet.time;             \r\n            leg.line = ml;\r\n            leg.odds = bet.odds; \r\n            leg.result =\"\";       \r\n        }else if(legType === \"Total\"){\r\n            //create instance of Total line object\r\n            let total = {...Total}; \r\n            total.bet = bet.bet;\r\n            total.line = bet.total;\r\n            leg.fixture = {...leg.fixture}\r\n            leg.fixture.fixtureID = bet.fixtureID; \r\n            leg.fixture.fixture = bet.fixture; \r\n            leg.fixture.time = bet.time; \r\n            leg.line = total;\r\n            leg.odds = bet.odds;\r\n            leg.result =\"\";\r\n        }\r\n\r\n        return {\r\n            account_id: props.user_id,\r\n            jsonBet: betModel,\r\n            leg: leg\r\n        };\r\n    }\r\n\r\n    //function to validate and confirm bets, then confirm placements of bets\r\n    const validateBets = async() => {\r\n        //check to make sure all bets contain valid wagers and combine wagers from all bets\r\n        let totalWagered = 0;\r\n        //object to hold error\r\n        let error = {\r\n            isError: false,\r\n            message: String\r\n        }\r\n\r\n        await bets.forEach(bet=>{\r\n            if(bet.wager > 0){\r\n                totalWagered = totalWagered + parseFloat(bet.wager);\r\n            }else{\r\n                error.isError = true;\r\n                error.message =\"Please enter a valid wager amount for all bets\";\r\n            }\r\n        })\r\n\r\n        //check for error and either insert bets or display error message\r\n        if(error.isError === true){\r\n            setError(<Alert variant='danger'>{error.message}</Alert>)\r\n            return;\r\n        }else{\r\n            //clear any error message, display confirmation box\r\n            setError();\r\n            setShowConfirm(true);\r\n\r\n            //determine type of bet(s) - straight,parlay,etc.\r\n            if(slipType === \"Straight\"){\r\n                let tmpRecords = [];\r\n                //format each bet and set records state array\r\n                bets.forEach(bet=>{\r\n                    let tmpModel = formatStraightBet(bet)\r\n                    tmpRecords.push(tmpModel);\r\n                })\r\n                \r\n                setRecords(tmpRecords);\r\n            }\r\n        }   \r\n    }\r\n\r\n    //Function to insert records into the database\r\n    const insertBetRecords = async() => {\r\n        //close modal\r\n        setShowConfirm(false);\r\n\r\n        //api parameters to create bets\r\n        const body = {\r\n            bets: records\r\n        }\r\n\r\n        const url ='https://api.lineleaders.net/bets/createPersonal';\r\n        const options = {\r\n            method:'POST',\r\n            headers:{\r\n                'Content-Type': 'application/json;charset=UTF-8'\r\n            }, \r\n            body: JSON.stringify(body)\r\n        }\r\n\r\n        //call api and check res code\r\n        let response = await fetch(url, options);\r\n        let json = await response.json();\r\n\r\n        //if resources have been created, clear bets array\r\n        if(json.code === 201){\r\n            let ids = [];\r\n            bets.forEach(bet=>{\r\n                ids.push(bet.id);\r\n            })    \r\n            props.removeBets(ids);\r\n        }\r\n    }\r\n\r\n    //Function to handle cancellation of bet submission\r\n    const handleCancellation = () => {\r\n        setRecords([]);\r\n        setShowConfirm(false);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Card >\r\n                <Card.Header>Bet Slip</Card.Header>\r\n                <Card.Body>\r\n                    {bets.map((bet, i)=>{\r\n                    return(\r\n                            <Bet key={bet.bet+bet.id} bet={bet} i={i} removeBets={props.removeBets} slipType={slipType} addWager={addWager}/>\r\n                        )\r\n                    })}\r\n                </Card.Body>\r\n                <Card.Footer>\r\n                    {error}\r\n                    <Button onClick={()=>validateBets()} variant=\"primary\">Place Bet(s)</Button>\r\n                </Card.Footer>\r\n            </Card>\r\n            <ConfirmationModal close={handleCancellation} show={showConfirm} action={insertBetRecords} buttonText=\"Yes\" message={\"Are you ready to place your bets?\"}/>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user_id: state.user.ID,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(BetSlip);","import React, {useEffect, useState} from 'react'\r\nimport Fixture from './Fixture';\r\nimport {Table, Row, Col} from 'react-bootstrap';\r\nimport BetSlip from './BetSlip/BetSlip';\r\n\r\nimport '../../css/global/fixtures.css';\r\nconst Book = () => {\r\n    const [book, setBook] = useState([]);\r\n    const [bets, setBets] = useState([]);\r\n\r\n    useEffect(()=>{\r\n        const fetchBook = async() =>{\r\n            const response = await fetch('https://api.lineleaders.net/fixtures/getBook');\r\n            const data = await response.json();\r\n            setBook(data);\r\n        }\r\n\r\n        fetchBook();\r\n    },[])\r\n\r\n    //organize by league\r\n    useEffect(()=>{\r\n\r\n    },[])\r\n\r\n    //function to remove a single bet\r\n    const removeBet = (id) => {\r\n        console.log(id)\r\n        //get temp array\r\n        let tmpBets = [...bets];\r\n        //get index \r\n        const index = tmpBets.map(bet => bet.id).indexOf(id);\r\n        //get element by id\r\n        const element = document.getElementById(id);\r\n        //remove class\r\n        element.classList.remove(\"selected-bet\");     \r\n        //remove bet from array   \r\n        tmpBets.splice(index, 1);\r\n        console.log(tmpBets)\r\n        //set bets array\r\n        setBets(tmpBets);\r\n    }\r\n\r\n    //function to remove bets after submission, takes array of ids\r\n    const removeBets = (ids) => {\r\n        //get temp array\r\n        let tmpBets = [...bets];\r\n        ids.forEach(id=> {\r\n            //get index \r\n            const index = tmpBets.map(bet => bet.id).indexOf(id);\r\n            //get element by id\r\n            const element = document.getElementById(id);\r\n            //remove class\r\n            element.classList.remove(\"selected-bet\");     \r\n            //remove bet from array   \r\n            tmpBets.splice(index, 1);\r\n            console.log(tmpBets)\r\n            //set bets array\r\n        })\r\n        setBets(tmpBets);\r\n    }\r\n\r\n    return (\r\n        <Row>\r\n            <Col md={8} sm={12}> \r\n                <Table className=\"fixtureTable\" responsive>\r\n                    <thead className=\"fixtHeader\">\r\n                        <tr>\r\n                            <th className=\"timeHeader\"></th>\r\n                            <th className=\"fixtCol\">Fixture</th>\r\n                            <th className=\"lineCol\">Spread</th>\r\n                            <th className=\"lineCol\">Win</th>\r\n                            <th className=\"lineCol\">Total</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {book.map(fixt=>{\r\n                            return <Fixture key={fixt.fixture_id} fixt={fixt} bets={bets} setBets={setBets} removeBet={removeBet}/>\r\n                        })}\r\n                    </tbody>  \r\n                </Table>\r\n\r\n            </Col>\r\n            <Col md={4} sm={12}>\r\n                <BetSlip bets={bets} removeBets={removeBets} />\r\n            </Col>\r\n        </Row>   \r\n    )\r\n}\r\n\r\nexport default Book","import React from 'react';\nimport './App.css';\nimport { useAuth0 } from \"./react-auth0-spa\";\nimport { Router, Route, Switch } from \"react-router-dom\";\nimport history from \"./utils/history\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'react-widgets/dist/css/react-widgets.css';\nimport {Container, Row} from 'react-bootstrap';\nimport './css/global/media.css'\nimport './css/global/global.css'\n\n//Components\nimport NavBar from './components/individual/NavBar'; \nimport Profile from './components/pages/Profile';\nimport PrivateRoute from './components/individual/PrivateRoute';\nimport AdminPage from './components/pages/Admin';\nimport ContestsPage from './components/pages/ContestsPage';\nimport Lobby from './components/pages/LobbyPage';\nimport LiveContest from './components/pages/LiveContest';\nimport Book from './social/Book/Book';\n\nfunction App() {\n  const { loading } = useAuth0();\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n  return (\n    <Container className=\"App\">\n      <Router history={history}>\n        <Row>\n          <NavBar />\n        </Row>\n          <Switch>\n            <Route exact path=\"/\"/>\n            <Route path=\"/book\" component={Book} />\n            <PrivateRoute path=\"/profile\" component={Profile} />\n            <PrivateRoute path=\"/admin\" component={AdminPage} /> \n\n            {/* <PrivateRoute path=\"/lobby\" component={Lobby} />\n            <PrivateRoute path=\"/contests\" component={ContestsPage} />\n            <PrivateRoute path=\"/live-contest/:contestid/entry/:entryid\" component={LiveContest} />  */}\n          </Switch>\n      </Router>\n    </Container>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const initValues  = {\r\n    ID: null, \r\n    username: '',\r\n    balance: null,\r\n    permissions:  [],\r\n    openBets: [],    \r\n    settledBets: []\r\n}\r\n\r\nconst userReducer = (state = initValues, action) =>{\r\n    switch(action.type){\r\n        case 'SET_USER_ID': {\r\n            state = {...state, ID: action.ID};\r\n            break;\r\n        }\r\n        case 'SET_PERMISSIONS': {\r\n            state =  {...state, permissions: action.permissions};\r\n            break;\r\n        }\r\n        case 'SET_USER_USERNAME': {\r\n            state = {...state, username: action.username}\r\n            break;\r\n        }\r\n        case 'SET_USER_BALANCE': {\r\n            state = {...state, balance: action.balance}\r\n            break;\r\n        }\r\n        case 'SET_OPEN_BETS': {\r\n            state =  {...state, openBets: action.bets};\r\n            break;\r\n        }\r\n        case 'SET_SETTLED_BETS': {\r\n            state =  {...state, settledBets: action.bets};\r\n            break;\r\n        }\r\n        default : break;\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default userReducer;","const initValues  = {\r\n    contest: {}, \r\n    leaderboards:[],\r\n    openBets: [],    \r\n    settledBets: [],\r\n    entryID: null,\r\n    bankroll: null,\r\n    available: null,\r\n    leagues: [],\r\n    upcomingFixts:[],\r\n    inplayFixts:[]\r\n}\r\n\r\nconst contestReducer = (state = initValues, action) =>{\r\n    switch(action.type){\r\n        case 'SET_CONTEST': {\r\n            state = {...state, contest: action.contest};\r\n            break;\r\n        }\r\n        case 'SET_OPEN_BETS': {\r\n            state =  {...state, openBets: action.bets};\r\n            break;\r\n        }\r\n        case 'SET_SETTLED_BETS': {\r\n            state =  {...state, settledBets: action.bets};\r\n            break;\r\n        }\r\n        case 'SET_ENTRY_ID': {\r\n            state =  {...state, entryID: action.bets};\r\n            break;\r\n        }\r\n        case 'SET_BANKROLL': {\r\n            state =  {...state, bankroll: action.bankroll};\r\n            break;\r\n        }\r\n        case 'SET_AVAILABLE': {\r\n            state =  {...state, available: action.available};\r\n            break;\r\n        }\r\n        case 'SET_LEAGUES': {\r\n            state = {...state, leagues: action.leagues}\r\n        }\r\n        case 'SET_UPCOMING': {\r\n            state = {...state, upcomingFixts: action.upcoming}\r\n        }\r\n        case 'SET_INPLAY': {\r\n            state = {...state, inplayFixts: action.inplay}\r\n        }\r\n        case 'SET_LEADERBOARDS': {\r\n            if(typeof action.leaderboards !== \"undefined\"){\r\n                state = {...state, leaderboards: action.leaderboards}\r\n            }\r\n        }\r\n        default : break; \r\n    }\r\n    return state;\r\n}\r\n\r\nexport default contestReducer;","import {combineReducers} from \"redux\";\r\nimport userReducer  from './userReducer';\r\nimport contestReducer from './contestReducer';\r\n\r\nconst reducers = combineReducers({\r\n    user: userReducer,\r\n    contest: contestReducer\r\n})\r\n\r\nexport default reducers;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Auth0Provider } from \"./react-auth0-spa\";\nimport config from \"./auth_config.json\";\nimport history from \"./utils/history\";\nimport {createStore} from \"redux\";\nimport reducer from './redux/reducer';\nimport {Provider} from \"react-redux\";\n//create Redux store\nconst store = createStore(reducer);\n\n// A function that routes the user to the right place\n// after login\nconst onRedirectCallback = appState => {\n  history.push(\n    appState && appState.targetUrl\n      ? appState.targetUrl\n      : window.location.pathname\n  );\n};\n\nReactDOM.render(\n  <Auth0Provider\n    domain={config.domain}\n    client_id={config.clientId}\n    redirect_uri={window.location.origin}\n    audience={config.audience} \n    onRedirectCallback={onRedirectCallback}\n  >\n    <Provider store={store}>\n        <App />\n    </Provider>\n  </Auth0Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}